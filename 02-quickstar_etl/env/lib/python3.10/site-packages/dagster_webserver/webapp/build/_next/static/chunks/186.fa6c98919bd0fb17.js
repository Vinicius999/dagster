"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[186],{27359:function(n,e,t){t.d(e,{Z:function(){return x}});var r=t(52322),i=t(42033),s=t(2736),o=t(17577),a=t(2784),c=t(7334),l=t(8181),u=t(83694),d=t(37842),h=t(83221),p=t(16369),f=t(87093),x=a.memo(function(n){var e,t=n.name,x=n.run,m=n.showHover,g=n.showButton,j=n.showSummary,v=void 0===j||j,y=x.status,b=a.useMemo(function(){switch(y){case c.VOA.SUCCESS:return"success";case c.VOA.CANCELED:case c.VOA.CANCELING:case c.VOA.FAILURE:return"danger";default:return"none"}},[y]);return(0,r.jsxs)(s.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-start",gap:16},children:[(0,r.jsxs)(s.x,{flex:{direction:"column",alignItems:"flex-start",gap:4},children:[(0,r.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(e=(0,r.jsx)(i.V,{intent:b,children:(0,r.jsxs)(s.x,{flex:{direction:"row",alignItems:"center",gap:4},children:[(0,r.jsx)(l.K9,{status:x.status,size:10}),(0,r.jsx)(h.Zr,{run:x})]})}),void 0!==m&&m?(0,r.jsx)(o.J,{position:"top",interactionKind:"hover",content:(0,r.jsx)("div",{children:(0,r.jsx)(u.qL,{run:x,name:t})}),hoverOpenDelay:100,children:e}):e),v?(0,r.jsx)(h.Tw,{run:x}):null]}),v&&(d.hd.has(x.status)||d.Ys.has(x.status))?(0,r.jsx)(f.I,{runId:x.id}):void 0]}),void 0===g||g?(0,r.jsx)(p.A,{to:"/runs/".concat(x.id),children:"View run"}):null]})})},87093:function(n,e,t){t.d(e,{I:function(){return m}});var r=t(73235),i=t(52322),s=t(40794),o=t(60138),a=t(19369),c=t(87323),l=t(19126),u=t.n(l),d=t(2784),h=t(47933),p=t(7334),f=t(37842);function x(){var n=(0,r._)(["\n  query StepSummaryForRunQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n        stepStats {\n          endTime\n          stepKey\n          status\n        }\n      }\n    }\n  }\n"]);return x=function(){return n},n}var m=function(n){var e=n.runId,t=(0,s.a)(g,{variables:{runId:e}}).data,r=null==t?void 0:t.pipelineRunOrError,o=(null==r?void 0:r.__typename)==="Run"?r.status:null,l=d.useMemo(function(){if((null==r?void 0:r.__typename)!=="Run")return[];var n=r.status;return f.hd.has(n)?r.stepStats.filter(function(n){return n.status===p.SGm.FAILURE}):f.Ys.has(n)?r.stepStats.filter(function(n){return n.status===p.SGm.IN_PROGRESS}):[]},[r]),x=l.length;if(!x||!o)return null;if(f.hd.has(o)){if(1===x){var m=l[0],j=m.endTime?u().stringify({focusedTime:Math.floor(1e3*m.endTime)},{addQueryPrefix:!0}):"";return(0,i.jsxs)(a.YS,{color:c.w.Gray500,children:["Failed at ",(0,i.jsx)(h.rU,{to:"/runs/".concat(e).concat(j),children:m.stepKey})]})}return(0,i.jsxs)(a.YS,{color:c.w.Gray500,children:["Failed at ",(0,i.jsxs)(h.rU,{to:"/runs/".concat(e),children:[x," steps"]})]})}if(f.Ys.has(o)){if(1===x){var v=l[0],y=v.endTime?u().stringify({focusedTime:Math.floor(1e3*v.endTime)},{addQueryPrefix:!0}):"";return(0,i.jsxs)(a.YS,{color:c.w.Gray500,children:["In progress at ",(0,i.jsx)(h.rU,{to:"/runs/".concat(e).concat(y),children:v.stepKey})]})}return(0,i.jsxs)(a.YS,{color:c.w.Gray500,children:["In progress at ",(0,i.jsxs)(h.rU,{to:"/runs/".concat(e),children:[x," steps"]})]})}return null},g=(0,o.Ps)(x())},98099:function(n,e,t){t.d(e,{V2:function(){return W},WH:function(){return H},qG:function(){return Z}});var r=t(81862),i=t(58467),s=t(73235),o=t(22970),a=t(52322),c=t(33379),l=t(60138),u=t(92914),d=t(17577),h=t(55829),p=t(70399),f=t(72096),x=t(2784),m=t(7267),g=t(8848),j=t(67953),v=t(14590),y=t(7334),b=t(47424),w=t(80572),S=t(88794),k=t(22206),C=t(29545),_=t(61018),N=t(30895);function E(){var n=(0,s._)(["\n  fragment BackfillStepStatusDialogBackfillFragment on PartitionBackfill {\n    id\n    partitionNames\n    partitionSet {\n      name\n      pipelineName\n      repositoryOrigin {\n        repositoryName\n        repositoryLocationName\n      }\n    }\n  }\n"]);return E=function(){return n},n}function P(n){return!!n&&null!==n.partitionSet&&null!==n.partitionNames}var I=function(n){var e=n.backfill,t=n.onClose;return(0,a.jsxs)(w.Vq,{isOpen:!!(null==e?void 0:e.partitionSet),title:"Step status for backfill: ".concat(null==e?void 0:e.id),onClose:t,style:{width:"80vw"},children:[function(){if(!P(e))return null;var n=(0,_.kQ)(e.partitionSet.repositoryOrigin.repositoryName,e.partitionSet.repositoryOrigin.repositoryLocationName);return(0,a.jsx)(T,{backfill:e,partitionSet:e.partitionSet,partitionNames:e.partitionNames,repoAddress:n,onClose:t})}(),(0,a.jsx)(w.cN,{topBorder:!0,children:(0,a.jsx)(p.zx,{onClick:t,children:"Done"})})]})},R=(0,l.Ps)(E()),T=function(n){var e=n.backfill,t=n.partitionSet,r=n.partitionNames,s=n.repoAddress,o=(0,i._)(x.useState(60),2),c=o[0],l=o[1],u=(0,i._)(x.useState(0),2),d=u[0],h=u[1],p=x.useMemo(function(){return[{token:"tag",value:"dagster/backfill=".concat(e.id)}]},[e.id]),f=(0,k.T)({partitionSetName:t.name,partitionTagName:C.H.Partition,partitionNames:r,pageSize:c,runsFilter:p,repositorySelector:(0,N.$)(s),jobName:t.pipelineName,offset:d,skipQuery:!e});return(0,a.jsx)(S.ux,{partitionNames:r,partitions:f,pipelineName:null==t?void 0:t.pipelineName,repoAddress:s,setPageSize:l,offset:d,setOffset:h})},O=t(87612),D=t(85333),A=t(6692),U=t(40794),F=t(87905),L=t(37842),q=t(19200),$=t(69459);function z(){var n=(0,s._)(["\n  fragment BackfillTerminationDialogBackfillFragment on PartitionBackfill {\n    id\n    status\n    isAssetBackfill\n    numCancelable\n  }\n"]);return z=function(){return n},n}function B(){var n=(0,s._)(["\n  mutation CancelBackfill($backfillId: String!) {\n    cancelPartitionBackfill(backfillId: $backfillId) {\n      ... on CancelBackfillSuccess {\n        backfillId\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return B=function(){return n},n}var J=function(n){var e,t=n.backfill,s=n.onClose,l=n.onComplete,u=(0,i._)((0,c.D)(G),1)[0],d=(0,U.a)($.cv,{variables:{backfillId:(null==t?void 0:t.id)||""},notifyOnNetworkStatusChange:!0,skip:!t}).data,h=(0,i._)(x.useState(!1),2),f=h[0],m=h[1],g=x.useMemo(function(){if(!t||!d||"PartitionBackfill"!==d.partitionBackfillOrError.__typename)return{};var n,e=null===(n=d.partitionBackfillOrError.partitionStatuses)||void 0===n?void 0:n.results.filter(function(n){return n.runStatus&&n.runId&&L.oV.has(n.runStatus)});return(null==e?void 0:e.reduce(function(n,e){return e&&e.runId?(0,A._)((0,D._)({},n),(0,O._)({},e.runId,!0)):n},{}))||{}},[t,d]);if(!t||!d)return null;var j=t.numCancelable,v=(e=(0,r._)(function(){return(0,o.Jh)(this,function(n){switch(n.label){case 0:return m(!0),[4,u({variables:{backfillId:t.id}})];case 1:return n.sent(),l(),m(!1),s(),[2]}})}),function(){return e.apply(this,arguments)});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(w.Vq,{isOpen:!!t&&t.status!==y.Jv3.CANCELED&&(t.isAssetBackfill||!!j),title:"Cancel backfill",onClose:s,children:[t.isAssetBackfill?(0,a.jsx)(w.a7,{children:"Confirm cancellation of asset backfill? This will mark unfinished runs as canceled."}):(0,a.jsxs)(w.a7,{children:["There ",1===j?"is 1 partition ":"are ".concat(j," partitions "),"yet to be queued or launched."]}),(0,a.jsxs)(w.cN,{children:[(0,a.jsx)(p.zx,{intent:"none",onClick:s,children:"Close"}),f?(0,a.jsx)(p.zx,{intent:"danger",disabled:!0,children:"Canceling..."}):(0,a.jsx)(p.zx,{intent:"danger",onClick:v,children:"Cancel backfill"})]})]}),g&&(0,a.jsx)(q.A,{isOpen:!!t&&(!j||"REQUESTED"!==t.status)&&!!Object.keys(g).length,onClose:s,onComplete:l,selectedRuns:g})]})},M=(0,l.Ps)(z()),G=(0,l.Ps)(B(),F.B),V=t(21408);function K(){var n=(0,s._)(["\n  fragment BackfillActionsBackfillFragment on PartitionBackfill {\n    id\n    hasCancelPermission\n    hasResumePermission\n    isAssetBackfill\n    status\n    numCancelable\n\n    ...BackfillStepStatusDialogBackfillFragment\n    ...BackfillTerminationDialogBackfillFragment\n  }\n\n  ","\n  ","\n"]);return K=function(){return n},n}function Z(n,e){if(!n.hasCancelPermission||!e)return!1;var t=e[y.VOA.QUEUED]||0,r=e[y.VOA.STARTED]||0;return t>0||r>0}var H=function(n){var e,t=n.backfill,s=n.canCancelRuns,l=n.refetch,w=(0,m.k6)(),S=(0,b.it)([{token:"tag",value:"dagster/backfill=".concat(t.id)}]),k=(0,i._)(x.useState(!1),2),C=k[0],_=k[1],N=(0,i._)(x.useState(!1),2),E=N[0],R=N[1],T=(0,i._)((0,c.D)(V.g),1)[0],O=(e=(0,r._)(function(){var n,e;return(0,o.Jh)(this,function(r){switch(r.label){case 0:return[4,T({variables:{backfillId:t.id}})];case 1:if(!((n=r.sent().data)&&"ResumeBackfillSuccess"===n.resumePartitionBackfill.__typename))return[3,2];return l(),[3,6];case 2:if(!(n&&"UnauthorizedError"===n.resumePartitionBackfill.__typename))return[3,4];return[4,(0,j.B7)({message:(0,a.jsx)(u.Z,{direction:"column",spacing:4,children:(0,a.jsx)("div",{children:"Attempted to retry the backfill in read-only mode. This backfill was not retried."})}),icon:"error",intent:"danger"})];case 3:return r.sent(),[3,6];case 4:if(!(n&&"PythonError"===n.resumePartitionBackfill.__typename))return[3,6];return e=n.resumePartitionBackfill,[4,(0,j.B7)({message:(0,a.jsx)("div",{children:"An unexpected error occurred. This backfill was not retried."}),icon:"error",intent:"danger",action:{text:"View error",onClick:function(){return(0,g._)({body:(0,a.jsx)(v.T9,{error:e})})}}})];case 5:r.sent(),r.label=6;case 6:return[2]}})}),function(){return e.apply(this,arguments)}),D=t.hasCancelPermission&&(t.isAssetBackfill&&t.status===y.Jv3.REQUESTED||t.numCancelable>0);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.J,{position:"bottom-right",content:(0,a.jsxs)(h.v2,{children:[(0,a.jsx)(h.sN,{text:"View backfill runs",icon:"settings_backup_restore",onClick:function(){return w.push(S)}}),(0,a.jsx)(h.sN,{disabled:!P(t),text:"View step status",icon:"view_list",onClick:function(){R(!0)}}),(0,a.jsx)(h.sN,{disabled:!(t.hasResumePermission&&t.status===y.Jv3.FAILED&&t.partitionSet),text:"Resume failed backfill",title:"Submits runs for all partitions in the backfill that do not have a corresponding run. Does not retry failed runs.",icon:"refresh",onClick:function(){return O()}}),(0,a.jsx)(h.sN,{text:D?"Cancel backfill submission":"Terminate unfinished runs",icon:"cancel",intent:"danger",disabled:!(D||s),onClick:function(){return _(!0)}})]}),children:(0,a.jsx)(p.zx,{icon:(0,a.jsx)(f.JO,{name:"expand_more"})})}),(0,a.jsx)(I,{backfill:E?t:void 0,onClose:function(){return R(!1)}}),(0,a.jsx)(J,{backfill:C?t:void 0,onClose:function(){return _(!1)},onComplete:function(){return l()}})]})},W=(0,l.Ps)(K(),R,M)},69459:function(n,e,t){t.d(e,{FW:function(){return B},cv:function(){return Y}});var r=t(58467),i=t(73235),s=t(52322),o=t(3842),a=t(60138),c=t(19369),l=t(2736),u=t(72096),d=t(87323),h=t(42033),p=t(24471),f=t.n(p),x=t(2784),m=t(47933),g=t(7267),j=t(35505),v=t(8848),y=t(14590),b=t(63757),w=t(28292),S=t(7334),k=t(35192),C=t(24651),_=t(72037),N=t(37842),E=t(66829),P=t(47424),I=t(30082),R=t(56536),T=t(33667),O=t(61018),D=t(19618),A=t(41060),U=t(98099),F=t(84922);function L(){var n=(0,i._)(["\n  border: none;\n  background: none;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n\n  :focus {\n    outline: none;\n  }\n"]);return L=function(){return n},n}function q(){var n=(0,i._)(["\n  query SingleBackfillCountsQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        id\n        partitionStatusCounts {\n          runStatus\n          count\n        }\n      }\n    }\n  }\n"]);return q=function(){return n},n}function $(){var n=(0,i._)(["\n  query SingleBackfillQuery($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ... on PartitionBackfill {\n        id\n        partitionStatuses {\n          ...PartitionStatusesForBackfill\n        }\n      }\n    }\n  }\n\n  fragment PartitionStatusesForBackfill on PartitionStatuses {\n    results {\n      id\n      partitionName\n      runId\n      runStatus\n    }\n  }\n"]);return $=function(){return n},n}var z=[function(){return Promise.resolve({data:void 0})},{data:void 0,called:!0,loading:!1}],B=function(n){var e=n.backfill,t=n.allPartitions,i=n.showBackfillTarget,a=n.onShowPartitionsRequested,l=n.refetch,u=(0,o.t)(Y,{variables:{backfillId:e.id},notifyOnNetworkStatusChange:!0}),d=(0,o.t)(W,{variables:{backfillId:e.id},notifyOnNetworkStatusChange:!0}),h=null===e.numPartitions||null===e.partitionNames||e.isAssetBackfill,p=(0,r._)(h?z:e.isAssetBackfill||(e.numPartitions||0)>J?d:u,2),g=p[0],j=p[1];(0,R.v5)(g),(0,b.C4)(j,b.dT);var v=j.data,y=x.useMemo(function(){if((null==v?void 0:v.partitionBackfillOrError.__typename)!=="PartitionBackfill")return{counts:null,statuses:null};if("partitionStatusCounts"in v.partitionBackfillOrError){var n;return{counts:Object.fromEntries(v.partitionBackfillOrError.partitionStatusCounts.map(function(n){return[n.runStatus,n.count]})),statuses:null}}var e=null===(n=v.partitionBackfillOrError.partitionStatuses)||void 0===n?void 0:n.results;return{counts:f()(e,function(n){return n.runStatus}),statuses:e}},[v]),w=y.counts,S=y.statuses;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{width:120},children:(0,s.jsx)(c.fv,{style:{fontSize:"16px",lineHeight:"18px"},children:(0,s.jsx)(m.rU,{to:e.isAssetBackfill?"/overview/backfills/".concat(e.id):(0,P.it)([{token:"tag",value:"dagster/backfill=".concat(e.id)}]),children:e.id})})}),(0,s.jsx)("td",{style:{width:220},children:e.timestamp?(0,s.jsx)(I.v,{timestamp:e.timestamp}):"-"}),i?(0,s.jsx)("td",{style:{width:"20%"},children:(0,s.jsx)(G,{backfill:e})}):null,(0,s.jsx)("td",{style:{width:t?300:140},children:(0,s.jsx)(V,{backfill:e,allPartitions:t,onExpand:function(){return a(e)}})}),(0,s.jsx)("td",{style:{width:140},children:w||h?(0,s.jsx)(Z,{backfill:e,counts:w}):(0,s.jsx)(R.mq,{queryResult:j,noneString:"–"})}),(0,s.jsx)("td",{children:e.isValidSerialization?w&&void 0!==S?(0,s.jsx)(M,{backfill:e,counts:w,statuses:S}):(0,s.jsx)(R.mq,{queryResult:j,noneString:"–"}):(0,s.jsx)("p",{children:"A partitions definition has changed since this backfill ran."})}),(0,s.jsx)("td",{children:(0,s.jsx)(U.WH,{backfill:e,canCancelRuns:(0,U.qG)(e,w),refetch:l})})]})},J=1e3,M=function(n){var e=n.backfill,t=n.statuses,i=n.counts,o=(0,g.k6)(),a=Object.entries(i).reduce(function(n,e){var t=(0,r._)(e,2),i=t[0],s=t[1];return n[i]=(n[i]||0)+s,n},{}),c=x.useMemo(function(){return{runStatusForPartitionKey:function(n){var e;return(null==t?void 0:null===(e=t.filter(function(e){return e.partitionName===n})[0])||void 0===e?void 0:e.runStatus)||S.VOA.NOT_STARTED}}},[t]);return t&&e.partitionNames?(0,s.jsx)(k.b,{partitionNames:e.partitionNames,health:c,splitPartitions:!0,onClick:function(n){var e=t.find(function(e){return e.partitionName===n});(null==e?void 0:e.runId)&&o.push("/runs/".concat(e.runId))}}):(0,s.jsx)(E.Y,{succeededCount:a[S.VOA.SUCCESS]||0,inProgressCount:a[S.VOA.STARTED]||0,failedCount:a[S.VOA.FAILURE]||0})},G=function(n){var e=n.backfill,t=e.assetSelection,r=e.partitionSet,i=e.partitionSetName,o=r?(0,O.kQ)(r.repositoryOrigin.repositoryName,r.repositoryOrigin.repositoryLocationName):null,a=(0,T.Ux)(o),c=(0,w.pv)(i||"");return(0,s.jsxs)(l.x,{flex:{direction:"column",gap:8},children:[c?null:r&&a?(0,s.jsx)(m.rU,{style:{fontWeight:500},to:(0,A.jT)({repoName:r.repositoryOrigin.repositoryName,repoLocation:r.repositoryOrigin.repositoryLocationName,pipelineName:r.pipelineName,isJob:(0,T.E8)(a,r.pipelineName),path:"/partitions?partitionSet=".concat(encodeURIComponent(r.name))}),children:r.name}):i?(0,s.jsx)("span",{style:{fontWeight:500},children:i}):null,(0,s.jsxs)(l.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:[o?(0,s.jsxs)(l.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{fontSize:"12px"},children:[(0,s.jsx)(u.JO,{name:"repo",color:d.w.Gray400}),(0,s.jsx)(m.rU,{to:(0,A.$U)(o),children:(0,D.Uz)(o)})]}):void 0,(null==t?void 0:t.length)?(0,s.jsx)(_.h,{assetKeys:t,modalTitle:"Assets in backfill"}):r&&a?(0,s.jsx)(C.h,{showIcon:!0,size:"small",pipelineName:r.pipelineName,pipelineHrefContext:{name:r.repositoryOrigin.repositoryName,location:r.repositoryOrigin.repositoryLocationName},isJob:(0,T.E8)(a,r.pipelineName)}):null]})]})},V=function(n){var e=n.allPartitions,t=n.backfill,r=n.onExpand,i=t.partitionNames,o=t.numPartitions;if(null===o)return(0,s.jsx)("span",{});var a="".concat(o.toLocaleString()," ").concat(1===o?"partition":"partitions");return(0,s.jsxs)(l.x,{flex:{direction:"column",gap:8},children:[(0,s.jsx)("div",{children:i?(0,s.jsx)(H,{onClick:r,children:(0,s.jsx)(h.V,{intent:"primary",interactive:!0,children:a})}):(0,s.jsx)(h.V,{intent:"primary",children:a})}),e&&i&&(0,s.jsx)(K,{all:e,requested:i})]})},K=function(n){var e=n.all,t=n.requested,r=x.useMemo(function(){return{runStatusForPartitionKey:function(n){return t&&t.includes(n)?S.VOA.QUEUED:S.VOA.NOT_STARTED}}},[t]);return(0,s.jsx)(k.b,{small:!0,hideStatusTooltip:!0,partitionNames:e,health:r})},Z=function(n){var e=n.backfill,t=n.counts;if(e.isAssetBackfill)return(0,s.jsx)(F.w,{backfill:e});switch(e.status){case S.Jv3.REQUESTED:return(0,s.jsx)(h.V,{children:"In progress"});case S.Jv3.FAILED:return(0,s.jsx)(l.x,{margin:{bottom:12},children:(0,s.jsx)(H,{onClick:function(){return e.error&&(0,v._)({title:"Error",body:(0,s.jsx)(y.T9,{error:e.error})})},children:(0,s.jsx)(h.V,{intent:"danger",children:"Failed"})})});case S.Jv3.COMPLETED:if(null===e.partitionNames)return(0,s.jsx)(h.V,{intent:"success",children:"Completed"});if(!t)return(0,s.jsx)("div",{style:{color:d.w.Gray500},children:"None"});if(t[S.VOA.SUCCESS]===e.partitionNames.length)return(0,s.jsx)(h.V,{intent:"success",children:"Completed"});if(Array.from(N.Ys).some(function(n){return t[n]}))return(0,s.jsx)(h.V,{intent:"primary",children:"In progress"});return(0,s.jsx)(h.V,{intent:"warning",children:"Incomplete"});case S.Jv3.CANCELING:return(0,s.jsx)(h.V,{children:"Canceling"});case S.Jv3.CANCELED:return(0,s.jsx)(h.V,{children:"Canceled"})}return(0,s.jsx)("span",{})},H=j.ZP.button.withConfig({componentId:"sc-a47a22d0-0"})(L()),W=(0,a.Ps)(q()),Y=(0,a.Ps)($())},84922:function(n,e,t){t.d(e,{w:function(){return h}});var r=t(73235),i=t(52322),s=t(2736),o=t(42033);t(2784);var a=t(35505),c=t(8848),l=t(14590),u=t(7334);function d(){var n=(0,r._)(["\n  border: none;\n  background: none;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n\n  :focus {\n    outline: none;\n  }\n"]);return d=function(){return n},n}var h=function(n){var e=n.backfill,t=function(n){return(0,i.jsx)(s.x,{margin:{bottom:12},children:(0,i.jsx)(p,{onClick:function(){return a&&(0,c._)({title:"Error",body:(0,i.jsx)(l.T9,{error:a})})},children:(0,i.jsx)(o.V,{intent:"danger",children:n})})})},r=e.status,a=e.error;switch(r){case u.Jv3.REQUESTED:return(0,i.jsx)(o.V,{children:"In progress"});case u.Jv3.CANCELING:return t("Canceling");case u.Jv3.CANCELED:return t("Canceled");case u.Jv3.FAILED:return t("Failed");case u.Jv3.COMPLETED:return(0,i.jsx)(o.V,{intent:"success",children:"Completed"});default:return(0,i.jsx)(o.V,{children:r})}},p=a.ZP.button.withConfig({componentId:"sc-310a0de5-0"})(d())},75262:function(n,e,t){t.d(e,{b:function(){return S},G:function(){return w}});var r=t(58467),i=t(73235),s=t(52322),o=t(60138),a=t(34706),c=t(2784),l=t(87905),u=t(98099),d=t(82550),h=t(80572),p=t(94901),f=t(70399),x=t(54788),m=t(89247),g=new Intl.Collator(navigator.language,{sensitivity:"base",numeric:!0}),j=function(n){var e=n.backfill,t=n.onClose;return(0,s.jsxs)(h.Vq,{isOpen:!!e,title:(0,s.jsxs)("span",{children:["Partitions requested for backfill:"," ",(0,s.jsx)("span",{style:{fontSize:"18px",fontFamily:p.b.monospace},children:null==e?void 0:e.id})]}),onClose:t,children:[(0,s.jsx)(v,{partitionNames:(null==e?void 0:e.partitionNames)||[]}),(0,s.jsx)(h.cN,{topBorder:!0,children:(0,s.jsx)(f.zx,{onClick:t,children:"Done"})})]})},v=function(n){var e=n.partitionNames,t=c.useMemo(function(){return(0,d._)(e||[]).sort(function(n,e){return g.compare(n,e)})},[e]);return(0,s.jsx)("div",{style:{height:"340px",overflow:"hidden"},children:(0,s.jsx)(m.Y,{items:t,renderItem:function(n){return(0,s.jsx)("div",{children:(0,s.jsx)(x.rd,{text:n})},n)}})})},y=t(69459);function b(){var n=(0,i._)(["\n  fragment BackfillTableFragment on PartitionBackfill {\n    id\n    status\n    isAssetBackfill\n    isValidSerialization\n    partitionNames\n    numPartitions\n    timestamp\n    partitionSetName\n    partitionSet {\n      id\n      ...PartitionSetForBackfillTable\n    }\n    assetSelection {\n      path\n    }\n    error {\n      ...PythonErrorFragment\n    }\n    ...BackfillActionsBackfillFragment\n  }\n\n  fragment PartitionSetForBackfillTable on PartitionSet {\n    id\n    name\n    mode\n    pipelineName\n    repositoryOrigin {\n      id\n      repositoryName\n      repositoryLocationName\n    }\n  }\n\n  ","\n  ","\n"]);return b=function(){return n},n}var w=function(n){var e=n.showBackfillTarget,t=void 0===e||e,i=n.allPartitions,o=n.backfills,l=n.refetch,u=(0,r._)(c.useState(),2),d=u[0],h=u[1];return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.i,{children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Backfill ID"}),(0,s.jsx)("th",{children:"Created"}),t?(0,s.jsx)("th",{children:"Backfill target"}):null,(0,s.jsx)("th",{children:"Requested"}),(0,s.jsx)("th",{children:"Backfill status"}),(0,s.jsx)("th",{children:"Run status"}),(0,s.jsx)("th",{style:{width:80}})]})}),(0,s.jsx)("tbody",{children:o.map(function(n){return(0,s.jsx)(y.FW,{showBackfillTarget:t,backfill:n,allPartitions:i,onShowPartitionsRequested:h,refetch:l},n.id)})})]}),(0,s.jsx)(j,{backfill:d,onClose:function(){return h(void 0)}})]})},S=(0,o.Ps)(b(),l.B,u.V2)},10674:function(n,e,t){t.d(e,{TW:function(){return R},dY:function(){return A},i0:function(){return T},lB:function(){return O}});var r=t(58467),i=t(73235),s=t(52322),o=t(40794),a=t(60138),c=t(42033),l=t(47625),u=t(80572),d=t(70399),h=t(42971),p=t(2736),f=t(91588),x=t(45),m=t(92914),g=t(87323),j=t(19369),v=t(72096),y=t(2784),b=t(35505),w=t(8848),S=t(87905),k=t(14590),C=t(61893),_=t(7334),N=t(97319);function E(){var n=(0,i._)(["\n  background: inherit;\n  border: none;\n  cursor: pointer;\n  font-size: inherit;\n  text-decoration: none;\n  padding: 0;\n"]);return E=function(){return n},n}function P(){var n=(0,i._)(["\n  fragment TickTagFragment on InstigationTick {\n    id\n    status\n    timestamp\n    skipReason\n    runIds\n    runKeys\n    error {\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return P=function(){return n},n}function I(){var n=(0,i._)(["\n  query LaunchedRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return I=function(){return n},n}var R=function(n){var e=n.tick,t=n.instigationType,i=(0,r._)(y.useState(!1),2),o=i[0],a=i[1];switch(e.status){case _.izS.STARTED:return(0,s.jsx)(c.V,{children:"Started"});case _.izS.SUCCESS:if(!e.runIds.length)return(0,s.jsx)(c.V,{intent:"primary",children:"Requested"});var p=(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.V,{intent:"primary",interactive:!0,children:(0,s.jsxs)(l.Z,{underline:"never",onClick:function(){return a(!0)},children:[e.runIds.length," Requested"]})}),(0,s.jsxs)(u.Vq,{isOpen:o,onClose:function(){return a(!1)},style:{width:"90vw"},title:"Launched runs",children:[(0,s.jsx)(T,{runIds:e.runIds}),(0,s.jsx)(u.cN,{children:(0,s.jsx)(d.zx,{intent:"primary",onClick:function(){return a(!1)},children:"OK"})})]})]});if(e.runKeys.length>e.runIds.length){var f="".concat(e.runKeys.length," runs requested, but ").concat(e.runKeys.length-e.runIds.length," skipped because the runs already exist for those requested keys.");return(0,s.jsx)(h.u,{position:"right",content:f,children:p})}return p;case _.izS.SKIPPED:if(e.runKeys.length){var x="".concat(e.runKeys.length," runs requested, but skipped because the runs already exist for the requested keys.");return(0,s.jsx)(h.u,{position:"right",content:x,children:(0,s.jsx)(c.V,{intent:"warning",children:"Skipped"})})}if(e.skipReason)return(0,s.jsx)(h.u,{position:"right",content:e.skipReason,targetTagName:"div",children:(0,s.jsx)(c.V,{intent:"warning",children:"Skipped"})});return(0,s.jsx)(c.V,{intent:"warning",children:"Skipped"});case _.izS.FAILURE:if(!e.error)return(0,s.jsx)(c.V,{intent:"danger",children:"Failure"});var m=e.error,g=function(){return(0,w._)({title:t?t===_._5b.SCHEDULE?"Schedule Response":"Sensor Response":"Python Error",body:(0,s.jsx)(k.T9,{error:m})})};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(D,{onClick:g,children:(0,s.jsx)(c.V,{minimal:!0,intent:"danger",children:"Failure"})}),(0,s.jsx)(l.Z,{onClick:g,style:{marginLeft:4,fontSize:12},children:"View"})]});default:return(0,C.UT)(e.status)}},T=function(n){var e=n.runIds,t=(0,o.a)(U,{variables:{filter:{runIds:e}}}),r=t.data;return t.loading||!r?(0,s.jsx)(p.x,{padding:32,children:(0,s.jsx)(f.$,{purpose:"section"})}):"Runs"!==r.pipelineRunsOrError.__typename?(0,s.jsx)(p.x,{padding:32,children:(0,s.jsx)(x.t,{icon:"error",title:"An error occurred",description:r.pipelineRunsOrError.message})}):(0,s.jsx)(p.x,{padding:{bottom:8},children:(0,s.jsx)(N.AL,{runs:r.pipelineRunsOrError.results})})},O=function(n){var e=n.originRunIds;return e&&e.length?(0,s.jsxs)(m.Z,{direction:"column",spacing:16,children:[(0,s.jsxs)(p.x,{padding:12,border:{side:"bottom",color:g.w.Gray200},children:[(0,s.jsxs)(j.uT,{children:["Failed Runs",(0,s.jsx)(h.u,{content:"Failed runs this tick reacted on and reported back to.",children:(0,s.jsx)(v.JO,{name:"info",color:g.w.Gray500})})]}),(0,s.jsx)(T,{runIds:e})]}),(0,s.jsxs)(p.x,{padding:12,margin:{bottom:8},children:[(0,s.jsxs)(j.uT,{children:["Requested Runs",(0,s.jsx)(h.u,{content:"Runs launched by the run requests in this tick.",children:(0,s.jsx)(v.JO,{name:"info",color:g.w.Gray500})})]}),(0,s.jsx)(x.t,{icon:"sensors",title:"No runs to display",description:"This sensor does not target a pipeline or job."})]})]}):null},D=b.ZP.button.withConfig({componentId:"sc-985ff066-0"})(E()),A=(0,a.Ps)(P(),S.B),U=(0,a.Ps)(I(),N.ZZ,S.B)},53371:function(n,e,t){t.d(e,{Jy:function(){return S},RX:function(){return y},S9:function(){return b},UD:function(){return v},ai:function(){return w}});var r=t(58467),i=t(73235),s=t(52322),o=t(60138),a=t(87323),c=t(92914),l=t(19369);t(2784);var u=t(47933),d=t(35505),h=t(27359),p=t(8181),f=t(83221),x=t(10674);function m(){var n=(0,i._)(["\n  fragment RunStatusFragment on Run {\n    id\n    status\n  }\n"]);return m=function(){return n},n}function g(){var n=(0,i._)(["\n  fragment InstigationStateFragment on InstigationState {\n    id\n    selectorId\n    name\n    instigationType\n    status\n    hasStartPermission\n    hasStopPermission\n    repositoryName\n    repositoryLocationName\n    typeSpecificData {\n      ... on SensorData {\n        lastRunKey\n        lastCursor\n      }\n      ... on ScheduleData {\n        cronSchedule\n      }\n    }\n    runs(limit: 1) {\n      id\n      ...RunStatusFragment\n      ...RunTimeFragment\n    }\n    status\n    ticks(limit: 1) {\n      id\n      cursor\n      ...TickTagFragment\n    }\n    runningCount\n  }\n\n  ","\n  ","\n  ","\n"]);return g=function(){return n},n}function j(){var n=(0,i._)(["\n  font-size: 13px;\n  border-spacing: 0;\n\n  &&&&& tr {\n    box-shadow: none;\n  }\n\n  &&&&& tbody > tr > td {\n    background: transparent;\n    box-shadow: none !important;\n    padding: 1px 0;\n  }\n\n  &&&&& tbody > tr > td:first-child {\n    color: ",";\n  }\n"]);return j=function(){return n},n}var v=function(n){var e=n.instigationState,t=(0,r._)(e.runs,1)[0];return t?(0,s.jsx)(h.Z,{run:t,name:e.name}):(0,s.jsx)("span",{style:{color:a.w.Gray300},children:"None"})},y=function(n){var e=n.run;return(0,s.jsxs)(c.Z,{direction:"row",spacing:4,alignItems:"center",children:[(0,s.jsx)(p.K9,{status:e.status}),(0,s.jsx)(u.rU,{to:"/runs/".concat(e.id),target:"_blank",rel:"noreferrer",children:(0,s.jsx)(l.fv,{children:(0,f.EI)({id:e.id})})})]})},b=(0,o.Ps)(m()),w=(0,o.Ps)(g(),b,f.$X,x.dY),S=d.ZP.table.withConfig({componentId:"sc-a0e30de-0"})(j(),a.w.Gray500)},57454:function(n,e,t){t.d(e,{i:function(){return i}});var r=t(7334),i=function(n){return n.hasStartPermission&&n.status===r.ynu.STOPPED||n.hasStopPermission&&n.status===r.ynu.RUNNING}},65637:function(n,e,t){t.d(e,{H:function(){return i}});var r=t(7334),i=function(n){var e=!1,t=!1,i=!0,s=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value.status;if(l===r.ynu.RUNNING?t=!0:l===r.ynu.STOPPED&&(e=!0),t&&e)break}}catch(n){s=!0,o=n}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}return{anyOff:e,anyOn:t}}},9640:function(n,e,t){t.d(e,{s:function(){return l}});var r=t(87612),i=t(85333),s=t(6692),o=t(2784),a={step:"initial",completion:{completed:0,errors:{}}},c=function(n,e){switch(e.type){case"reset":return a;case"start":return(0,s._)((0,i._)({},n),{step:"updating"});case"update-success":var t=n.completion;return{step:"updating",completion:(0,s._)((0,i._)({},t),{completed:t.completed+1})};case"update-error":var o=n.completion;return{step:"updating",completion:(0,s._)((0,i._)({},o),{completed:o.completed+1,errors:(0,s._)((0,i._)({},o.errors),(0,r._)({},e.name,e.error))})};case"complete":return(0,s._)((0,i._)({},n),{step:"completed"})}},l=function(){return o.useReducer(c,a)}},22179:function(n,e,t){t.d(e,{i:function(){return s}});var r=t(73235);function i(){var n=(0,r._)(["\n  fragment BasicInstigationStateFragment on InstigationState {\n    id\n    selectorId\n    status\n    hasStartPermission\n    hasStopPermission\n  }\n"]);return i=function(){return n},n}var s=(0,t(60138).Ps)(i())},86631:function(n,e,t){t.d(e,{y:function(){return r}});var r="overview-collapsed-state"},88794:function(n,e,t){t.d(e,{ac:function(){return K},ux:function(){return H},Rc:function(){return G}});var r=t(85333),i=t(6692),s=t(2281),o=t(58467),a=t(73235),c=t(82550),l=t(52322),u=t(40794),d=t(60138),h=t(85112),p=t(80572),f=t(2736),x=t(70399),m=t(72096),g=t(87323),j=t(17577),v=t(55829),y=t(2784),b=t(35505),w=t(28292),S=t(95580),k=t(64013),C=t(87984),_=t(29668),N=t(7334),E=t(83221),P=t(40543),I=t(30895),R=t(91588),T=t(45),O=t(87905),D=t(97319),A=t(29545);function U(){var n=(0,a._)(["\n  query PartitionRunListQuery($filter: RunsFilter!) {\n    pipelineRunsOrError(filter: $filter, limit: 500) {\n      ... on PipelineRuns {\n        results {\n          ...RunTableRunFragment\n          id\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return U=function(){return n},n}var F=function(n){var e=(0,u.a)(L,{variables:{filter:{pipelineName:n.pipelineName,tags:[{key:A.H.Partition,value:n.partitionName}]}}}),t=e.data;return e.loading||!t?(0,l.jsx)(R.$,{purpose:"section"}):"Runs"!==t.pipelineRunsOrError.__typename?(0,l.jsx)(T.t,{icon:"error",title:"Query Error",description:t.pipelineRunsOrError.message}):(0,l.jsx)("div",{children:(0,l.jsx)(D.AL,{runs:t.pipelineRunsOrError.results})})},L=(0,d.Ps)(U(),D.ZZ,O.B),q=t(48077),$=t(97948);function z(){var n=(0,a._)(["\n  width: 30px;\n  position: absolute;\n  border: 1px solid ",";\n  border-radius: 3px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  top: calc(50% - 15px);\n  bottom: calc(50% - 15px);\n  ","\n  background: white;\n  z-index: 10;\n\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  &:hover {\n    background: #ececec;\n  }\n"]);return z=function(){return n},n}function B(){var n=(0,a._)(["\n  display: block;\n"]);return B=function(){return n},n}function J(){var n=(0,a._)(["\n  height: 1px;\n  width: 100%;\n  margin-top: 5px;\n  border-top: 1px solid ",";\n"]);return J=function(){return n},n}function M(){var n=(0,a._)(["\n  query PartitionStepStatusPipelineQuery($pipelineSelector: PipelineSelector) {\n    pipelineSnapshotOrError(activePipelineSelector: $pipelineSelector) {\n      ... on PipelineSnapshot {\n        id\n        name\n        solidHandles {\n          ...PartitionMatrixSolidHandleFragment\n        }\n      }\n    }\n  }\n\n  ","\n"]);return M=function(){return n},n}var G=function(n){return Math.ceil(n/q.Bj)-3},V=function(n){var e=[Date.now()/1e3,1],t=e[0],r=e[1],i=!0,s=!1,o=void 0;try{for(var a,c=n[Symbol.iterator]();!(i=(a=c.next()).done);i=!0){var l=a.value,u=!0,d=!1,h=void 0;try{for(var p,f=l.steps[Symbol.iterator]();!(u=(p=f.next()).done);u=!0){var x,m=p.value;0!==m.unix&&(t=(x=[Math.min(t,m.unix),Math.max(r,m.unix)])[0],r=x[1])}}catch(n){d=!0,h=n}finally{try{u||null==f.return||f.return()}finally{if(d)throw h}}}}catch(n){s=!0,o=n}finally{try{i||null==c.return||c.return()}finally{if(s)throw o}}return[t,r]},K=function(n){var e=n.assetHealth,t=n.rangeDimension,o=n.rangeDimensionIdx,a=n.assetQueryItems,c=(0,s._)(n,["assetHealth","rangeDimension","rangeDimensionIdx","assetQueryItems"]),u={},d=!0,h=!1,p=void 0;try{for(var f,x=e[Symbol.iterator]();!(d=(f=x.next()).done);d=!0){var m,g=f.value;if((null===(m=g.dimensions[o])||void 0===m?void 0:m.name)===t.name){var j=g.rangesForSingleDimension(o);u[(0,w.Je)(g.assetKey)]=j}}}catch(n){h=!0,p=n}finally{try{d||null==x.return||x.return()}finally{if(h)throw p}}var v=(0,_.tc)({nodes:a,mode:C.hS.FLAT}).boxes.filter(function(n){return!!u[n.node.name]}),y={stepRows:v.map(function(n){return{x:n.x,name:n.node.name,totalFailurePercent:0,finalFailurePercent:0}}),partitions:[],partitionColumns:t.partitionKeys.map(function(n,e){return{idx:e,name:n,runsLoaded:!0,runs:[],steps:v.map(function(n){return{name:n.node.name,unix:0,color:Z((0,k.h1)(u[n.node.name],e))}})}})};return(0,l.jsx)(W,(0,i._)((0,r._)({},c),{partitionNames:t.partitionKeys,data:y,showLatestRun:!1}))},Z=function(n){return n.includes(S.yo.MATERIALIZED)&&n.includes(S.yo.MISSING)?"SUCCESS-MISSING":n.includes(S.yo.MATERIALIZED)?"SUCCESS":n.includes(S.yo.FAILED)&&n.includes(S.yo.MISSING)?"FAILURE-MISSING":n.includes(S.yo.FAILED)?"FAILURE":"MISSING"},H=function(n){var e,t=n.repoAddress,o=n.pipelineName,a=n.partitions,c=n.partitionNames,d=(0,s._)(n,["repoAddress","pipelineName","partitions","partitionNames"]),h=(0,I.$)(t),p=(0,i._)((0,r._)({},h),{pipelineName:o}),f=(0,u.a)(nn,{variables:{pipelineSelector:p}}),x=(null===(e=f.data)||void 0===e?void 0:e.pipelineSnapshotOrError.__typename)==="PipelineSnapshot"&&f.data.pipelineSnapshotOrError.solidHandles,m=(0,$.J2)({partitionNames:c,partitions:a,stepQuery:"",solidHandles:x});return m?(0,l.jsx)(W,(0,i._)((0,r._)({},d),{showLatestRun:!0,pipelineName:o,partitionNames:c,data:m})):(0,l.jsx)("span",{})},W=function(n){var e=(0,h.S)(),t=e.viewport,s=e.containerProps,a=(0,o._)(y.useState(null),2),c=a[0],u=a[1],d=(0,o._)(y.useState(null),2),g=d[0],j=d[1],v=n.setPageSize,b=n.data;y.useEffect(function(){t.width&&v(G(t.width))},[t.width,v]);var w=b.stepRows,S=b.partitionColumns,k=function(n){var e={};return n.forEach(function(n){return e[n.name]=n}),w.map(function(n){return e[n.name]})},C=G(t.width),_=Math.max(0,S.length-n.offset-C),N=Math.max(C,S.length-n.offset),E=S.slice(_,N),P=(0,o._)(V(S),2),I=P[0],R=P[1],T=(0,q.G3)(S.map(function(n){return n.name}));return(0,l.jsxs)(Q,{children:[(0,l.jsxs)(p.Vq,{isOpen:!!g,onClose:function(){return j(null)},style:{width:"90vw"},title:g?"".concat(g.partitionName," runs"):"",children:[(0,l.jsx)(f.x,{padding:{bottom:12},children:g&&(0,l.jsx)(F,{pipelineName:n.pipelineName,partitionName:g.partitionName})}),(0,l.jsx)(p.cN,{children:(0,l.jsx)(x.zx,{intent:"primary",autoFocus:!0,onClick:function(){return j(null)},children:"OK"})})]}),(0,l.jsxs)("div",{style:{position:"relative",display:"flex"},children:[(0,l.jsx)(q.NF,{floating:n.offset+C<n.partitionNames.length,children:(0,l.jsxs)(q.C4,{disabled:!0,style:{flex:1,flexShrink:1,overflow:"hidden"},children:[(0,l.jsx)(q.eh,{style:{height:T}}),n.showLatestRun&&(0,l.jsx)(q.p$,{style:{paddingLeft:24},children:"Last Run"}),(0,l.jsx)(X,{}),w.map(function(n){return(0,l.jsx)(q.p$,{style:{paddingLeft:8+n.x},"data-tooltip":n.name,hovered:n.name===(null==c?void 0:c.stepName),children:n.name},n.name)})]})}),n.offset+C<n.partitionNames.length?(0,l.jsx)(Y,{$direction:"left",onClick:function(){return n.setOffset(Math.max(0,Math.min(n.offset+C-1,n.partitionNames.length-C)))},children:(0,l.jsx)(m.JO,{name:"chevron_left"})}):null,(0,l.jsx)("div",(0,i._)((0,r._)({style:{flex:1,overflow:"hidden",position:"relative"}},s),{children:(0,l.jsx)("div",{style:{width:S.length*q.Bj,position:"absolute",height:"100%",right:0,zIndex:1},children:E.map(function(e,t){return(0,l.jsxs)(q.C4,{style:{zIndex:E.length-t,width:q.Bj,position:"absolute",right:(C-t)*q.Bj+20},children:[(0,l.jsx)(q.kD,{$height:T,label:e.name}),n.showLatestRun&&(0,l.jsx)(q.p$,{style:{textAlign:"center"},children:(0,l.jsx)(nt,{runs:e.runs,runsLoaded:e.runsLoaded,minUnix:I,maxUnix:R,hovered:c,setHovered:u,setFocused:j,partitionName:e.name},"".concat(e.name,":__full_status"))}),(0,l.jsx)(X,{}),k(e.steps).map(function(n){return(0,l.jsx)(nt,{step:n,runs:e.runs,runsLoaded:e.runsLoaded,minUnix:I,maxUnix:R,hovered:c,setHovered:u,setFocused:j,partitionName:e.name},n.name)})]},e.name)})})})),n.offset>0?(0,l.jsx)(Y,{$direction:"right",onClick:function(){return n.setOffset(Math.max(0,n.offset-C))},children:(0,l.jsx)(m.JO,{name:"chevron_right"})}):null]})]})},Y=b.ZP.div.withConfig({componentId:"sc-e6052371-0"})(z(),g.w.KeylineGray,function(n){return"left"===n.$direction?"left: 315px;":"right: 0;"}),Q=b.ZP.div.withConfig({componentId:"sc-e6052371-1"})(B()),X=b.ZP.div.withConfig({componentId:"sc-e6052371-2"})(J(),g.w.KeylineGray),nn=(0,d.Ps)(M(),$.Tg),ne=JSON.stringify({top:20,left:10}),nt=function(n){var e=n.step,t=n.runs,r=n.runsLoaded,i=n.hovered,s=n.setHovered,a=n.setFocused,u=n.partitionName,d=(0,o._)(y.useState(!1),2),h=d[0],p=d[1];if(r){if(e)f=e.color.toLowerCase();else if(0===t.length)f="empty";else{var f,x,m=null===(x=(0,c._)(t).reverse().find(function(n){return n.status!==N.VOA.CANCELED}))||void 0===x?void 0:x.status;f=m?m.toLowerCase():"empty"}}else f="loading";var g=(0,l.jsx)("div",{className:"square ".concat(f),onMouseEnter:function(){return s({stepName:null==e?void 0:e.name,partitionName:u})},onMouseLeave:function(){return s(null)},"data-tooltip":r&&!e?1===t.length?"1 run":"".concat(t.length," runs"):void 0,"data-tooltip-style":ne});return h||t.length&&(null==i?void 0:i.stepName)===(null==e?void 0:e.name)&&(null==i?void 0:i.partitionName)===u?(0,l.jsx)(j.J,{interactionKind:"click",placement:"bottom-start",onOpening:function(){return p(!0)},onClosed:function(){return p(!1)},content:(0,l.jsxs)(v.v2,{children:[(0,l.jsx)(P.U,{icon:"open_in_new",text:"Show logs from last run",to:(0,E.tA)(t[t.length-1],{stepKey:e?e.name:null})}),(0,l.jsx)(v.sN,{icon:"settings_backup_restore",text:"View runs (".concat(t.length,")"),onClick:function(){return a({stepName:null==e?void 0:e.name,partitionName:u})}})]}),children:g}):g}},48077:function(n,e,t){t.d(e,{AQ:function(){return w},Bj:function(){return p},C4:function(){return m},G3:function(){return v},NF:function(){return S},eh:function(){return j},kD:function(){return y},p$:function(){return g}});var r=t(73235),i=t(82550),s=t(52322),o=t(87323);t(2784);var a=t(35505);function c(){var n=(0,r._)(["\n  display: flex;\n  flex-direction: column;\n  flex-shrink: 0;\n  line-height: 0;\n\n  ","\n\n  ","\n\n  ","\n\n  ","\n\n  .cell {\n    height: ","px;\n    display: inline-block;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    font-size: 12px;\n    padding: 2px;\n    box-sizing: border-box;\n    line-height: initial;\n  }\n\n  .square {\n    width: 20px;\n    height: 20px;\n    margin: 6px;\n    display: inline-block;\n\n    &:hover:not(.empty):before {\n      box-shadow: "," 0 0 0 3px;\n    }\n    &:before {\n      content: ' ';\n      background: rgba(248, 247, 245, 1);\n      border-radius: 10px;\n      display: inline-block;\n      width: 20px;\n      height: 20px;\n    }\n    &.loading {\n      &:before {\n        background: radial-gradient(white 0%, white 45%, rgba(248, 247, 245, 1) 60%);\n      }\n    }\n    &.success {\n      &:before {\n        background: ",";\n      }\n    }\n    &.failure {\n      &:before {\n        background: ",";\n      }\n    }\n    &.success-missing {\n      &:before {\n        background: ",";\n      }\n    }\n    &.failure-missing {\n      &:before {\n        background: ",";\n      }\n    }\n    &.failure-blank {\n      &:before {\n        background: ",";\n      }\n    }\n    &.skipped {\n      &:before {\n        background: ",";\n      }\n    }\n    &.started,\n    &.starting,\n    &.canceling {\n      &:before {\n        background: ",";\n      }\n    }\n  }\n"]);return c=function(){return n},n}function l(){var n=(0,r._)(["\n  height: ","px;\n  line-height: ","px;\n  font-size: 13px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  position: relative;\n  background: ",";\n"]);return l=function(){return n},n}function u(){var n=(0,r._)(["\n  position: relative;\n  height: 70px;\n  padding: 4px;\n  padding-bottom: 0;\n  min-width: 15px;\n  align-items: flex-end;\n  display: flex;\n"]);return u=function(){return n},n}function d(){var n=(0,r._)(["\n  position: relative;\n  height: unset; /* provide via style tag */\n  padding: 4px;\n  padding-bottom: 0;\n  min-width: 15px;\n  margin-bottom: ","px;\n  align-items: end;\n  display: flex;\n  line-height: normal;\n\n  & > div.tilted {\n    font-size: 12px;\n    white-space: nowrap;\n    position: absolute;\n    bottom: -20px;\n    left: 0;\n    padding: 2px;\n    padding-right: 4px;\n    padding-left: 0;\n    transform: rotate(-","deg);\n    transform-origin: top left;\n  }\n"]);return d=function(){return n},n}function h(){var n=(0,r._)(["\n  display: flex;\n  border-right: 1px solid ",";\n  padding-bottom: 16px;\n  width: ","px;\n  z-index: 1;\n  ",";\n"]);return h=function(){return n},n}var p=32,f={SUCCESS:o.w.Green500,SUCCESS_SKIPPED:o.w.Green200,FAILURE:o.w.Red500,FAILURE_SKIPPED:o.w.Red200,SKIPPED:o.w.Yellow500,IN_PROGRESS:o.w.Blue500},x=function(n){return"linear-gradient(to left, ".concat(n," 0%, ").concat(n," 100%)")},m=a.ZP.div.withConfig({componentId:"sc-e14db92d-0"})(c(),function(n){var e=n.disabled,t=n.focused,r=n.multiselectFocused,i=n.hovered;return!e&&!t&&!r&&"&".concat(i?"":":hover"," {\n      background: ").concat(o.w.Gray100,";\n      cursor: default;\n      ").concat(b," {\n        background: ").concat(o.w.White,";\n        .tilted {\n          background: ").concat(o.w.Gray100,";\n        }\n      }\n      .square {\n        filter: brightness(95%);\n      }\n    }")},function(n){return n.disabled&&"\n      ".concat(b," {\n        color: ").concat(o.w.Gray400,"\n      }\n    ")},function(n){return n.focused&&"background: ".concat(o.w.Blue500,";\n    ").concat(g," {\n      color: white;\n    }\n    ").concat(b," {\n      background: ").concat(o.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(o.w.Blue500,";\n      }\n    }\n  }")},function(n){return n.multiselectFocused&&"background: ".concat(o.w.Blue200,";\n    ").concat(g," {\n      color: white;\n    }\n    ").concat(b," {\n      background: ").concat(o.w.White,";\n      color: white;\n      .tilted {\n        background: ").concat(o.w.Blue200,";\n      }\n    }\n  }")},p,o.w.Blue500,f.SUCCESS,f.FAILURE,f.SUCCESS_SKIPPED,f.FAILURE_SKIPPED,f.FAILURE_SKIPPED,f.SKIPPED,f.IN_PROGRESS),g=a.ZP.div.withConfig({componentId:"sc-e14db92d-1"})(l(),p,p,function(n){return[n.hovered?o.w.Gray100:"transparent"].map(x).join(",")}),j=a.ZP.div.withConfig({componentId:"sc-e14db92d-2"})(u());function v(n){var e,t=(e=Math).max.apply(e,(0,i._)(n.map(function(n){return n.length})));return(t>10?4.9*t:55)+15}var y=function(n){var e=n.label,t=n.$height;return(0,s.jsx)(b,{style:{height:t-15},children:(0,s.jsx)("div",{className:"tilted",children:e})})},b=a.ZP.div.withConfig({componentId:"sc-e14db92d-3"})(d(),15,41),w=330,S=a.ZP.div.withConfig({componentId:"sc-e14db92d-4"})(h(),o.w.Gray200,w,function(n){return n.floating?"box-shadow: 1px 0 4px rgba(0, 0, 0, 0.15)":""})},97948:function(n,e,t){t.d(e,{J2:function(){return b},Tg:function(){return S},iv:function(){return w}});var r=t(85333),i=t(6692),s=t(73235),o=t(60138),a=t(37552),c=t(2784),l=t(33467),u=t(1258),d=t(29668),h=t(7334),p=t(32606),f=t(9820);function x(){var n=(0,s._)(["\n  fragment PartitionMatrixStepRunFragment on Run {\n    id\n    status\n    startTime\n    endTime\n    stepStats {\n      stepKey\n      startTime\n      endTime\n      status\n    }\n    tags {\n      key\n      value\n    }\n  }\n"]);return x=function(){return n},n}function m(){var n=(0,s._)(["\n  fragment PartitionMatrixSolidHandleFragment on SolidHandle {\n    handleID\n    solid {\n      name\n      definition {\n        name\n      }\n      inputs {\n        dependsOn {\n          solid {\n            name\n          }\n        }\n      }\n      outputs {\n        dependedBy {\n          solid {\n            name\n          }\n        }\n      }\n    }\n    ...GraphExplorerSolidHandleFragment\n  }\n\n  ","\n"]);return m=function(){return n},n}var g=new Set([h.SGm.IN_PROGRESS,h.SGm.SKIPPED]);function j(n){return n.startTime||0}function v(n,e){return j(n)-j(e)}function y(n,e){var t=RegExp(n+"\\[.*\\]");return e===n||e==="".concat(n,".compute")||e.match(t)}var b=function(n){var e=c.useRef();if(!n.solidHandles)return null;if(e.current&&(0,a.shallowCompareKeys)(n,e.current.inputs))return e.current.result;var t=(0,p.i)(n.solidHandles).map(function(n){return n.solid}),s=(0,l.V)(t,n.stepQuery),o=function(n,e,t,s){var o={};t.forEach(function(n){n.runs.sort(v),o[n.name]=n});var a=e.map(function(e,t){var s=o[e]||{name:e,runsLoaded:!1,runs:[]},a=n.boxes.map(function(n){var e=n.node,t={name:e.name,color:"MISSING",unix:0};if(!s.runs.length)return t;var r=s.runs[s.runs.length-1],i=null===(a=r.stepStats.find(function(n){return y(e.name,n.stepKey)}))||void 0===a?void 0:a.status;if(s.runs.length>1&&(!i||g.has(i)))for(var o=s.runs.length-2;o>=0&&!c;){var a,c,l,u=null===(l=s.runs[o].stepStats.find(function(n){return y(e.name,n.stepKey)}))||void 0===l?void 0:l.status;if(u&&!g.has(u)){c=u;break}o--}if(!i&&!c)return t;var d=!i||g.has(i)?"".concat(c,"-MISSING"):i;return{name:e.name,unix:j(r),color:d}});return(0,i._)((0,r._)({},s),{steps:a,idx:t})}),c=a.filter(function(n){return n.runs.length>0}).length,l=n.boxes.map(function(n,e){var t=a.filter(function(n){return n.steps[e].color.includes("FAILURE")}),r=a.filter(function(n){return n.steps[e].color.endsWith("FAILURE")});return{x:n.x,name:n.node.name,totalFailurePercent:c?Math.round(t.length/c*100):0,finalFailurePercent:c?Math.round(r.length/c*100):0}});if(null==s?void 0:s.showFailuresAndGapsOnly){for(var u=function(n){0===l[n].finalFailurePercent&&(l.splice(n,1),a.forEach(function(e){return e.steps.splice(n,1)}))},d=l.length-1;d>=0;d--)u(d);for(var h=a.length-1;h>=0;h--)(0===a[h].runs.length||a[h].steps.every(function(n){return n.color.includes("SUCCESS")}))&&a.splice(h,1)}return{stepRows:l,partitions:t,partitionColumns:a}}((0,d.tc)({nodes:s.all,mode:u.hS.FLAT}),n.partitionNames,n.partitions,n.options);return e.current={result:o,inputs:n},o},w=(0,o.Ps)(x()),S=(0,o.Ps)(m(),f.Q)},22206:function(n,e,t){t.d(e,{T:function(){return y}});var r=t(81862),i=t(85333),s=t(6692),o=t(58467),a=t(73235),c=t(82550),l=t(82361),u=t(22970),d=t(56675),h=t(60138),p=t(2784),f=t(87905),x=t(7334),m=t(29545),g=t(97948);function j(){var n=(0,a._)(["\n  query PartitionStepLoaderQuery($filter: RunsFilter!, $cursor: String, $limit: Int) {\n    pipelineRunsOrError(filter: $filter, cursor: $cursor, limit: $limit) {\n      ... on Runs {\n        results {\n          id\n          ...PartitionMatrixStepRunFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return j=function(){return n},n}var v={runs:[],partitionNames:[],loading:!1,loadingCursorIdx:0};function y(n){var e,t,a=n.partitionSetName,h=n.partitionTagName,f=n.partitionNames,g=n.pageSize,j=n.runsFilter,y=n.jobName,w=n.repositorySelector,S=n.offset,k=n.skipQuery,C=(0,d.x)(),_=p.useRef(0),N=(0,o._)(p.useState(v),2),E=N[0],P=N[1],I=JSON.stringify((0,c._)(j.map(function(n){var e=(0,o._)(n.value.split("="),2);return{key:e[0],value:e[1]}})).concat([{key:m.H.RepositoryLabelTag,value:"".concat(w.repositoryName,"@").concat(w.repositoryLocationName)}]));return p.useEffect(function(){var n,e=_.current+1;_.current=e;var t=JSON.parse(I);P(function(n){return(0,s._)((0,i._)({},n),{runs:[],loading:!0})});var o=(n=(0,r._)(function(){var n,o,d,p,j,v;return(0,u.Jh)(this,function(w){switch(w.label){case 0:if(n=function(){var n,r,l;return(0,u.Jh)(this,function(u){switch(u.label){case 0:return r=Math.max(o-p,0),[4,Promise.all(f.slice(r,o).map(function(n){var e={key:m.H.PartitionSet,value:a},r={key:h,value:n};return b(C,{limit:1e3,filter:y?{pipelineName:y,tags:(0,c._)(t).concat([r])}:{tags:(0,c._)(t).concat([r,e])}})}))];case 1:if(l=u.sent(),_.current!==e)return[2,{v:void 0}];return o=r,P(function(e){return(0,s._)((0,i._)({},e),{runs:(n=(0,c._)(e.runs)).concat.apply(n,(0,c._)(l)),loading:o>0,loadingCursorIdx:o})}),[2]}})},_.current!==e)return[2];d=Math.max(0,(o=f.length-(S||0))-g),P(function(n){return(0,s._)((0,i._)({},n),{partitionNames:f,loadingCursorIdx:o})}),p=5,w.label=1;case 1:if(!(o>d))return[3,3];return[5,(0,u.XA)(n())];case 2:if(j=w.sent(),"object"===(0,l._)(j))return[2,j.v];return[3,1];case 3:return v=setInterval((0,r._)(function(){var n,r,o;return(0,u.Jh)(this,function(l){switch(l.label){case 0:if(_.current!==e)return[2,clearInterval(v)];return P(function(n){return(0,s._)((0,i._)({},n),{loading:!0})}),[4,b(C,{limit:10,filter:{tags:(0,c._)(t).concat([{key:m.H.PartitionSet,value:a}])}})];case 1:return n=l.sent(),[4,b(C,{filter:{statuses:[x.VOA.STARTED],tags:(0,c._)(t).concat([{key:m.H.PartitionSet,value:a}])}})];case 2:if(r=l.sent(),_.current!==e)return[2,clearInterval(v)];return o=(0,c._)(r).concat((0,c._)(n)).filter(function(n){return n.tags.find(function(n){return n.key===h&&f.includes(n.value)})}),P(function(n){var e=n.runs.filter(function(n){return!o.some(function(e){return e.id===n.id})}).concat(o);return(0,s._)((0,i._)({},n),{loading:!1,runs:e})}),[2]}})}),1e4),[2]}})}),function(){return n.apply(this,arguments)});return k||o(),function(){_.current+=1}},[g,C,a,h,I,y,S,f,k]),e=[],t={},E.partitionNames.forEach(function(n,r){t[n]={name:n,runsLoaded:r>=E.loadingCursorIdx,runs:[]},e.push(t[n])}),E.runs.forEach(function(n){var e,r;null===(r=t[(null===(e=n.tags.find(function(n){return n.key===h}))||void 0===e?void 0:e.value)||""])||void 0===r||r.runs.push(n)}),e}function b(n,e){return w.apply(this,arguments)}function w(){return(w=(0,r._)(function(n,e){var t;return(0,u.Jh)(this,function(r){switch(r.label){case 0:return[4,n.query({fetchPolicy:"network-only",query:S,variables:e})];case 1:return[2,"Runs"===(t=r.sent()).data.pipelineRunsOrError.__typename&&t.data.pipelineRunsOrError.results||[]]}})})).apply(this,arguments)}var S=(0,h.Ps)(j(),g.iv,f.B)},49604:function(n,e,t){t.d(e,{r:function(){return Z},$:function(){return G}});var r=t(85333),i=t(6692),s=t(73235),o=t(52322),a=t(40794),c=t(60138),l=t(2736),u=t(87323),d=t(98353),h=t(62540),p=t(19369),f=t(51927),x=t(92914),m=t(47625),g=t(8504),j=t(42971),v=t(42033),y=t(34706),b=t(45),w=t(72096),S=t(88528);t(2784);var k=t(7267),C=t(47933),_=t(35505),N=t(8848),E=t(87905),P=t(48608),I=t(93457),R=t(34503),T=t(3358),O=t(26196),D=t(72171),A=t(30895),U=t(41060),F=t(11780),L=t(89072),q={configuration:"Configuration",uses:"Uses"},$=function(n){var e=n.repoAddress,t=n.resourceName,r=n.numUses,i=(0,k.$B)(["/locations/:repoPath/resources/:name/:tab?"]),s=(null==i?void 0:i.params.tab)&&q[null==i?void 0:i.params.tab]||"Configuration";return(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)(F.mQ,{size:"large",selectedTabId:s,children:[(0,o.jsx)(L.f,{id:"Configuration",title:"Configuration",to:(0,U.$U)(e,"/resources/".concat(t))},"configuration"),(0,o.jsx)(L.f,{id:"Uses",title:(0,o.jsxs)(l.x,{flex:{gap:4,alignItems:"center"},children:["Uses",(0,o.jsx)(v.V,{intent:"none",minimal:!0,children:r})]}),to:(0,U.$U)(e,"/resources/".concat(t,"/uses"))},"uses")]})})};function z(){var n=(0,s._)(["\n  position: relative;\n\n  height: 100%;\n  min-height: 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  background: ",";\n"]);return z=function(){return n},n}function B(){var n=(0,s._)(["\n  flex: 1;\n  overflow-y: auto;\n"]);return B=function(){return n},n}function J(){var n=(0,s._)(["\n  fragment ResourceDetailsFragment on ResourceDetails {\n    name\n    description\n    configFields {\n      name\n      description\n      configTypeKey\n      isRequired\n      defaultValueAsJson\n    }\n    configuredValues {\n      key\n      value\n      type\n    }\n    nestedResources {\n      name\n      type\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    parentResources {\n      name\n      resource {\n        name\n        resourceType\n        description\n      }\n    }\n    assetKeysUsing {\n      path\n    }\n    schedulesUsing\n    sensorsUsing\n    jobsOpsUsing {\n      job {\n        id\n        name\n      }\n      opsUsing {\n        handleID\n        solid {\n          name\n        }\n      }\n    }\n    resourceType\n  }\n"]);return J=function(){return n},n}function M(){var n=(0,s._)(["\n  query ResourceRootQuery($resourceSelector: ResourceSelector!) {\n    topLevelResourceDetailsOrError(resourceSelector: $resourceSelector) {\n      ...ResourceDetailsFragment\n      ...PythonErrorFragment\n    }\n  }\n  ","\n  ","\n"]);return M=function(){return n},n}var G=function(n){return(null==n?void 0:n.split(".").pop())||null},V=function(n){return n?n.name.startsWith("_nested_")?G(null==n?void 0:n.resourceType):n.name:null},K=function(n){return(0,o.jsx)(l.x,{padding:{left:24,vertical:16},background:u.w.Gray50,border:"all",children:n.children})},Z=function(n){(0,P.Px)();var e,t,s,c,y=n.repoAddress,b=(0,k.UO)().resourceName;(0,R.j)("Resource: ".concat(b));var w=(0,i._)((0,r._)({},(0,A.$)(y)),{resourceName:b}),S=(0,a.a)(ne,{variables:{resourceSelector:w}}),C=(null===(e=S.data)||void 0===e?void 0:e.topLevelResourceDetailsOrError.__typename)==="ResourceDetails"&&V(null===(t=S.data)||void 0===t?void 0:t.topLevelResourceDetailsOrError)||b,_=(null===(s=S.data)||void 0===s?void 0:s.topLevelResourceDetailsOrError.__typename)==="ResourceDetails"?S.data.topLevelResourceDetailsOrError.parentResources.length+S.data.topLevelResourceDetailsOrError.assetKeysUsing.length+S.data.topLevelResourceDetailsOrError.jobsOpsUsing.length+S.data.topLevelResourceDetailsOrError.schedulesUsing.length+S.data.topLevelResourceDetailsOrError.sensorsUsing.length:0,E=null===(c=(0,k.$B)(["/locations/:repoPath/resources/:name/:tab?"]))||void 0===c?void 0:c.params.tab;return(0,o.jsxs)(d.T,{style:{height:"100%",overflow:"hidden"},children:[(0,o.jsx)(h.m,{title:(0,o.jsx)(p.X6,{children:C}),tabs:(0,o.jsx)($,{repoAddress:y,resourceName:b,numUses:_})}),(0,o.jsx)(D.g,{queryResult:S,allowStaleData:!0,children:function(n){var e=n.topLevelResourceDetailsOrError;if("ResourceDetails"!==e.__typename){var t=null;return"PythonError"===e.__typename&&(t=e.message),(0,o.jsx)(f.b,{intent:"warning",title:(0,o.jsxs)(x.Z,{direction:"row",spacing:4,children:[(0,o.jsx)("div",{children:"Could not load resource."}),t&&(0,o.jsx)(m.Z,{color:u.w.Link,underline:"always",onClick:function(){(0,N._)({title:"Python error",body:t})},children:"View error"})]})})}var r=G(e.resourceType);return(0,o.jsx)("div",{style:{height:"100%",display:"flex"},children:(0,o.jsx)(g.O,{identifier:"explorer",firstInitialPercent:50,firstMinSize:400,first:(0,o.jsx)(l.x,{padding:{bottom:48},style:{overflowY:"auto"},children:"uses"===E?(0,o.jsx)(W,{resourceDetails:e,repoAddress:y,numUses:_}):(0,o.jsx)(H,{resourceDetails:e,repoAddress:y})}),second:(0,o.jsx)(Q,{children:(0,o.jsxs)(X,{children:[(0,o.jsxs)(l.x,{flex:{gap:4,direction:"column"},margin:{left:24,right:12,vertical:16},children:[(0,o.jsx)(p.X6,{children:C}),(0,o.jsx)(j.u,{content:e.resourceType||"",children:(0,o.jsx)(p.fv,{children:r})})]}),(0,o.jsx)(O.pC,{title:"Definition",children:(0,o.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:(0,o.jsxs)(v.V,{icon:"resource",children:["Resource in"," ",(0,o.jsx)(T.b,{repoAddress:y,showRefresh:!1})]})})}),e.description?(0,o.jsx)(O.pC,{title:"Description",children:(0,o.jsx)(l.x,{padding:{vertical:16,horizontal:24},children:e.description})}):null]})})})})}})]})},H=function(n){var e=n.resourceDetails,t=n.repoAddress,r=Object.fromEntries(e.configuredValues.map(function(n){return[n.key,{value:n.value,type:n.type}]})),i=e.nestedResources;return(0,o.jsxs)(o.Fragment,{children:[i.length>0&&(0,o.jsxs)(l.x,{children:[(0,o.jsx)(K,{children:(0,o.jsx)(p.pm,{children:"Resource dependencies"})}),(0,o.jsxs)(y.i,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:{width:120},children:"Key"}),(0,o.jsx)("th",{style:{width:180},children:"Resource"})]})}),(0,o.jsx)("tbody",{children:i.map(function(n){var e="TOP_LEVEL"===n.type&&n.resource?(0,o.jsx)(Y,{url:(0,U.$U)(t,"/resources/".concat(n.name)),name:V(n.resource)||"",description:n.resource.description||void 0},n.name):(0,o.jsx)(Y,{name:n.name},n.name);return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsx)("strong",{children:n.name})}),(0,o.jsx)("td",{colSpan:2,children:e})]},n.name)})})]})]}),(0,o.jsxs)(l.x,{children:[(0,o.jsx)(K,{children:(0,o.jsx)(p.pm,{children:"Configuration"})}),(0,o.jsxs)(y.i,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{style:{width:120},children:"Key"}),(0,o.jsx)("th",{style:{width:90},children:"Type"}),(0,o.jsx)("th",{style:{width:90},children:"Value"})]})}),(0,o.jsx)("tbody",{children:0===e.configFields.length?(0,o.jsx)("tr",{children:(0,o.jsx)("td",{colSpan:3,children:(0,o.jsx)(l.x,{padding:{vertical:8},children:(0,o.jsx)(b.t,{icon:"settings",title:"No configuration",description:"This resource has no configuration fields."})})})}):e.configFields.map(function(n){var e,t=n.defaultValueAsJson,i=r.hasOwnProperty(n.name)?r[n.name].type:null,s=r.hasOwnProperty(n.name)?r[n.name].value:t,a="VALUE"===i&&t===s;return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)(l.x,{flex:{direction:"column",gap:4,alignItems:"flex-start"},children:[(0,o.jsx)("strong",{children:n.name}),(0,o.jsx)("div",{style:{fontSize:12,color:u.w.Gray700},children:n.description})]})}),(0,o.jsx)("td",{children:"StringSourceType"===(e=n.configTypeKey)?"String":"IntSourceType"===e?"Int":"BoolSourceType"===e?"Bool":e}),(0,o.jsx)("td",{children:(0,o.jsxs)(l.x,{flex:{direction:"row",gap:16},children:[(0,o.jsx)(j.u,{content:(0,o.jsxs)(o.Fragment,{children:["Default: ",t]}),canShow:!a&&!!t,children:"ENV_VAR"===i?(0,o.jsx)(v.V,{children:s}):s}),a&&(0,o.jsx)(v.V,{children:"Default"}),"ENV_VAR"===i&&(0,o.jsx)(v.V,{intent:"success",children:"Env var"})]})})]},n.name)})})]})]})]})},W=function(n){var e=n.resourceDetails,t=n.repoAddress;if(0===n.numUses)return(0,o.jsx)(l.x,{padding:{vertical:16},children:(0,o.jsx)(b.t,{icon:"list",title:"No uses",description:"This resource is not used by any assets or resources."})});var r=e.parentResources;return(0,o.jsxs)(o.Fragment,{children:[r.length>0&&(0,o.jsxs)(l.x,{children:[(0,o.jsx)(K,{children:(0,o.jsx)(p.pm,{children:"Parent resources"})}),(0,o.jsxs)(y.i,{children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:(0,o.jsx)("th",{children:"Resource"})})}),(0,o.jsx)("tbody",{children:r.map(function(n){return n.resource&&(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:(0,o.jsx)(Y,{url:(0,U.$U)(t,"/resources/".concat(n.name)),name:V(n.resource)||"",description:n.resource.description||void 0})})},n.name)})})]})]}),e.assetKeysUsing.length>0&&(0,o.jsxs)(l.x,{children:[(0,o.jsx)(K,{children:(0,o.jsx)(p.pm,{children:"Assets"})}),(0,o.jsxs)(y.i,{children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:(0,o.jsx)("th",{children:"Asset key"})})}),(0,o.jsx)("tbody",{children:e.assetKeysUsing.map(function(n){return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:(0,o.jsx)(I.R,{path:n.path,icon:"asset"},n.path.join("/"))})},n.path.join("/"))})})]})]}),e.jobsOpsUsing.length>0&&(0,o.jsxs)(l.x,{children:[(0,o.jsx)(K,{children:(0,o.jsx)(p.pm,{children:"Jobs"})}),(0,o.jsxs)(y.i,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{children:"Job name"}),(0,o.jsx)("th",{children:"Ops"})]})}),(0,o.jsx)("tbody",{children:e.jobsOpsUsing.map(function(n){return(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:(0,o.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,o.jsx)(w.JO,{name:"job",color:u.w.Gray400}),(0,o.jsx)(C.rU,{to:(0,U.$U)(t,"/jobs/".concat(n.job.name)),children:(0,o.jsx)(S.g,{text:n.job.name})})]})}),(0,o.jsx)("td",{children:(0,o.jsx)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:n.opsUsing.map(function(e){return(0,o.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[(0,o.jsx)(w.JO,{name:"op",color:u.w.Gray400}),(0,o.jsx)(C.rU,{to:(0,U.$U)(t,"/jobs/".concat(n.job.name,"/").concat(e.handleID.split(".").join("/"))),children:(0,o.jsx)(S.g,{text:e.solid.name})})]},e.handleID)})})})]},n.job.name)})})]})]}),[{name:"Schedules",objects:e.schedulesUsing,icon:(0,o.jsx)(w.JO,{name:"schedule",color:u.w.Gray400})},{name:"Sensors",objects:e.sensorsUsing,icon:(0,o.jsx)(w.JO,{name:"sensors",color:u.w.Gray400})}].filter(function(n){return n.objects.length>0}).map(function(n){var e=n.name,r=n.objects,i=n.icon;return(0,o.jsxs)("div",{children:[(0,o.jsx)(K,{children:(0,o.jsx)(p.pm,{children:e})}),(0,o.jsxs)(y.i,{children:[(0,o.jsx)("thead",{children:(0,o.jsx)("tr",{children:(0,o.jsx)("th",{children:"Name"})})}),(0,o.jsx)("tbody",{children:r.map(function(n){return(0,o.jsx)("tr",{children:(0,o.jsx)("td",{children:(0,o.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",display:"inline-flex",gap:8},style:{maxWidth:"100%"},children:[i,(0,o.jsx)(C.rU,{to:(0,U.$U)(t,"/".concat(e.toLowerCase(),"/").concat(n)),children:(0,o.jsx)(S.g,{text:n})})]})})},e+":"+n)})})]})]},e)})]})},Y=function(n){var e=n.url,t=n.name,r=n.description;return(0,o.jsxs)(l.x,{flex:{direction:"column"},children:[(0,o.jsxs)(l.x,{flex:{direction:"row",alignItems:"center",gap:4},style:{maxWidth:"100%"},children:[(0,o.jsx)(w.JO,{name:"resource",color:u.w.Blue700}),(0,o.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:e?(0,o.jsx)(C.rU,{to:e,style:{overflow:"hidden"},children:(0,o.jsx)(S.g,{text:t})}):(0,o.jsx)(S.g,{text:t})})]}),(0,o.jsx)(p.aU,{children:r})]})},Q=_.ZP.div.withConfig({componentId:"sc-864853b6-0"})(z(),u.w.White),X=_.ZP.div.withConfig({componentId:"sc-864853b6-1"})(B()),nn=(0,c.Ps)(J()),ne=(0,c.Ps)(M(),nn,E.B)},49806:function(n,e,t){t.d(e,{K:function(){return j},f:function(){return v}});var r=t(73235),i=t(52322),s=t(2736),o=t(72096),a=t(87323),c=t(88528),l=t(19369),u=t(42971);t(2784);var d=t(47933),h=t(35505),p=t(4250),f=t(41060),x=t(49604);function m(){var n=(0,r._)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"]);return m=function(){return n},n}var g="1.5fr 1fr 1fr",j=function(n){var e=n.name,t=n.description,r=n.repoAddress,h=n.start,m=n.height,g=n.resourceType,j=n.parentResources,v=n.jobsOpsUsing,b=n.assetKeysUsing,w=n.schedulesUsing,S=n.sensorsUsing,k=(0,x.$)(g),C=j.length+v.length+b.length+w.length+S.length;return(0,i.jsx)(p.X2,{$height:m,$start:h,children:(0,i.jsxs)(y,{border:"bottom",children:[(0,i.jsx)(p.E5,{children:(0,i.jsxs)(s.x,{flex:{direction:"column",gap:4},children:[(0,i.jsxs)(s.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[(0,i.jsx)(o.JO,{name:"resource",color:a.w.Gray400}),(0,i.jsx)("span",{style:{fontWeight:500},children:(0,i.jsx)(d.rU,{to:(0,f.$U)(r,"/resources/".concat(e)),children:(0,i.jsx)(c.g,{text:e})})})]}),(0,i.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,i.jsx)(l.YS,{style:{color:a.w.Gray500,whiteSpace:"nowrap"},children:t})})]})}),(0,i.jsx)(p.E5,{children:(0,i.jsx)(u.u,{content:g,children:(0,i.jsx)(l.fv,{children:k})})}),(0,i.jsx)(p.E5,{children:(0,i.jsx)(d.rU,{to:(0,f.$U)(r,"/resources/".concat(e,"/uses")),children:C})})]})})},v=function(){return(0,i.jsxs)(s.x,{border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:g,height:"32px",fontSize:"12px",color:a.w.Gray600},children:[(0,i.jsx)(p.qN,{children:"Name"}),(0,i.jsx)(p.qN,{children:"Type"}),(0,i.jsx)(p.qN,{children:"Uses"})]})},y=(0,h.ZP)(s.x).withConfig({componentId:"sc-c7396c09-0"})(m(),g)},57378:function(n,e,t){t.d(e,{L:function(){return P},g:function(){return E}});var r=t(58467),i=t(73235),s=t(52322),o=t(40794),a=t(60138),c=t(2736),l=t(91588),u=t(87323),d=t(45),h=t(71539),p=t(2784),f=t(87905),x=t(63757),m=t(48608),g=t(34503),j=t(59859),v=t(19618),y=t(30895),b=t(85333),w=t(68577),S=t(4250),k=t(49806),C=function(n){var e=n.repoAddress,t=n.resources,r=p.useRef(null),i=(0,w.useVirtualizer)({count:t.length,getScrollElement:function(){return r.current},estimateSize:function(){return 64},overscan:10}),o=i.getTotalSize(),a=i.getVirtualItems();return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(k.f,{}),(0,s.jsx)("div",{style:{overflow:"hidden"},children:(0,s.jsx)(S.W2,{ref:r,children:(0,s.jsx)(S.Nh,{$totalHeight:o,children:a.map(function(n){var r=n.index,i=n.key,o=n.size,a=n.start,c=t[r];return(0,s.jsx)(k.K,(0,b._)({repoAddress:e,height:o,start:a},c),i)})})})})]})};function _(){var n=(0,i._)(["\n  fragment ResourceEntryFragment on ResourceDetails {\n    name\n    description\n    resourceType\n    parentResources {\n      name\n    }\n    assetKeysUsing {\n      path\n    }\n    jobsOpsUsing {\n      job {\n        id\n      }\n    }\n    schedulesUsing\n    sensorsUsing\n  }\n"]);return _=function(){return n},n}function N(){var n=(0,i._)(["\n  query WorkspaceResourcesQuery($selector: RepositorySelector!) {\n    repositoryOrError(repositorySelector: $selector) {\n      ... on Repository {\n        id\n        name\n        allTopLevelResourceDetails {\n          ...ResourceEntryFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n  ","\n"]);return N=function(){return n},n}var E=function(n){var e=n.repoAddress;(0,m.Px)();var t=(0,v.Uz)(e);(0,g.j)("Resources: ".concat(t));var i=(0,r._)(p.useState(""),2),a=i[0],f=i[1],b=(0,y.$)(e),w=(0,o.a)(I,{fetchPolicy:"network-only",notifyOnNetworkStatusChange:!0,variables:{selector:b}}),S=w.data,k=w.loading,_=(0,x.C4)(w,x.dT),N=a.trim().toLocaleLowerCase(),E=N.length>0,P=p.useMemo(function(){return(null==S?void 0:S.repositoryOrError.__typename)==="Repository"?S.repositoryOrError.allTopLevelResourceDetails:[]},[S]),R=p.useMemo(function(){var n=N.toLocaleLowerCase();return P.filter(function(e){return e.name.toLocaleLowerCase().includes(n)})},[P,N]);return(0,s.jsxs)(c.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,s.jsx)(j.h,{repoAddress:e,tab:"resources",refreshState:_,queryData:w}),(0,s.jsx)(c.x,{padding:{horizontal:24,vertical:16},children:(0,s.jsx)(h.oi,{icon:"search",value:a,onChange:function(n){return f(n.target.value)},placeholder:"Filter by resource name…",style:{width:"340px"}})}),k&&!S?(0,s.jsx)(c.x,{padding:64,children:(0,s.jsx)(l.$,{purpose:"page"})}):k&&!S?(0,s.jsx)(c.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,s.jsxs)(c.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,s.jsx)(l.$,{purpose:"body-text"}),(0,s.jsx)("div",{style:{color:u.w.Gray600},children:"Loading resources…"})]})}):R.length?(0,s.jsx)(C,{repoAddress:e,resources:R}):E?(0,s.jsx)(c.x,{padding:{top:20},children:(0,s.jsx)(d.t,{icon:"search",title:"No matching resources",description:(0,s.jsxs)("div",{children:["No resources matching ",(0,s.jsx)("strong",{children:a})," were found in ",t]})})}):(0,s.jsx)(c.x,{padding:{top:20},children:(0,s.jsx)(d.t,{icon:"search",title:"No resources",description:"No resources were found in ".concat(t)})})]})},P=(0,a.Ps)(_()),I=(0,a.Ps)(N(),f.B,P)},91424:function(n,e,t){t.d(e,{L:function(){return f},l:function(){return p}});var r=t(73235),i=t(52322),s=t(2736),o=t(72096),a=t(87323);t(2784);var c=t(35505),l=t(61018);function u(){var n=(0,r._)(["\n  background-color: ",";\n  border: 0;\n  box-shadow:\n    inset 0px -1px 0 ",",\n    inset 0px 1px 0 ",";\n  cursor: pointer;\n  display: block;\n  padding: 0;\n  width: 100%;\n  margin: 0;\n  height: ","px;\n  text-align: left;\n\n  :focus,\n  :active {\n    outline: none;\n  }\n\n  :hover {\n    background-color: ",";\n  }\n\n  ",'[aria-label="arrow_drop_down"] {\n    transition: transform 100ms linear;\n    ',"\n  }\n"]);return u=function(){return n},n}function d(){var n=(0,r._)(["\n  font-weight: 600;\n"]);return d=function(){return n},n}function h(){var n=(0,r._)(["\n  font-weight: 400;\n  color: ",";\n"]);return h=function(){return n},n}var p=32,f=function(n){var e=n.expanded,t=n.onClick,r=n.repoName,c=n.repoLocation,u=n.showLocation,d=n.rightElement,h=r===l.Js;return(0,i.jsx)(x,{$open:e,onClick:t,children:(0,i.jsxs)(s.x,{flex:{alignItems:"center",justifyContent:"space-between"},padding:{horizontal:24},children:[(0,i.jsxs)(s.x,{flex:{alignItems:"center",gap:8},children:[(0,i.jsx)(o.JO,{name:"folder",color:a.w.Dark}),(0,i.jsxs)("div",{children:[(0,i.jsx)(m,{children:h?c:r}),u&&!h?(0,i.jsx)(g,{children:"@".concat(c)}):null]})]}),(0,i.jsxs)(s.x,{flex:{alignItems:"center",gap:8},children:[d,(0,i.jsx)(s.x,{margin:{top:2},children:(0,i.jsx)(o.JO,{name:"arrow_drop_down"})})]})]})})},x=c.ZP.button.withConfig({componentId:"sc-e47bf0de-0"})(u(),a.w.Gray50,a.w.KeylineGray,a.w.KeylineGray,p,a.w.Gray100,o.a1,function(n){return n.$open?null:"transform: rotate(-90deg);"}),m=c.ZP.span.withConfig({componentId:"sc-e47bf0de-1"})(d()),g=c.ZP.span.withConfig({componentId:"sc-e47bf0de-2"})(h(),a.w.Gray700)},83694:function(n,e,t){t.d(e,{JH:function(){return S},qL:function(){return k}});var r=t(73235),i=t(52322),s=t(2736),o=t(17577),a=t(19369),c=t(87323),l=t(94901);t(2784);var u=t(47933),d=t(35505),h=t(87093),p=t(8181),f=t(50743),x=t(37842),m=t(83221);function g(){var n=(0,r._)(["\n  padding: 4px;\n  font-size: 12px;\n  width: 220px;\n"]);return g=function(){return n},n}function j(){var n=(0,r._)(["\n  padding: 8px;\n  box-shadow: inset 0 -1px ",";\n  font-family: ",";\n  font-size: 14px;\n  font-weight: 500;\n  color: ",";\n  max-width: 100%;\n  text-overflow: ellipsis;\n  overflow: hidden;\n  min-width: 0px;\n"]);return j=function(){return n},n}function v(){var n=(0,r._)(["\n  padding: 8px;\n  font-size: 12px;\n  display: flex;\n  align-items: flex-start;\n  justify-content: space-between;\n"]);return v=function(){return n},n}function y(){var n=(0,r._)(["\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  padding: 4px 8px 8px;\n\n  :empty {\n    display: none;\n  }\n"]);return y=function(){return n},n}function b(){var n=(0,r._)(["\n  background-color: ",";\n  border-radius: 2px;\n  height: 16px;\n  opacity: ",";\n  width: 8px;\n"]);return b=function(){return n},n}var w=function(n){var e=n.status,t=n.opacity,r=f.YM[e];return(0,i.jsx)(P,{$color:r,$opacity:void 0===t?1:t})},S=function(n){var e=n.fade,t=n.jobName,r=n.runs,a=r.length,c=.8/Math.max(3,a);return(0,i.jsx)(s.x,{flex:{direction:"row",alignItems:"center",gap:2},children:r.map(function(n,r){return(0,i.jsx)(o.J,{position:"top",interactionKind:"hover",content:(0,i.jsx)("div",{children:(0,i.jsx)(k,{run:n,name:t})}),hoverOpenDelay:100,children:(0,i.jsx)(w,{runId:n.id,status:n.status,opacity:e?1-(a-r-1)*c:1},n.id)},n.id)})})},k=function(n){var e=n.name,t=n.run;return(0,i.jsxs)(C,{children:[(0,i.jsx)(_,{children:e}),(0,i.jsxs)(N,{children:[(0,i.jsxs)(s.x,{flex:{alignItems:"center",direction:"row",gap:8},children:[(0,i.jsx)(p.K9,{status:t.status}),(0,i.jsx)(u.rU,{to:"/runs/".concat(t.id),children:(0,i.jsx)(a.fv,{style:{fontSize:"14px"},children:(0,m.EI)(t)})})]}),(0,i.jsxs)(s.x,{flex:{direction:"column",gap:4},padding:{top:2},children:[(0,i.jsx)(m.Zr,{run:t}),(0,i.jsx)(m.Tw,{run:t})]})]}),x.hd.has(t.status)||x.Ys.has(t.status)?(0,i.jsx)(E,{children:(0,i.jsx)(h.I,{runId:t.id})}):null]})},C=d.ZP.div.withConfig({componentId:"sc-9155d8b6-0"})(g()),_=d.ZP.div.withConfig({componentId:"sc-9155d8b6-1"})(j(),c.w.KeylineGray,l.b.default,c.w.Dark),N=d.ZP.div.withConfig({componentId:"sc-9155d8b6-2"})(v()),E=d.ZP.div.withConfig({componentId:"sc-9155d8b6-3"})(y()),P=d.ZP.div.withConfig({componentId:"sc-9155d8b6-4"})(b(),function(n){return n.$color},function(n){return n.$opacity})},66829:function(n,e,t){t.d(e,{Y:function(){return na},q:function(){return ni}});var r=t(87612),i=t(85333),s=t(6692),o=t(58467),a=t(73235),c=t(82550),l=t(52322),u=t(85112),d=t(2736),h=t(42971),p=t(42033),f=t(87323),x=t(94901),m=t(72096),g=t(88528),j=t(17577),v=t(91588),y=t(19369),b=t(68577),w=t(2784),S=t(47933),k=t(35505),C=t(86631),_=t(30082),N=t(16369),E=t(4250),P=t(67310),I=t(89356),R=t(24819),T=function(){var n=w.useContext(I.JB),e=(0,o._)(n.timezone,1)[0],t=(0,o._)(n.hourCycle,1)[0],r="Automatic"===e?(0,R.cw)():e,s="Automatic"===t?void 0:t;return w.useCallback(function(n,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:navigator.language;return Intl.DateTimeFormat(t,(0,i._)({timeZone:r,hourCycle:s},e)).format(n)},[r,s])},O=t(31527),D=t(56536),A=t(19618),U=t(81855),F=t(91424),L=t(8181),q=t(37842),$=t(44605),z=t(42354),B=function(n){switch(n){case"queued":case"scheduled":return f.w.Blue200;case"inProgress":return f.w.Blue500;case"failed":return f.w.Red500;case"succeeded":return f.w.Green500}},J=function(n){var e={scheduled:0,queued:0,inProgress:0,failed:0,succeeded:0};n.forEach(function(n){var t=n.status;"SCHEDULED"===t?e.scheduled++:q.sy.has(t)?e.queued++:q.Ys.has(t)?e.inProgress++:q.hd.has(t)?e.failed++:q._m.has(t)&&e.succeeded++});var t=Object.keys(e).filter(function(n){return e[n]>0});if(1===t.length)return B((0,o._)(t,1)[0]);for(var r=n.length,i=[e.failed>0?{status:"failed",pct:100*e.failed/r}:null,e.succeeded>0?{status:"succeeded",pct:100*e.succeeded/r}:null,e.inProgress>0?{status:"inProgress",pct:100*e.inProgress/r}:null,e.queued>0?{status:"queued",pct:100*e.queued/r}:null,e.scheduled>0?{status:"scheduled",pct:100*e.scheduled/r}:null].filter(Boolean),s="",a=0,c=0,l=0;l<i.length;l++){var u=i[l];if(u){var d=u.status,h=u.pct;c=a,a+=h;var p=B(d);0===l?s+="".concat(p," ").concat(h.toFixed(1),"%, "):l===i.length-1?s+="".concat(p," ").concat(c.toFixed(1),"%"):s+="".concat(p," ").concat(c.toFixed(1),"% ").concat(a.toFixed(1),"%, ")}}return"linear-gradient(to right, ".concat(s,")")};function M(){var n=(0,a._)(["\n  white-space: nowrap;\n"]);return M=function(){return n},n}function G(){var n=(0,a._)(["\n  position: absolute;\n  top: 0;\n  left: ","px;\n  right: 0;\n  font-family: ",";\n  color: ",";\n"]);return G=function(){return n},n}function V(){var n=(0,a._)(["\n  display: flex;\n  align-items: center;\n  box-shadow:\n    inset 1px 0 0 ",",\n    inset 0 1px 0 ",",\n    inset -1px 0 0 ",";\n  height: ","px;\n  position: relative;\n  user-select: none;\n  font-size: 12px;\n  width: 100%;\n  overflow: hidden;\n"]);return V=function(){return n},n}function K(){var n=(0,a._)(["\n  position: absolute;\n  padding: 8px 0;\n  box-shadow: inset 1px 0 0 ",";\n  white-space: nowrap;\n"]);return K=function(){return n},n}function Z(){var n=(0,a._)(["\n  position: absolute;\n  padding: 8px;\n  box-shadow: inset 1px 0 0 ",";\n  white-space: nowrap;\n"]);return Z=function(){return n},n}function H(){var n=(0,a._)(["\n  height: 100%;\n  position: relative;\n  width: 100%;\n  box-shadow:\n    inset 1px 0 0 ",",\n    inset -1px 0 0 ",";\n"]);return H=function(){return n},n}function W(){var n=(0,a._)(["\n  background-color: ",";\n  height: 100%;\n  position: absolute;\n  top: 0;\n  width: 1px;\n"]);return W=function(){return n},n}function Y(){var n=(0,a._)(["\n  background-color: ",";\n  border-radius: 1px;\n  color: ",";\n  cursor: default;\n  font-size: 12px;\n  line-height: 12px;\n  margin-left: -12px;\n  padding: 1px 4px;\n  position: absolute;\n  top: -14px;\n  user-select: none;\n"]);return Y=function(){return n},n}function Q(){var n=(0,a._)(["\n  align-items: center;\n  box-shadow: inset 0 -1px 0 ",";\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  padding: 1px 0;\n  left: 0;\n  position: absolute;\n  right: 0;\n  top: 0;\n  overflow: hidden;\n\n  :hover {\n    background-color: ",";\n  }\n"]);return Q=function(){return n},n}function X(){var n=(0,a._)(["\n  align-items: center;\n  display: flex;\n  font-size: 13px;\n  justify-content: flex-start;\n  gap: 8px;\n  line-height: 16px;\n  overflow: hidden;\n  padding: 0 12px 0 24px;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: ","px;\n"]);return X=function(){return n},n}function nn(){var n=(0,a._)(["\n  flex: 1;\n  position: relative;\n  height: ","px;\n"]);return nn=function(){return n},n}function ne(){var n=(0,a._)(["\n  align-items: center;\n  background: ",";\n  border-radius: 2px;\n  height: ","px;\n  position: absolute;\n  top: 2px;\n  ",";\n\n  transition:\n    background-color 300ms linear,\n    width 300ms ease-in-out;\n\n  .chunk-popover-target {\n    display: block;\n    height: 100%;\n    width: 100%;\n  }\n"]);return ne=function(){return n},n}function nt(){var n=(0,a._)(["\n  color: ",";\n  cursor: default;\n  font-family: ",";\n  font-size: 14px;\n  font-weight: 600;\n  user-select: none;\n"]);return nt=function(){return n},n}function nr(){var n=(0,a._)(["\n  display: block;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 100%;\n"]);return nr=function(){return n},n}var ni=function(n){var e=n.loading,t=n.jobs,a=n.range,h=w.useRef(null),p=(0,u.S)(),f=p.viewport.width,x=p.containerProps.ref,m=Date.now(),g=(0,o._)(a,2),j=(g[0],g[1]),v=t.reduce(function(n,e){var t=e.repoAddress,o=(0,A.Qj)(t),a=n[o]||[];return(0,s._)((0,i._)({},n),(0,r._)({},o,(0,c._)(a).concat([e])))},{}),y=Object.keys(v),S=(0,O.N)(C.y,y),k=S.expandedKeys,_=S.onToggle,N=S.onToggleAll,I=w.useMemo(function(){var n=[];return Object.entries(v).forEach(function(e){var t=(0,o._)(e,2),r=t[0],i=t[1],s=(0,U.g)(r);s&&(n.push({type:"header",repoAddress:s,jobCount:i.length}),k.includes(r)&&i.forEach(function(e){n.push({type:"job",repoAddress:s,job:e})}))}),n},[v,k]),R=(0,b.useVirtualizer)({count:I.length,getScrollElement:function(){return h.current},estimateSize:function(n){return 32},overscan:40}),T=R.getTotalSize(),D=R.getVirtualItems();if(!f)return(0,l.jsx)("div",{style:{height:174},ref:x});var L=Object.keys(v).sort(function(n,e){return n.localeCompare(e)}),q=L.filter(function(n){return k.includes(n)}).reduce(function(n,e){return n+v[e].length},0),$=L.length*F.l+32*q,z=(0,P.w)(L.map(function(n){var e;return(null===(e=(0,U.g)(n))||void 0===e?void 0:e.name)||""})),B=L.length>0;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("div",{ref:x}),(0,l.jsx)(d.x,{padding:{left:24},flex:{direction:"column",justifyContent:"center"},style:{fontSize:"16px",flex:"0 0 ".concat(64,"px")},border:"top-and-bottom",children:"Jobs"}),(0,l.jsx)("div",{style:{position:"relative"},children:(0,l.jsx)(nh,{interval:36e5,range:a,height:B?$:0})}),L.length?(0,l.jsx)("div",{style:{overflow:"hidden",position:"relative"},children:(0,l.jsx)(E.W2,{ref:h,children:(0,l.jsx)(E.Nh,{$totalHeight:T,children:D.map(function(n){var e=n.index,t=n.key,r=n.size,i=n.start,s=I[e];if("header"===s.type){var o=(0,A.Qj)(s.repoAddress),c=s.repoAddress.name;return(0,l.jsx)(ns,{expanded:k.includes(o),height:r,top:i,repoAddress:s.repoAddress,isDuplicateRepoName:!!(c&&z.has(c)),jobs:v[o],onToggle:_,onToggleAll:N},o)}return(0,l.jsx)(ny,{job:s.job,height:r,top:i,range:a,width:f},t)})})})}):(0,l.jsx)(nb,{loading:void 0!==e&&e,includesTicks:m<=j})]})},ns=function(n){var e=n.expanded,t=n.onToggle,r=n.onToggleAll,i=n.repoAddress,s=n.isDuplicateRepoName,o=n.jobs,a=n.height,c=n.top;return(0,l.jsx)(D.vG,{expanded:e,height:a,start:c,repoAddress:i,showLocation:s,onToggle:t,onToggleAll:r,rightElement:(0,l.jsx)(no,{jobs:o})})},no=w.memo(function(n){var e=n.jobs,t=w.useMemo(function(){var n=0,t=0,r=0;return e.forEach(function(e){e.runs.forEach(function(e){var i=e.status;"SCHEDULED"!==i&&(q.Ys.has(i)?n++:q.hd.has(i)?t++:q._m.has(i)&&r++)})}),{inProgressCount:n,failedCount:t,succeededCount:r}},[e]);return(0,l.jsx)(na,(0,i._)({},t))}),na=function(n){var e=n.inProgressCount,t=n.succeededCount,r=n.failedCount;return(0,l.jsxs)(d.x,{flex:{direction:"row",gap:4,alignItems:"center"},children:[e>0?(0,l.jsx)(h.u,{content:(0,l.jsx)(nc,{children:1===e?"1 run in progress":"".concat(e," runs in progress")}),placement:"top",children:(0,l.jsx)(p.V,{intent:"primary",children:e})}):null,t>0?(0,l.jsx)(h.u,{content:(0,l.jsx)(nc,{children:1===t?"1 run succeeded":"".concat(t," runs succeeded")}),placement:"top",children:(0,l.jsx)(p.V,{intent:"success",children:t})}):null,r>0?(0,l.jsx)(h.u,{content:(0,l.jsx)(nc,{children:1===r?"1 run failed":"".concat(r," runs failed")}),placement:"top",children:(0,l.jsx)(p.V,{intent:"danger",children:r})}):null]})},nc=k.ZP.span.withConfig({componentId:"sc-5670c425-0"})(M()),nl={month:"numeric",day:"numeric",year:"numeric"},nu={month:"short",day:"numeric",year:"numeric",timeZoneName:"short"},nd={hour:"numeric"},nh=function(n){var e=n.interval,t=n.range,r=n.height,i=(0,o._)(t,2),s=i[0],a=i[1],u=T(),h=w.useMemo(function(){for(var n=a-s,e=u(new Date(s),nu,"en-US"),t=[],r=new Date(e);r.valueOf()<a;){var i=r.getTime(),o=new Date(i).setDate(r.getDate()+1);r=new Date(o),t.push({dayStart:i,dayEnd:o})}return t.map(function(e){var t=e.dayStart,r=e.dayEnd,i=new Date(t),o=t-s,a=r-t,c=Math.max(0,o/n*100);return{label:u(i,nl),key:i.toString(),left:c,width:Math.min(100,(o+a)/n*100)-c}})},[a,u,s]),p=w.useMemo(function(){var n=a-s,t=s%e,r=s-t,i=Math.ceil(n/e)+1;return(0,c._)(Array(i)).map(function(t,i){var o=r+i*e,a=new Date(o);return{label:u(a,nd).replace(" ",""),key:a.toString(),left:(o-s)/n*100}}).filter(function(n){return n.left>0})},[a,s,e,u]),x=Date.now(),m="".concat(((x-s)/(a-s)*100).toPrecision(3),"%");return(0,l.jsxs)(np,{style:{height:"".concat(r,"px"),top:"-".concat(64,"px")},children:[(0,l.jsx)(nf,{children:h.map(function(n){return(0,l.jsx)(nx,{style:{left:"".concat(n.left.toPrecision(3),"%"),width:"".concat(n.width.toPrecision(3),"%")},children:n.width>10?(0,l.jsx)(d.x,{flex:{justifyContent:"center"},children:n.label}):null},n.key)})}),(0,l.jsx)(nf,{children:p.map(function(n){return(0,l.jsx)(nm,{style:{left:"".concat(n.left.toPrecision(3),"%")},children:n.label},n.key)})}),(0,l.jsxs)(ng,{children:[(0,l.jsx)(nj,{style:{left:0,backgroundColor:f.w.Gray200}}),p.map(function(n){return(0,l.jsx)(nj,{style:{left:"".concat(n.left.toPrecision(3),"%")}},n.key)}),x>=s&&x<=a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nv,{style:{left:m},children:"Now"}),(0,l.jsx)(nj,{style:{left:m,backgroundColor:f.w.Blue500,zIndex:1}})]}):null]})]})},np=k.ZP.div.withConfig({componentId:"sc-5670c425-1"})(G(),320,x.b.monospace,f.w.Gray800),nf=k.ZP.div.withConfig({componentId:"sc-5670c425-2"})(V(),f.w.KeylineGray,f.w.KeylineGray,f.w.KeylineGray,32),nx=k.ZP.div.withConfig({componentId:"sc-5670c425-3"})(K(),f.w.KeylineGray),nm=k.ZP.div.withConfig({componentId:"sc-5670c425-4"})(Z(),f.w.KeylineGray),ng=k.ZP.div.withConfig({componentId:"sc-5670c425-5"})(H(),f.w.KeylineGray,f.w.KeylineGray),nj=k.ZP.div.withConfig({componentId:"sc-5670c425-6"})(W(),f.w.KeylineGray),nv=k.ZP.div.withConfig({componentId:"sc-5670c425-7"})(Y(),f.w.Blue500,f.w.White),ny=function(n){var e=n.job,t=n.top,r=n.height,i=n.range,s=n.width,a=(0,o._)(i,2),c=a[0],u=a[1],h=s-320,p=e.runs,x=w.useMemo(function(){return(0,z.i)({runs:p,start:c,end:u,width:h,minChunkWidth:2,minMultipleWidth:12})},[p,c,u,h]);return e.runs.length?(0,l.jsxs)(nw,{$height:r,$start:t,children:[(0,l.jsxs)(nS,{children:[(0,l.jsx)(m.JO,{name:"asset"===e.jobType?"asset":"job"}),(0,l.jsx)("div",{style:{width:268},children:"asset"===e.jobType?(0,l.jsx)("span",{style:{color:f.w.Gray900},children:(0,l.jsx)(g.g,{text:e.jobName})}):(0,l.jsx)(S.rU,{to:e.path,children:(0,l.jsx)(g.g,{text:e.jobName})})})]}),(0,l.jsx)(nk,{children:x.map(function(n){var t=n.left,r=n.width,i=n.runs.length;return(0,l.jsx)(nC,{$background:J(n.runs),$multiple:i>1,style:{left:"".concat(t,"px"),width:"".concat(r,"px")},children:(0,l.jsx)(j.J,{content:(0,l.jsx)(nN,{job:e,batch:n}),position:"top",interactionKind:"hover",className:"chunk-popover-target",children:(0,l.jsx)(d.x,{flex:{direction:"row",justifyContent:"center",alignItems:"center"},style:{height:"100%"},children:i>1?(0,l.jsx)(n_,{children:n.runs.length}):null})})},n.runs[0].id)})})]}):null},nb=function(n){var e=n.loading,t=n.includesTicks;return(0,l.jsx)(d.x,{background:f.w.White,padding:{vertical:24},flex:{direction:"row",justifyContent:"center"},border:"top-and-bottom",children:e?(0,l.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(v.$,{purpose:"body-text"}),t?"Loading runs and scheduled ticks":"Loading runs"]}):(0,l.jsxs)(d.x,{flex:{direction:"column",gap:12,alignItems:"center"},children:[(0,l.jsx)("div",{children:t?"No runs or scheduled ticks in this time period.":"No runs in this time period."}),(0,l.jsxs)(d.x,{flex:{direction:"row",gap:12,alignItems:"center"},children:[(0,l.jsx)(N.A,{icon:(0,l.jsx)(m.JO,{name:"add_circle"}),to:"/overview/jobs",children:"Launch a run"}),(0,l.jsx)("span",{children:"or"}),(0,l.jsx)(N.A,{icon:(0,l.jsx)(m.JO,{name:"materialization"}),to:"/asset-groups",children:"Materialize an asset"})]})]})})},nw=k.ZP.div.attrs(function(n){var e=n.$height,t=n.$start;return{style:{height:"".concat(e,"px"),transform:"translateY(".concat(t,"px)")}}}).withConfig({componentId:"sc-5670c425-8"})(Q(),f.w.KeylineGray,f.w.Gray10),nS=k.ZP.div.withConfig({componentId:"sc-5670c425-9"})(X(),320),nk=k.ZP.div.withConfig({componentId:"sc-5670c425-10"})(nn(),32),nC=k.ZP.div.withConfig({componentId:"sc-5670c425-11"})(ne(),function(n){return n.$background},28,function(n){return n.$multiple?"min-width: ".concat(12,"px"):null}),n_=k.ZP.div.withConfig({componentId:"sc-5670c425-12"})(nt(),f.w.White,x.b.monospace),nN=function(n){var e=n.job,t=n.batch,r=t.runs.slice(0,50),i=t.runs.length-r.length;return(0,l.jsxs)(d.x,{style:{width:"260px"},children:[(0,l.jsx)(d.x,{padding:12,border:"bottom",children:(0,l.jsx)(nE,{children:e.jobName})}),(0,l.jsx)("div",{style:{maxHeight:"240px",overflowY:"auto"},children:r.map(function(n,e){return(0,l.jsxs)(d.x,{border:e>0?"top":null,flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},padding:{vertical:8,horizontal:12},children:[(0,l.jsxs)(d.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(L.O_,{status:n.status,size:8}),"SCHEDULED"===n.status?"Scheduled":(0,l.jsx)(S.rU,{to:"/runs/".concat(n.id),children:(0,l.jsx)(y.fv,{children:n.id.slice(0,8)})})]}),(0,l.jsx)(y.fv,{children:"SCHEDULED"===n.status?(0,l.jsx)(_.v,{timestamp:n.startTime/1e3}):(0,l.jsx)($.Q,{startUnix:n.startTime/1e3,endUnix:n.endTime/1e3})})]},n.id)})}),i>0?(0,l.jsx)(d.x,{padding:12,border:"top",children:(0,l.jsxs)(S.rU,{to:"".concat(e.path,"/runs"),children:["+ ",i," more"]})}):null]})},nE=k.ZP.strong.withConfig({componentId:"sc-5670c425-13"})(nr())},42354:function(n,e,t){t.d(e,{a:function(){return i},i:function(){return s}});var r=t(82550),i=function(n,e){return!(n.end<e.start||e.end<n.start)},s=function(n){for(var e=n.runs,t=n.start,i=n.end,s=n.width,a=n.minChunkWidth,c=n.minMultipleWidth,l=i-t,u=(Date.now()-t)/(i-t)*s,d=e.map(function(n){var e=n.startTime,r=n.endTime||Date.now();return{runs:[n],startTime:e,endTime:r,left:Math.max(0,Math.floor((e-t)/l*s)),width:Math.max(a,Math.min(Math.ceil((r-e)/l*s),Math.ceil((r-t)/l*s)))}}).sort(function(n,e){return e.left-n.left}),h=[];d.length;){var p=d.shift(),f=d[0];if(p){if(f&&o(p,f,c,u)){d.shift(),p.runs=(0,r._)(p.runs).concat((0,r._)(f.runs)),p.startTime=Math.min(p.startTime,f.startTime),p.endTime=Math.max(p.endTime,f.endTime);var x=Math.max(p.left+c,p.left+p.width,f.left+f.width),m=Math.min(p.left,f.left);p.width=x-m,p.left=m,d.unshift(p)}else h.push(p)}}return h},o=function(n,e,t,r){var s=n.left,o=n.left+Math.max(n.width,t),a=e.left,c=e.left+Math.max(e.width,t),l=Math.min(n.left,e.left),u=Math.max(n.left+Math.max(n.width,t),e.left+Math.max(e.width,t));return i({start:s,end:o},{start:a,end:c})&&(l>r||u<r)}},79062:function(n,e,t){t.d(e,{W:function(){return h}});var r=t(81862),i=t(58467),s=t(22970),o=t(33379),a=t(2784),c=t(7267),l=t(30404),u=t(19041),d=t(83221),h=function(n){var e,t=(0,c.k6)(),h=(0,i._)((0,o.D)(d.kO),1)[0],p=(0,u.n)(n);return a.useCallback((e=(0,r._)(function(e){var r,i,o,a;return(0,s.Jh)(this,function(s){switch(s.label){case 0:if(!n||!n.pipelineSnapshotId||!p)return[2];r=(0,d.kz)({run:n,style:e,repositoryLocationName:p.match.repositoryLocation.name,repositoryName:p.match.repository.name}),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,h({variables:r})];case 2:return o=s.sent(),(0,d.lF)(n.pipelineName,null===(i=o.data)||void 0===i?void 0:i.launchPipelineReexecution,t,{preserveQuerystring:!0,behavior:"open"}),[3,4];case 3:return a=s.sent(),(0,l.t)(a),[3,4];case 4:return[2]}})}),function(n){return e.apply(this,arguments)}),[t,h,p,n])}},17612:function(n,e,t){t.d(e,{_:function(){return w}});var r=t(58467),i=t(52322),s=t(17577),o=t(55829),a=t(70399),c=t(72096),l=t(2784),u=t(65637),d=t(81862),h=t(22970),p=t(33379),f=t(38058),x=t(92914),m=t(87323),g=t(80572),j=t(9640),v=t(37954),y=t(10939),b=function(n){var e,t,s,o=n.openWithIntent,u=n.onClose,b=n.onComplete,w=n.schedules,S=w.length,k=(0,r._)((0,j.s)(),2),C=k[0],_=k[1];l.useEffect(function(){"not-open"===o&&_({type:"reset"})},[o,_]);var N=(0,r._)((0,p.D)(y.Wz),1)[0],E=(0,r._)((0,p.D)(y.d0),1)[0],P=(e=(0,d._)(function(n){var e,t,r,i;return(0,h.Jh)(this,function(s){switch(s.label){case 0:return t=n.repoAddress,r=n.scheduleName,[4,N({variables:{scheduleSelector:{repositoryLocationName:t.location,repositoryName:t.name,scheduleName:r}}})];case 1:switch(null===(e=i=s.sent().data)||void 0===e?void 0:e.startSchedule.__typename){case"ScheduleStateResult":_({type:"update-success"});break;case"UnauthorizedError":case"PythonError":_({type:"update-error",name:r,error:i.startSchedule.message})}return[2]}})}),function(n){return e.apply(this,arguments)}),I=(t=(0,d._)(function(n){var e,t,r,i;return(0,h.Jh)(this,function(s){switch(s.label){case 0:return t=n.scheduleName,[4,E({variables:{scheduleOriginId:(r=n.scheduleState).id,scheduleSelectorId:r.selectorId}})];case 1:switch(null===(e=i=s.sent().data)||void 0===e?void 0:e.stopRunningSchedule.__typename){case"ScheduleStateResult":_({type:"update-success"});break;case"UnauthorizedError":case"PythonError":_({type:"update-error",name:t,error:i.stopRunningSchedule.message})}return[2]}})}),function(n){return t.apply(this,arguments)}),R=(s=(0,d._)(function(){var n,e,t,r,i,s,a;return(0,h.Jh)(this,function(c){switch(c.label){case 0:if("not-open"===o)return[2];_({type:"start"}),n=!0,e=!1,t=void 0,c.label=1;case 1:c.trys.push([1,8,9,10]),r=w[Symbol.iterator](),c.label=2;case 2:if(n=(i=r.next()).done)return[3,7];if(s=i.value,"start"!==o)return[3,4];return[4,P(s)];case 3:return c.sent(),[3,6];case 4:return[4,I(s)];case 5:c.sent(),c.label=6;case 6:return n=!0,[3,2];case 7:return[3,10];case 8:return a=c.sent(),e=!0,t=a,[3,10];case 9:try{n||null==r.return||r.return()}finally{if(e)throw t}return[7];case 10:return _({type:"complete"}),b(),[2]}})}),function(){return s.apply(this,arguments)}),T="updating"!==C.step;return(0,i.jsxs)(g.Vq,{isOpen:"not-open"!==o,title:"start"===o?"Start schedules":"Stop schedules",canEscapeKeyClose:T,canOutsideClickClose:T,onClose:u,children:[(0,i.jsx)(g.a7,{children:(0,i.jsxs)(x.Z,{direction:"column",spacing:24,children:[function(){if("not-open"===o)return null;switch(C.step){case"initial":if("stop"===o)return(0,i.jsx)("div",{children:"".concat(S," ").concat(1===S?"schedule":"schedules"," will be stopped. Do you want to continue?")});return(0,i.jsx)("div",{children:"".concat(S," ").concat(1===S?"schedule":"schedules"," will be started. Do you want to continue?")});case"updating":case"completed":var n=S>0?C.completion.completed/S:1;return(0,i.jsxs)(x.Z,{direction:"column",spacing:8,children:[(0,i.jsx)(f.ko,{intent:"primary",value:Math.max(.1,n),animate:n<1}),"updating"===C.step?(0,i.jsx)(v.c,{message:"Schedules are being updated, please do not navigate away yet."}):null]});default:return null}}(),function(){if("not-open"===o||"initial"===C.step)return null;if("updating"===C.step)return(0,i.jsx)("div",{children:"Please do not close the window or navigate away while schedules are being updated."});var n=C.completion.errors,e=Object.keys(n).length,t=C.completion.completed-e;return(0,i.jsxs)(x.Z,{direction:"column",spacing:8,children:[t?(0,i.jsxs)(x.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,i.jsx)(c.JO,{name:"check_circle",color:m.w.Green500}),(0,i.jsx)("div",{children:"start"===o?"Successfully started ".concat(1===t?"1 schedule":"".concat(t," schedules"),"."):"Successfully stopped ".concat(1===t?"1 schedule":"".concat(t," schedules"),".")})]}):null,e?(0,i.jsxs)(x.Z,{direction:"column",spacing:8,children:[(0,i.jsxs)(x.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,i.jsx)(c.JO,{name:"warning",color:m.w.Yellow500}),(0,i.jsx)("div",{children:"start"===o?"Could not start ".concat(1===e?"1 schedule":"".concat(e," schedules"),"."):"Could not stop ".concat(1===e?"1 schedule":"".concat(e," schedules"),".")})]}),(0,i.jsx)("ul",{children:Object.keys(n).map(function(e){return(0,i.jsx)("li",{children:(0,i.jsxs)(x.Z,{direction:"row",spacing:8,children:[(0,i.jsxs)("strong",{children:[e,":"]}),n[e]?(0,i.jsx)("div",{children:n[e]}):null]})},e)})})]}):null]})}()]})}),(0,i.jsx)(g.cN,{children:function(){if("not-open"===o)return null;switch(C.step){case"initial":var n="start"===o?"Start ".concat(1===S?"1 schedule":"".concat(S," schedules")):"Stop ".concat(1===S?"1 schedule":"".concat(S," schedules"));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.zx,{intent:"none",onClick:u,children:"Cancel"}),(0,i.jsx)(a.zx,{intent:"primary",onClick:R,children:n})]});case"updating":var e="start"===o?"Starting ".concat(1===S?"1 schedule":"".concat(S," schedules")):"Stopping ".concat(1===S?"1 schedule":"".concat(S," schedules"));return(0,i.jsx)(a.zx,{intent:"primary",disabled:!0,children:e});case"completed":return(0,i.jsx)(a.zx,{intent:"primary",onClick:u,children:"Done"})}}()})]})},w=function(n){var e=n.schedules,t=n.onDone,d=e.length,h=(0,r._)(l.useState("not-open"),2),p=h[0],f=h[1],x=l.useMemo(function(){return(0,u.H)(e.map(function(n){return n.scheduleState}))},[e]),m=x.anyOff,g=x.anyOn;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.J,{content:(0,i.jsxs)(o.v2,{children:[(0,i.jsx)(o.sN,{text:"Start ".concat(1===d?"1 schedule":"".concat(d," schedules")),disabled:!m,"aria-disabled":!m,icon:"toggle_on",onClick:function(){f("start")}}),(0,i.jsx)(o.sN,{text:"Stop ".concat(1===d?"1 schedule":"".concat(d," schedules")),disabled:!g,"aria-disabled":!g,icon:"toggle_off",onClick:function(){f("stop")}})]}),placement:"bottom-end",children:(0,i.jsx)(a.zx,{disabled:!d,intent:"primary",rightIcon:(0,i.jsx)(c.JO,{name:"expand_more"}),children:"Actions"})}),(0,i.jsx)(b,{openWithIntent:p,schedules:e,onClose:function(){return f("not-open")},onComplete:function(){t()}})]})}},36057:function(n,e,t){t.d(e,{K:function(){return l}});var r=t(85333),i=t(6692),s=t(2281),o=t(52322),a=t(2736),c=t(51927);t(2784);var l=function(n){var e=n.daemonHealth,t=(0,s._)(n,["daemonHealth"]),l=void 0;if(e){var u=e.allDaemonStatuses.filter(function(n){return"SCHEDULER"===n.daemonType});if(u.length>0){var d=u[0];l=d.required&&d.healthy}}return!1===l?(0,o.jsx)(a.x,(0,i._)((0,r._)({},t),{children:(0,o.jsx)(c.b,{intent:"warning",title:"The scheduler daemon is not running.",description:(0,o.jsxs)("div",{children:["See the"," ",(0,o.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},63542:function(n,e,t){t.d(e,{g:function(){return i}});var r=t(19618),i=function(n,e){return"".concat((0,r.Uz)(n),"-").concat(e)}},92493:function(n,e,t){t.d(e,{b:function(){return w}});var r=t(58467),i=t(52322),s=t(17577),o=t(55829),a=t(70399),c=t(72096),l=t(2784),u=t(65637),d=t(81862),h=t(22970),p=t(33379),f=t(38058),x=t(92914),m=t(87323),g=t(80572),j=t(9640),v=t(37954),y=t(74117),b=function(n){var e,t,s,o=n.openWithIntent,u=n.onClose,b=n.onComplete,w=n.sensors,S=w.length,k=(0,r._)((0,j.s)(),2),C=k[0],_=k[1];l.useEffect(function(){"not-open"===o&&_({type:"reset"})},[o,_]);var N=(0,r._)((0,p.D)(y.VE),1)[0],E=(0,r._)((0,p.D)(y.Xu),1)[0],P=(e=(0,d._)(function(n){var e,t,r,i;return(0,h.Jh)(this,function(s){switch(s.label){case 0:return t=n.repoAddress,r=n.sensorName,[4,N({variables:{sensorSelector:{repositoryLocationName:t.location,repositoryName:t.name,sensorName:r}}})];case 1:switch(null===(e=i=s.sent().data)||void 0===e?void 0:e.startSensor.__typename){case"Sensor":_({type:"update-success"});break;case"SensorNotFoundError":case"UnauthorizedError":case"PythonError":_({type:"update-error",name:r,error:i.startSensor.message})}return[2]}})}),function(n){return e.apply(this,arguments)}),I=(t=(0,d._)(function(n){var e,t,r,i;return(0,h.Jh)(this,function(s){switch(s.label){case 0:return t=n.sensorName,[4,E({variables:{jobOriginId:(r=n.sensorState).id,jobSelectorId:r.selectorId}})];case 1:switch(null===(e=i=s.sent().data)||void 0===e?void 0:e.stopSensor.__typename){case"StopSensorMutationResult":_({type:"update-success"});break;case"UnauthorizedError":case"PythonError":_({type:"update-error",name:t,error:i.stopSensor.message})}return[2]}})}),function(n){return t.apply(this,arguments)}),R=(s=(0,d._)(function(){var n,e,t,r,i,s,a;return(0,h.Jh)(this,function(c){switch(c.label){case 0:if("not-open"===o)return[2];_({type:"start"}),n=!0,e=!1,t=void 0,c.label=1;case 1:c.trys.push([1,8,9,10]),r=w[Symbol.iterator](),c.label=2;case 2:if(n=(i=r.next()).done)return[3,7];if(s=i.value,"start"!==o)return[3,4];return[4,P(s)];case 3:return c.sent(),[3,6];case 4:return[4,I(s)];case 5:c.sent(),c.label=6;case 6:return n=!0,[3,2];case 7:return[3,10];case 8:return a=c.sent(),e=!0,t=a,[3,10];case 9:try{n||null==r.return||r.return()}finally{if(e)throw t}return[7];case 10:return _({type:"complete"}),b(),[2]}})}),function(){return s.apply(this,arguments)}),T="updating"!==C.step;return(0,i.jsxs)(g.Vq,{isOpen:"not-open"!==o,title:"start"===o?"Start sensors":"Stop sensors",canEscapeKeyClose:T,canOutsideClickClose:T,onClose:u,children:[(0,i.jsx)(g.a7,{children:(0,i.jsxs)(x.Z,{direction:"column",spacing:24,children:[function(){if("not-open"===o)return null;switch(C.step){case"initial":if("stop"===o)return(0,i.jsx)("div",{children:"".concat(S," ").concat(1===S?"sensor":"sensors"," will be stopped. Do you want to continue?")});return(0,i.jsx)("div",{children:"".concat(S," ").concat(1===S?"sensor":"sensors"," will be started. Do you want to continue?")});case"updating":case"completed":var n=S>0?C.completion.completed/S:1;return(0,i.jsxs)(x.Z,{direction:"column",spacing:8,children:[(0,i.jsx)(f.ko,{intent:"primary",value:Math.max(.1,n),animate:n<1}),"updating"===C.step?(0,i.jsx)(v.c,{message:"Sensors are being updated, please do not navigate away yet."}):null]});default:return null}}(),function(){if("not-open"===o||"initial"===C.step)return null;if("updating"===C.step)return(0,i.jsx)("div",{children:"Please do not close the window or navigate away while sensors are being updated."});var n=C.completion.errors,e=Object.keys(n).length,t=C.completion.completed-e;return(0,i.jsxs)(x.Z,{direction:"column",spacing:8,children:[t?(0,i.jsxs)(x.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,i.jsx)(c.JO,{name:"check_circle",color:m.w.Green500}),(0,i.jsx)("div",{children:"start"===o?"Successfully started ".concat(1===t?"1 sensor":"".concat(t," sensors"),"."):"Successfully stopped ".concat(1===t?"1 sensor":"".concat(t," sensors"),".")})]}):null,e?(0,i.jsxs)(x.Z,{direction:"column",spacing:8,children:[(0,i.jsxs)(x.Z,{direction:"row",spacing:8,alignItems:"flex-start",children:[(0,i.jsx)(c.JO,{name:"warning",color:m.w.Yellow500}),(0,i.jsx)("div",{children:"start"===o?"Could not start ".concat(1===e?"1 sensor":"".concat(e," sensors"),":"):"Could not stop ".concat(1===e?"1 sensor":"".concat(e," sensors"),":")})]}),(0,i.jsx)("ul",{style:{margin:"8px 0"},children:Object.keys(n).map(function(e){return(0,i.jsx)("li",{children:(0,i.jsxs)(x.Z,{direction:"row",spacing:8,children:[(0,i.jsxs)("strong",{children:[e,":"]}),n[e]?(0,i.jsx)("div",{children:n[e]}):null]})},e)})})]}):null]})}()]})}),(0,i.jsx)(g.cN,{children:function(){if("not-open"===o)return null;switch(C.step){case"initial":var n="start"===o?"Start ".concat(1===S?"1 sensor":"".concat(S," sensors")):"Stop ".concat(1===S?"1 sensor":"".concat(S," sensors"));return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(a.zx,{intent:"none",onClick:u,children:"Cancel"}),(0,i.jsx)(a.zx,{intent:"primary",onClick:R,children:n})]});case"updating":var e="start"===o?"Starting ".concat(1===S?"1 sensor":"".concat(S," sensors")):"Stopping ".concat(1===S?"1 sensor":"".concat(S," sensors"));return(0,i.jsx)(a.zx,{intent:"primary",disabled:!0,children:e});case"completed":return(0,i.jsx)(a.zx,{intent:"primary",onClick:u,children:"Done"})}}()})]})},w=function(n){var e=n.sensors,t=n.onDone,d=e.length,h=(0,r._)(l.useState("not-open"),2),p=h[0],f=h[1],x=l.useMemo(function(){return(0,u.H)(e.map(function(n){return n.sensorState}))},[e]),m=x.anyOff,g=x.anyOn;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.J,{content:(0,i.jsxs)(o.v2,{children:[(0,i.jsx)(o.sN,{text:"Start ".concat(1===d?"1 sensor":"".concat(d," sensors")),disabled:!m,"aria-disabled":!m,icon:"toggle_on",onClick:function(){f("start")}}),(0,i.jsx)(o.sN,{text:"Stop ".concat(1===d?"1 sensor":"".concat(d," sensors")),disabled:!g,"aria-disabled":!g,icon:"toggle_off",onClick:function(){f("stop")}})]}),placement:"bottom-end",children:(0,i.jsx)(a.zx,{disabled:!d,intent:"primary",rightIcon:(0,i.jsx)(c.JO,{name:"expand_more"}),children:"Actions"})}),(0,i.jsx)(b,{openWithIntent:p,sensors:e,onClose:function(){return f("not-open")},onComplete:function(){t()}})]})}},67881:function(n,e,t){t.d(e,{e:function(){return nt},F:function(){return ne}});var r=t(58467),i=t(52322),s=t(62540),o=t(2736),a=t(19369),c=t(42033),l=t(70399),u=t(37395),d=t(94901),h=t(47625),p=t(72096),f=t(87323),x=t(2784),m=t(63757),g=t(7334),j=t(10674),v=t(3358),y=t(30082),b=t(81862),w=t(85333),S=t(73235),k=t(22970),C=t(33379),_=t(60138),N=t(80572),E=t(92914),P=t(91588),I=t(71539),R=t(45),T=t(35505),O=t(8848),D=t(67953),A=t(87905),U=t(14590),F=t(61893);function L(){var n=(0,S._)(["\n  mutation SetSensorCursorMutation($sensorSelector: SensorSelector!, $cursor: String) {\n    setSensorCursor(sensorSelector: $sensorSelector, cursor: $cursor) {\n      ... on Sensor {\n        id\n        sensorState {\n          id\n          status\n          typeSpecificData {\n            ... on SensorData {\n              lastCursor\n            }\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ","\n"]);return L=function(){return n},n}t(33521);var q=function(n){var e,t=n.isOpen,s=n.sensorSelector,o=n.cursor,a=n.onClose,c=(0,r._)(x.useState(o),2),u=c[0],d=c[1],p=(0,r._)(x.useState(!1),2),m=p[0],g=p[1],j=(0,r._)((0,C.D)($),1)[0],v=(e=(0,b._)(function(){var n,e,t,r;return(0,k.Jh)(this,function(o){switch(o.label){case 0:return g(!0),[4,j({variables:{sensorSelector:s,cursor:u}})];case 1:if((null===(n=t=o.sent().data)||void 0===n?void 0:n.setSensorCursor.__typename)!=="Sensor")return[3,3];return[4,(0,D.B7)({message:"Cursor value updated",intent:"success"})];case 2:return o.sent(),[3,5];case 3:if(!(null===(e=t)||void 0===e?void 0:e.setSensorCursor))return[3,5];return r=t.setSensorCursor,[4,(0,D.B7)({intent:"danger",message:(0,i.jsxs)(E.Z,{direction:"row",spacing:8,children:[(0,i.jsx)("div",{children:"Could not set cursor value."}),(0,i.jsx)(h.Z,{color:f.w.White,underline:"always",onClick:function(){(0,O._)({title:"Python Error",body:"PythonError"===r.__typename?(0,i.jsx)(U.T9,{error:r}):"Sensor not found"})},children:"View error"})]})})];case 4:o.sent(),o.label=5;case 5:return a(),[2]}})}),function(){return e.apply(this,arguments)});return(0,i.jsxs)(N.Vq,{isOpen:t,onClose:function(){a(),d(o)},style:{width:"500px"},title:"Edit ".concat(s.sensorName," cursor"),children:[(0,i.jsx)(N.a7,{children:(0,i.jsx)(I.Kx,{value:u,$resize:"vertical",onChange:function(n){return d(n.target.value)},style:{width:"100%"}})}),(0,i.jsxs)(N.cN,{children:[(0,i.jsx)(l.zx,{onClick:a,children:"Cancel"}),(0,i.jsx)(l.zx,{intent:"primary",onClick:v,disabled:m,children:"Set cursor value"})]})]})},$=(0,_.Ps)(L(),A.B),z=t(1176),B=t(2142),J=t(51509),M=t(98916);function G(){var n=(0,S._)(["\n  mutation SensorDryRunMutation($selectorData: SensorSelector!, $cursor: String) {\n    sensorDryRun(selectorData: $selectorData, cursor: $cursor) {\n      ... on DryRunInstigationTick {\n        timestamp\n        evaluationResult {\n          cursor\n          runRequests {\n            ...RunRequestFragment\n          }\n          skipReason\n          error {\n            ...PythonErrorFragment\n          }\n          dynamicPartitionsRequests {\n            ...DynamicPartitionRequestFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment DynamicPartitionRequestFragment on DynamicPartitionRequest {\n    partitionKeys\n    partitionsDefName\n    type\n  }\n\n  ","\n  ","\n"]);return G=function(){return n},n}function V(){var n=(0,S._)(["\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  padding-bottom: 12px;\n  border-bottom: 1px solid ",";\n  margin-bottom: 12px;\n  "," {\n    padding-bottom: 4px;\n    display: block;\n  }\n  pre {\n    margin: 0;\n  }\n  button {\n    margin-top: 4px;\n  }\n"]);return V=function(){return n},n}var K=function(n){var e=n.isOpen,t=n.onClose,r=n.name;return(0,i.jsx)(N.Vq,{isOpen:e,onClose:t,style:{width:"70vw",display:"flex"},icon:"sensors",title:r,children:(0,i.jsx)(Z,(0,w._)({},n))})},Z=function(n){var e,t=n.repoAddress,s=n.name,u=n.currentCursor,d=n.onClose,m=n.jobName,g=(0,r._)((0,C.D)(H),1)[0],j=(0,r._)(x.useState(u),2),v=j[0],y=j[1],w=(0,r._)(x.useState(!1),2),S=w[0],_=w[1],T=(0,r._)(x.useState(null),2),A=T[0],L=T[1],q=(0,r._)(x.useState(null),2),M=q[0],G=q[1],V=x.useMemo(function(){return{sensorName:s,repositoryLocationName:t.location,repositoryName:t.name}},[t,s]),K=x.useCallback((0,b._)(function(){var n,e,t,r,i;return(0,k.Jh)(this,function(o){switch(o.label){case 0:return _(!0),[4,g({variables:{selectorData:V,cursor:v}})];case 1:return(e=null===(n=o.sent().data)||void 0===n?void 0:n.sensorDryRun)?(null===(t=e)||void 0===t?void 0:t.__typename)==="DryRunInstigationTick"?(null===(i=e.evaluationResult)||void 0===i?void 0:i.error)?L(e.evaluationResult.error):G(e):(null===(r=e)||void 0===r?void 0:r.__typename)==="SensorNotFoundError"?(0,O._)({title:"Sensor not found",body:"Could not find a sensor named: ".concat(s)}):L(e):(0,F.UT)("sensorDryRun Mutation returned no data??"),_(!1),[2]}})}),[g,V,v,s]),Z=x.useMemo(function(){return M||A?(0,i.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,i.jsx)(l.zx,{"data-testid":(0,z.N)("test-again"),onClick:function(){G(null),L(null)},children:"Test again"}),(0,i.jsx)(l.zx,{intent:"primary",onClick:d,children:"Close"})]}):S?(0,i.jsx)(o.x,{flex:{direction:"row",gap:8},children:(0,i.jsx)(l.zx,{onClick:d,children:"Cancel"})}):(0,i.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,i.jsx)(l.zx,{onClick:d,children:"Cancel"}),(0,i.jsx)(l.zx,{onClick:K,intent:"primary","data-testid":(0,z.N)("evaluate"),children:"Evaluate"})]})},[M,A,S,d,K]),Y=(0,r._)(x.useState("Unpersisted"),2),Q=Y[0],X=Y[1],nn=(0,r._)((0,C.D)($),1)[0],ne=x.useCallback((0,b._)(function(){var n,e,t,r,s,o,a;return(0,k.Jh)(this,function(c){switch(c.label){case 0:return(s=null===(e=M)||void 0===e?void 0:null===(n=e.evaluationResult)||void 0===n?void 0:n.cursor)||(0,F.UT)("Did not expect to get here"),X("Persisting"),[4,nn({variables:{sensorSelector:V,cursor:s}})];case 1:if((null===(t=o=c.sent().data)||void 0===t?void 0:t.setSensorCursor.__typename)!=="Sensor")return[3,3];return[4,(0,D.B7)({message:"Cursor value updated",intent:"success"})];case 2:return c.sent(),X("Persisted"),[3,5];case 3:if(!(null===(r=o)||void 0===r?void 0:r.setSensorCursor))return[3,5];return a=o.setSensorCursor,[4,(0,D.B7)({intent:"danger",message:(0,i.jsxs)(E.Z,{direction:"row",spacing:8,children:[(0,i.jsx)("div",{children:"Could not set cursor value."}),(0,i.jsx)(h.Z,{color:f.w.White,underline:"always",onClick:function(){(0,O._)({title:"Python Error",body:"PythonError"===a.__typename?(0,i.jsx)(U.T9,{error:a}):"Sensor not found"})},children:"View error"})]})})];case 4:c.sent(),c.label=5;case 5:return[2]}})}),[null==M?void 0:null===(e=M.evaluationResult)||void 0===e?void 0:e.cursor,V,nn]),nt=x.useMemo(function(){if(M||A){var n,e,r,d,h,x,g,j=null==M?void 0:null===(n=M.evaluationResult)||void 0===n?void 0:n.runRequests,b=(null==j?void 0:j.length)||0,w=!A&&0===b,k=null==M?void 0:null===(e=M.evaluationResult)||void 0===e?void 0:e.dynamicPartitionsRequests;return(0,i.jsx)(o.x,{flex:{direction:"column",gap:8},children:(0,i.jsxs)(o.x,{children:[(0,i.jsxs)(W,{children:[(0,i.jsxs)("div",{children:[(0,i.jsx)(a.pm,{children:"Result"}),(0,i.jsx)(o.x,{flex:{grow:1,alignItems:"center"},children:(0,i.jsx)("div",{children:A?(0,i.jsx)(c.V,{intent:"danger",children:"Failed"}):b?(0,i.jsxs)(c.V,{intent:"success",children:[b," run requests"]}):(0,i.jsx)(c.V,{intent:"warning",children:"Skipped"})})})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(a.pm,{children:"Used cursor value"}),(0,i.jsx)("pre",{children:(null==v?void 0:v.length)?v:"None"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)(a.pm,{children:"Computed cursor value"}),(0,i.jsx)("pre",{children:(null==M?void 0:null===(d=M.evaluationResult)||void 0===d?void 0:null===(r=d.cursor)||void 0===r?void 0:r.length)?null==M?void 0:M.evaluationResult.cursor:A?"Error":"None"}),A||(null!=u?u:"")===(null!==(g=null==M?void 0:null===(h=M.evaluationResult)||void 0===h?void 0:h.cursor)&&void 0!==g?g:"")?null:(0,i.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,i.jsx)(l.zx,{disabled:["Persisting","Persisted"].includes(Q),loading:"Persisting"===Q,onClick:ne,children:(0,i.jsx)("span",{"data-testid":(0,z.N)("persist-cursor"),children:"Persisting"===Q?"Persisting":"Persisted"===Q?"Persisted":"Persist computed cursor value"})}),"Persisted"===Q?(0,i.jsx)(p.JO,{name:"check_circle",color:f.w.Green500}):null]})]})]}),A?(0,i.jsx)("div",{children:(0,i.jsx)(U.T9,{error:A})}):null,w?(0,i.jsxs)("div",{children:[(0,i.jsx)(a.pm,{children:"Skip reason"}),(0,i.jsx)("div",{children:(null==M?void 0:null===(x=M.evaluationResult)||void 0===x?void 0:x.skipReason)||"No skip reason was output"})]}):null,b&&j?(0,i.jsx)(B.k,{runRequests:j,name:s,jobName:m,isJob:!0,repoAddress:t}):null,(null==k?void 0:k.length)?(0,i.jsx)("div",{style:{marginTop:"24px"},children:(0,i.jsx)(J.T,{requests:k})}):null]})})}return S?(0,i.jsxs)(o.x,{flex:{direction:"row",gap:8,justifyContent:"center",alignItems:"center"},children:[(0,i.jsx)(P.$,{purpose:"body-text"}),(0,i.jsx)("div",{children:"Evaluating sensor"})]}):(0,i.jsxs)(o.x,{flex:{direction:"column",gap:8},children:[(0,i.jsx)("div",{children:"Cursor"}),(0,i.jsx)(I.oi,{value:v,onChange:function(n){return y(n.target.value)},"data-testid":(0,z.N)("cursor-input")}),""!==u&&u?null:(0,i.jsx)(o.x,{padding:{top:16,bottom:32},flex:{justifyContent:"center"},children:(0,i.jsx)(R.t,{icon:"no-results",title:"You're not using a cursor",description:(0,i.jsxs)("span",{children:["Check our"," ",(0,i.jsx)("a",{href:"https://docs.dagster.io/concepts/partitions-schedules-sensors/sensors#idempotence-and-cursors",children:"sensor documentation"})," ","to learn how to use cursors"]})})})]})},[M,A,S,u,Q,ne,s,m,t,v]);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(N.a7,{children:(0,i.jsx)("div",{style:{minHeight:"300px"},children:nt})}),(0,i.jsx)(N.cN,{topBorder:!0,children:Z})]})},H=(0,_.Ps)(G(),M.s,A.B),W=T.ZP.div.withConfig({componentId:"sc-deb0197f-0"})(V(),f.w.KeylineGray,a.pm),Y=t(93457),Q=function(n){var e,t=n.metadata;return(null==t?void 0:null===(e=t.assetKeys)||void 0===e?void 0:e.length)?(0,i.jsx)(o.x,{flex:{direction:"column",gap:2},children:t.assetKeys.map(function(n){return(0,i.jsx)(Y.R,{path:n.path,icon:"asset"},n.path.join("/"))})}):(0,i.jsx)("span",{})},X=t(713),nn=t(94835),ne=function(n){return(n||(n=30),(n=Math.max(30,n))<60||n%60)?"~".concat(n," sec"):3600===n?"~1 hour":n<3600||n%3600?"~".concat(n/60," min"):86400===n?"~1 day":n<86400||n%86400?"~".concat(n/3600," hours"):"~".concat(n/86400," days")},nt=function(n){var e,t,b=n.sensor,w=n.repoAddress,S=n.daemonHealth,k=n.refreshState,C=b.name,_=b.sensorState,N=_.status,E=_.ticks,P=b.metadata,I=(0,r._)(x.useState(!1),2),R=I[0],T=I[1],O={sensorName:b.name,repositoryName:w.name,repositoryLocationName:w.location},D=E.length?E[0]:null,A=b.sensorState.typeSpecificData&&"SensorData"===b.sensorState.typeSpecificData.__typename&&b.sensorState.typeSpecificData.lastCursor,U=(0,r._)(x.useState(!1),2),F=U[0],L=U[1],$=N===g.ynu.RUNNING;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.m,{title:(0,i.jsxs)(o.x,{flex:{direction:"row",alignItems:"center",gap:12},children:[(0,i.jsx)(a.X6,{children:C}),(0,i.jsx)(X.c,{repoAddress:w,sensor:b})]}),icon:"sensors",tags:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(c.V,{icon:"sensors",children:["Sensor in ",(0,i.jsx)(v.b,{repoAddress:w})]}),b.nextTick&&S&&$?(0,i.jsxs)(c.V,{icon:"timer",children:["Next tick: ",(0,i.jsx)(y.v,{timestamp:b.nextTick.timestamp})]}):null]}),right:(0,i.jsxs)(o.x,{margin:{top:4},flex:{direction:"row",alignItems:"center",gap:8},children:[(0,i.jsx)(m.xi,{refreshState:k}),b.sensorType===g.dEY.STANDARD?(0,i.jsx)(l.zx,{onClick:function(){L(!0)},children:"Test Sensor"}):null]})}),(0,i.jsx)(K,{isOpen:F,onClose:function(){L(!1)},currentCursor:A||"",name:b.name,repoAddress:w,jobName:(null===(t=b.targets)||void 0===t?void 0:null===(e=t[0])||void 0===e?void 0:e.pipelineName)||""}),(0,i.jsx)(u.fJ,{children:(0,i.jsxs)("tbody",{children:[b.description?(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Description"}),(0,i.jsx)("td",{children:b.description})]}):null,(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Latest tick"}),(0,i.jsx)("td",{children:D?(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)(o.x,{flex:{direction:"row",gap:8,alignItems:"center"},style:{marginTop:"-2px"},children:[(0,i.jsx)(y.v,{timestamp:D.timestamp}),(0,i.jsx)(j.TW,{tick:D,instigationType:g._5b.SENSOR})]})}):"Sensor has never run"})]}),b.targets&&b.targets.length?(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Target"}),(0,i.jsx)("td",{children:(0,i.jsx)(nn.D,{targets:b.targets,repoAddress:w})})]}):null,(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Cursor"}),(0,i.jsxs)("td",{children:[(0,i.jsxs)(o.x,{flex:{direction:"row",gap:8},children:[(0,i.jsx)("span",{style:{fontFamily:d.b.monospace,fontSize:"16px"},children:A||"None"}),(0,i.jsx)(h.Z,{onClick:function(){return T(!0)},style:{fontSize:"12px"},children:(0,i.jsxs)(o.x,{flex:{direction:"row",alignItems:"flex-end",gap:4},children:[(0,i.jsx)(p.JO,{name:"edit",color:f.w.Blue500,size:12}),(0,i.jsx)("span",{children:"Edit"})]})})]}),(0,i.jsx)(q,{isOpen:R,sensorSelector:O,cursor:A||"",onClose:function(){return T(!1)}})]})]}),(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Frequency"}),(0,i.jsx)("td",{children:ne(b.minIntervalSeconds)})]}),P.assetKeys&&P.assetKeys.length?(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{children:"Monitored assets"}),(0,i.jsx)("td",{children:(0,i.jsx)(Q,{metadata:P})})]}):null]})})]})}},35971:function(n,e,t){t.d(e,{F:function(){return l}});var r=t(85333),i=t(6692),s=t(2281),o=t(52322),a=t(2736),c=t(51927);t(2784);var l=function(n){var e=n.daemonHealth,t=(0,s._)(n,["daemonHealth"]),l=void 0;if(e){var u=e.allDaemonStatuses.filter(function(n){return"SENSOR"===n.daemonType});if(u[0]){var d=u[0];l=!!(d.required&&d.healthy)}}return!1===l?(0,o.jsx)(a.x,(0,i._)((0,r._)({},t),{children:(0,o.jsx)(c.b,{intent:"warning",title:"The sensor daemon is not running.",description:(0,o.jsxs)("div",{children:["See the"," ",(0,o.jsx)("a",{href:"https://docs.dagster.io/deployment/dagster-daemon",target:"_blank",rel:"noreferrer",children:"dagster-daemon documentation"})," ","for more information on how to deploy the dagster-daemon process."]})})})):null}},94835:function(n,e,t){t.d(e,{D:function(){return c}});var r=t(52322),i=t(2736);t(2784);var s=t(28292),o=t(24651),a=t(33667),c=function(n){var e=n.targets,t=n.repoAddress,c=(0,a.Ux)(t);if(!e)return(0,r.jsx)("span",{});var l=e.filter(function(n){return!(0,s.pv)(n.pipelineName)});return(0,r.jsxs)(i.x,{flex:{direction:"column",gap:2},children:[l.length<e.length&&(0,r.jsx)("span",{children:"A selection of assets"}),l.map(function(n){return n.pipelineName?(0,r.jsx)(o.h,{pipelineName:n.pipelineName,pipelineHrefContext:t,isJob:!!(c&&(0,a.E8)(c,n.pipelineName))},n.pipelineName):null})]})}},45907:function(n,e,t){t.d(e,{x:function(){return i}});var r=t(19618),i=function(n,e){return"".concat((0,r.Uz)(n),"-").concat(e)}},2142:function(n,e,t){t.d(e,{k:function(){return m}});var r=t(52322),i=t(2736),s=t(42033),o=t(72096),a=t(34706),c=t(87323),l=t(19126),u=t.n(l);t(2784);var d=t(24651),h=t(1176),p=t(16369),f=t(33667),x=t(41060),m=function(n){var e=n.runRequests,t=n.isJob,l=n.repoAddress,m=n.mode,g=n.jobName,j=(0,f.Ux)(l),v=(0,r.jsx)("tbody",{"data-testid":(0,h.N)("table-body"),children:e.map(function(n,e){var a;return(0,r.jsxs)("tr",{"data-testid":(0,h.N)(n.runKey||""),children:[(0,r.jsx)("td",{children:(0,r.jsx)(i.x,{flex:{alignItems:"center",gap:8},children:(0,r.jsx)(d.h,{pipelineName:g,pipelineHrefContext:l,isJob:!!j&&t,showIcon:!0,size:"small"})})}),(0,r.jsx)("td",{children:(0,r.jsx)(i.x,{flex:{direction:"row",gap:8},children:n.tags.filter(function(n){return!["dagster/schedule_name"].includes(n.key)}).map(function(n){var e=n.key,t=n.value;return(0,r.jsxs)(s.V,{children:[e,": ",t]},e)})})}),(0,r.jsx)("td",{children:(0,r.jsx)(p.A,{icon:(0,r.jsx)(o.JO,{name:"edit"}),target:"_blank",to:(0,x.$U)(l,"/pipeline_or_job/".concat(g,"/playground/setup?").concat(u().stringify({mode:m,config:n.runConfigYaml,tags:n.tags,assetSelection:null===(a=n.assetSelection)||void 0===a?void 0:a.map(function(n){return{assetKey:{path:n.path}}})}))),children:"Open in Launchpad"})})]},e)})});return(0,r.jsx)("div",{children:(0,r.jsxs)(a.i,{style:{borderRight:"1px solid ".concat(c.w.KeylineGray)},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsxs)("th",{children:[t?"Job":"Pipeline"," name"]}),(0,r.jsx)("th",{children:"Tags"}),(0,r.jsx)("th",{children:"Configuration"})]})}),v]})})}},51509:function(n,e,t){t.d(e,{T:function(){return h}});var r=t(52322),i=t(2736),s=t(72096),o=t(19369),a=t(34706),c=t(87323),l=t(42033),u=t(2784),d=t(7334);function h(n){var e=n.includeTitle,t=n.requests,h=u.useMemo(function(){if(!t.length)return[];var n=[];return t.forEach(function(e){var t=e.partitionKeys,r=e.partitionsDefName,i=e.type;null==t||t.forEach(function(e){n.push({key:e,def:r,type:i})})}),n},[t]);return h.length?(0,r.jsxs)(i.x,{flex:{direction:"column",gap:12,grow:1},children:[void 0===e||e?(0,r.jsxs)(i.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,r.jsx)(s.JO,{name:"partition"}),(0,r.jsx)(o.pm,{children:"Dynamic Partition Requests"})]}):null,(0,r.jsxs)(a.i,{style:{borderRight:"1px solid ".concat(c.w.KeylineGray)},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Partition"}),(0,r.jsx)("th",{children:"Partition definition"}),(0,r.jsx)("th",{children:"Requested change"})]})}),(0,r.jsx)("tbody",{children:h.map(function(n,e){var t=n.key,i=n.def,s=n.type;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:t}),(0,r.jsx)("td",{children:i}),(0,r.jsx)("td",{children:s===d.Dq2.ADD_PARTITIONS?(0,r.jsx)(l.V,{intent:"success",children:(0,r.jsx)("span",{children:"Add Partition"})}):(0,r.jsx)(l.V,{intent:"danger",children:(0,r.jsx)("span",{children:"Delete Partition"})})})]},e)})})]})]}):null}},98916:function(n,e,t){t.d(e,{s:function(){return s}});var r=t(73235);function i(){var n=(0,r._)(["\n  fragment RunRequestFragment on RunRequest {\n    runConfigYaml\n    tags {\n      key\n      value\n    }\n    runKey\n    assetSelection {\n      path\n    }\n  }\n"]);return i=function(){return n},n}var s=(0,t(60138).Ps)(i())},1506:function(n,e,t){t.d(e,{W:function(){return o}});var r=t(52322),i=t(42971),s=t(29403);t(2784);var o=function(n){var e=n.checkedCount,t=n.totalCount,o=n.onToggleAll;return(0,r.jsx)(i.u,{content:"".concat(e," of ").concat(t," selected"),placement:"top",children:(0,r.jsx)(s.X,{indeterminate:e>0&&e!==t,checked:e>0&&e===t,onChange:function(n){n.target instanceof HTMLInputElement&&o(e!==t)}})})}},39040:function(n,e,t){t.d(e,{g:function(){return o}});var r=t(52322);t(2784);var i=t(7334),s=t(37923),o=function(){return(0,s.im)({name:"Running state",icon:"toggle_off",allValues:[{value:i.ynu.RUNNING,match:["on","running"]},{value:i.ynu.STOPPED,match:["off","stopped"]}],getKey:function(n){return n},renderLabel:function(n){var e=n.value;return(0,r.jsx)("span",{children:e===i.ynu.RUNNING?"Running":"Stopped"})},getStringValue:function(n){return n}})}},67310:function(n,e,t){t.d(e,{w:function(){return r}});var r=function(n){var e=new Set,t=new Set;return n.forEach(function(n){e.has(n)?t.add(n):e.add(n)}),t}},31527:function(n,e,t){t.d(e,{N:function(){return l}});var r=t(58467),i=t(2784),s=t(99200),o=t(55055),a=t(19618),c=function(n){return Array.isArray(n)?n:[]},l=function(n,e){var t,l=(t=i.useContext(s.I).basePath,"".concat(t,":dagster.").concat(n)),u=(0,r._)((0,o.U)(l,c),2),d=u[0],h=u[1],p=i.useCallback(function(n){var e=(0,a.Uz)(n);h(function(n){var t=new Set(n||[]);return t.has(e)?t.delete(e):t.add(e),Array.from(t)})},[h]),f=i.useCallback(function(n){h(function(t){var r=new Set(t||[]);return e.forEach(function(e){n?r.delete(e):r.add(e)}),Array.from(r)})},[e,h]),x=i.useMemo(function(){var n=new Set(d);return e.filter(function(e){return!n.has(e)})},[e,d]);return i.useMemo(function(){return{expandedKeys:x,onToggle:p,onToggleAll:f}},[x,p,f])}},38181:function(n,e,t){t.d(e,{I:function(){return M},b:function(){return J}});var r=t(58467),i=t(73235),s=t(82550),o=t(52322),a=t(3842),c=t(60138),l=t(88528),u=t(2736),d=t(87323),h=t(2784),p=t(47933),f=t(35505),x=t(63757),m=t(55829),g=t(17577),j=t(42971),v=t(70399),y=t(72096),b=t(90951),w=t(77959),S=t(54095),k=t(79062),C=t(40543),_=t(41060);function N(){var n=(0,i._)(["\n  query RunReExecutionQuery($runId: ID!) {\n    pipelineRunOrError(runId: $runId) {\n      ... on Run {\n        id\n        parentPipelineSnapshotId\n        ...RunFragment\n      }\n    }\n  }\n\n  ","\n"]);return N=function(){return n},n}var E=function(n){var e=n.job,t=n.repoAddress,i=e.runs.length?e.runs[0]:null,s=(0,b.xz)(t.location),c=s.permissions.canLaunchPipelineReexecution,l=s.disabledReasons,u=(0,r._)((0,a.t)(P),2),d=u[0],p=u[1].data,f=(null==p?void 0:p.pipelineRunOrError.__typename)==="Run"?null==p?void 0:p.pipelineRunOrError:null,x=h.useCallback(function(){(null==i?void 0:i.id)&&d({variables:{runId:i.id}})},[i,d]),S=(0,k.W)(f),N=(0,o.jsx)(m.sN,{icon:"replay",text:"Re-execute latest run",onClick:function(){return S({type:"all"})},disabled:!c||!f||!(0,w.EP)(f)}),E=(0,o.jsx)(m.sN,{icon:"sync_problem",text:"Re-execute latest run from failure",onClick:function(){return S({type:"from-failure"})},disabled:!c||!f||!(0,w.VM)(f)});return(0,o.jsx)(g.J,{onOpened:function(){return x()},content:(0,o.jsxs)(m.v2,{children:[(0,o.jsx)(C.U,{to:(0,_.jT)({repoName:t.name,repoLocation:t.location,pipelineName:e.name,isJob:e.isJob}),icon:"job",text:"View job"}),(0,o.jsx)(C.U,{to:(0,_.jT)({repoName:t.name,repoLocation:t.location,pipelineName:e.name,isJob:e.isJob,path:"/runs"}),icon:"checklist",text:"View all recent runs"}),c?N:(0,o.jsx)(j.u,{content:l.canLaunchPipelineReexecution,display:"block",children:N}),c?E:(0,o.jsx)(j.u,{content:l.canLaunchPipelineReexecution,display:"block",children:E})]}),position:"bottom-left",children:(0,o.jsx)(v.zx,{icon:(0,o.jsx)(y.JO,{name:"expand_more"})})})},P=(0,c.Ps)(N(),S.J3),I=t(27359),R=t(24334),T=t(83694),O=t(83221),D=t(78478),A=t(713),U=t(4250),F=t(56536),L=t(33667);function q(){var n=(0,i._)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"]);return q=function(){return n},n}function $(){var n=(0,i._)(["\n  width: 100%;\n\n  > .bp4-popover2-target {\n    width: 100%;\n  }\n"]);return $=function(){return n},n}function z(){var n=(0,i._)(["\n  query SingleJobQuery($selector: PipelineSelector!) {\n    pipelineOrError(params: $selector) {\n      ... on Pipeline {\n        id\n        name\n        isJob\n        description\n        runs(limit: 5) {\n          id\n          ...RunTimeFragment\n        }\n        schedules {\n          id\n          ...ScheduleSwitchFragment\n        }\n        sensors {\n          id\n          ...SensorSwitchFragment\n        }\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return z=function(){return n},n}var B="1.5fr 1fr 180px 96px 80px",J=function(n){var e=n.name,t=n.isJob,i=n.repoAddress,c=n.start,d=n.height,f=(0,r._)((0,a.t)(K,{variables:{selector:(0,L._T)(i,e)}}),2),m=f[0],g=f[1];(0,F.v5)(m),(0,x.C4)(g,x.dT);var j=g.data,v=h.useMemo(function(){if((null==j?void 0:j.pipelineOrError.__typename)==="Pipeline"){var n=j.pipelineOrError;return{schedules:n.schedules,sensors:n.sensors}}return{schedules:[],sensors:[]}},[j]),y=v.schedules,b=v.sensors,w=h.useMemo(function(){if((null==j?void 0:j.pipelineOrError.__typename)==="Pipeline"){var n=j.pipelineOrError.runs;if(n.length)return(0,s._)(n)}return[]},[j]);return(0,o.jsx)(U.X2,{$height:d,$start:c,children:(0,o.jsxs)(G,{border:"bottom",children:[(0,o.jsxs)(U.E5,{children:[(0,o.jsx)("div",{style:{maxWidth:"100%",whiteSpace:"nowrap",fontWeight:500},children:(0,o.jsx)(p.rU,{to:(0,_.$U)(i,"/jobs/".concat(e)),children:(0,o.jsx)(l.g,{text:e})})}),(0,o.jsx)(F.HB,{children:(null==j?void 0:j.pipelineOrError.__typename)==="Pipeline"?j.pipelineOrError.description:""})]}),(0,o.jsx)(U.E5,{children:y.length||b.length?(0,o.jsx)(u.x,{flex:{direction:"column",alignItems:"flex-start",gap:8},children:(0,o.jsx)(V,{children:(0,o.jsx)(R.I,{schedules:y,sensors:b,repoAddress:i})})}):(0,o.jsx)(F.mq,{queryResult:g})}),(0,o.jsx)(U.E5,{children:w[0]?(0,o.jsx)(I.Z,{run:w[0],showButton:!1,showHover:!0,showSummary:!1,name:e}):(0,o.jsx)(F.mq,{queryResult:g})}),(0,o.jsx)(U.E5,{children:w.length?(0,o.jsx)(u.x,{padding:{top:4},children:(0,o.jsx)(T.JH,{jobName:e,runs:(0,s._)(w).reverse(),fade:!0})}):(0,o.jsx)(F.mq,{queryResult:g})}),(0,o.jsx)(U.E5,{children:(0,o.jsx)(u.x,{flex:{justifyContent:"flex-end"},style:{marginTop:"-2px"},children:(0,o.jsx)(E,{job:{isJob:t,name:e,runs:w},repoAddress:i})})})]})})},M=function(){return(0,o.jsxs)(u.x,{border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:B,height:"32px",fontSize:"12px",color:d.w.Gray600},children:[(0,o.jsx)(U.qN,{children:"Name"}),(0,o.jsx)(U.qN,{children:"Schedules/sensors"}),(0,o.jsx)(U.qN,{children:"Latest run"}),(0,o.jsx)(U.qN,{children:"Run history"}),(0,o.jsx)(U.qN,{})]})},G=(0,f.ZP)(u.x).withConfig({componentId:"sc-35c69bb-0"})(q(),B),V=f.ZP.div.withConfig({componentId:"sc-35c69bb-1"})($()),K=(0,c.Ps)(z(),O.$X,D.J,A.U)},57673:function(n,e,t){t.d(e,{o:function(){return J},i:function(){return B}});var r=t(58467),i=t(73235),s=t(52322),o=t(3842),a=t(60138),c=t(42971),l=t(29403),u=t(2736),d=t(88528),h=t(19369),p=t(87323),f=t(17577),x=t(55829),m=t(70399),g=t(72096),j=t(2784),v=t(47933),y=t(35505),b=t(63757),w=t(7334),S=t(27359),k=t(10674),C=t(24651),_=t(83221),N=t(78478),E=t(42033),P=function(n,e){if(n===w.ynu.STOPPED&&0===e||n===w.ynu.RUNNING&&1===e)return null;var t=[];return n===w.ynu.RUNNING&&0===e?t.push("Schedule is set to be running, but either the scheduler is not configured or the scheduler is not running the schedule"):n===w.ynu.STOPPED&&e>0&&t.push("Schedule is set to be stopped, but the scheduler is still running the schedule"),e>0&&t.push("Duplicate cron job for schedule found."),(0,s.jsx)(f.J,{interactionKind:"hover",popoverClassName:"bp4-popover-content-sizing",position:"right",content:(0,s.jsxs)(u.x,{flex:{direction:"column",gap:8},padding:12,children:[(0,s.jsx)("strong",{children:"There are errors with this schedule."}),(0,s.jsx)("div",{children:"Errors:"}),(0,s.jsx)("ul",{children:t.map(function(n,e){return(0,s.jsx)("li",{children:n},e)})})]}),children:(0,s.jsx)(E.V,{fill:!0,interactive:!0,intent:"danger",children:"Error"})})},I=t(30082),R=t(80023),T=t(40543),O=t(4250),D=t(56536),A=t(33667),U=t(41060);function F(){var n=(0,i._)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"]);return F=function(){return n},n}function L(){var n=(0,i._)(["\n  max-width: 100%;\n\n  .bp4-popover2-target {\n    max-width: 100%;\n\n    :focus {\n      outline: none;\n    }\n  }\n"]);return L=function(){return n},n}function q(){var n=(0,i._)(["\n  query SingleScheduleQuery($selector: ScheduleSelector!) {\n    scheduleOrError(scheduleSelector: $selector) {\n      ... on Schedule {\n        id\n        name\n        pipelineName\n        description\n        scheduleState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        partitionSet {\n          id\n          name\n        }\n        ...ScheduleSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return q=function(){return n},n}var $="60px 1fr 1fr 76px 148px 210px 92px",z="1fr 1fr 76px 148px 210px 92px",B=function(n){var e=n.name,t=n.repoAddress,i=n.checked,a=n.onToggleChecked,y=n.showCheckboxColumn,_=n.scheduleState,E=n.start,F=n.height,L=(0,A.Ux)(t),q=(0,r._)((0,o.t)(V,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,scheduleName:e}},notifyOnNetworkStatusChange:!0}),2),$=q[0],z=q[1];(0,D.v5)($),(0,b.C4)(z,b.dT);var B=z.data,J=j.useMemo(function(){return(null==B?void 0:B.scheduleOrError.__typename)!=="Schedule"?null:B.scheduleOrError},[B]),K=!!(J&&(0,A.E8)(L,J.pipelineName)),Z=J?(0,R.A)(J.cronSchedule,J.executionTimezone||"UTC"):"",H=j.useMemo(function(){var n=_.hasStartPermission,e=_.hasStopPermission,t=_.status;return t!==w.ynu.RUNNING||e?t!==w.ynu.STOPPED||n?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this schedule"}:{disabled:!0,message:"You do not have permission to stop this schedule"}},[_]);return(0,s.jsx)(O.X2,{$height:F,$start:E,children:(0,s.jsxs)(M,{border:"bottom",$showCheckboxColumn:y,children:[y?(0,s.jsx)(O.E5,{children:(0,s.jsx)(c.u,{canShow:H.disabled,content:H.message||"",placement:"top",children:(0,s.jsx)(l.X,{disabled:H.disabled,checked:i,onChange:function(n){a&&n.target instanceof HTMLInputElement&&a({checked:n.target.checked,shiftKey:n.nativeEvent instanceof MouseEvent&&n.nativeEvent.getModifierState("Shift")})}})})}):null,(0,s.jsx)(O.E5,{children:(0,s.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)("span",{style:{fontWeight:500},children:(0,s.jsx)(v.rU,{to:(0,U.$U)(t,"/schedules/".concat(e)),children:(0,s.jsx)(d.g,{text:e})})}),J?(0,s.jsx)(h.YS,{children:(0,s.jsx)(C.h,{showIcon:!0,size:"small",pipelineName:J.pipelineName,pipelineHrefContext:t,isJob:K})}):null]})}),(0,s.jsx)(O.E5,{children:J?(0,s.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(G,{style:{maxWidth:"100%"},children:(0,s.jsx)(c.u,{position:"top-left",content:J.cronSchedule,display:"block",children:(0,s.jsx)("div",{style:{color:p.w.Dark,overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},title:Z,children:Z})})}),J.scheduleState.nextTick&&J.scheduleState.status===w.ynu.RUNNING?(0,s.jsx)(h.YS,{children:(0,s.jsxs)("div",{style:{overflow:"hidden",whiteSpace:"nowrap",maxWidth:"100%",textOverflow:"ellipsis"},children:["Next tick:\xa0",(0,s.jsx)(I.v,{timestamp:J.scheduleState.nextTick.timestamp,timezone:J.executionTimezone,timeFormat:{showSeconds:!1,showTimezone:!0}})]})}):null]}):(0,s.jsx)(D.mq,{queryResult:z})}),(0,s.jsx)(O.E5,{children:J?(0,s.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)(N.M,{repoAddress:t,schedule:J},e),P(J.scheduleState.status,J.scheduleState.runningCount)]}):null}),(0,s.jsx)(O.E5,{children:(null==J?void 0:J.scheduleState.ticks[0])?(0,s.jsx)("div",{children:(0,s.jsx)(k.TW,{tick:J.scheduleState.ticks[0],instigationType:w._5b.SCHEDULE})}):(0,s.jsx)(D.mq,{queryResult:z})}),(0,s.jsx)(O.E5,{children:(null==J?void 0:J.scheduleState)&&(null==J?void 0:J.scheduleState.runs[0])?(0,s.jsx)(S.Z,{run:J.scheduleState.runs[0],name:e,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)(D.mq,{queryResult:z})}),(0,s.jsx)(O.E5,{children:(null==J?void 0:J.partitionSet)?(0,s.jsx)(f.J,{content:(0,s.jsxs)(x.v2,{children:[(0,s.jsx)(T.U,{text:"View partition history",icon:"dynamic_feed",target:"_blank",to:(0,U.$U)(t,"/".concat(K?"jobs":"pipelines","/").concat(J.pipelineName,"/partitions"))}),(0,s.jsx)(T.U,{text:"Launch partition backfill",icon:"add_circle",target:"_blank",to:(0,U.$U)(t,"/".concat(K?"jobs":"pipelines","/").concat(J.pipelineName,"/partitions"))})]}),position:"bottom-left",children:(0,s.jsx)(m.zx,{icon:(0,s.jsx)(g.JO,{name:"expand_more"})})}):(0,s.jsx)("span",{style:{color:p.w.Gray400},children:"–"})})]})})},J=function(n){var e=n.checkbox;return(0,s.jsxs)(u.x,{border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:e?$:z,height:"32px",fontSize:"12px",color:p.w.Gray600},children:[e?(0,s.jsx)(O.qN,{children:(0,s.jsx)("div",{style:{position:"relative",top:"-1px"},children:e})}):null,(0,s.jsx)(O.qN,{children:"Schedule name"}),(0,s.jsx)(O.qN,{children:"Schedule"}),(0,s.jsx)(O.qN,{children:"Running"}),(0,s.jsx)(O.qN,{children:"Last tick"}),(0,s.jsx)(O.qN,{children:"Last run"}),(0,s.jsx)(O.qN,{children:"Actions"})]})},M=(0,y.ZP)(u.x).withConfig({componentId:"sc-432bd5da-0"})(F(),function(n){return n.$showCheckboxColumn?$:z}),G=y.ZP.div.withConfig({componentId:"sc-432bd5da-1"})(L()),V=(0,a.Ps)(q(),k.dY,_.$X,N.J)},37523:function(n,e,t){t.d(e,{K:function(){return O},R:function(){return T}});var r=t(58467),i=t(73235),s=t(52322),o=t(3842),a=t(60138),c=t(42971),l=t(29403),u=t(2736),d=t(88528),h=t(19369),p=t(87323),f=t(2784),x=t(47933),m=t(35505),g=t(63757),j=t(7334),v=t(27359),y=t(10674),b=t(83221),w=t(67881),S=t(713),k=t(94835),C=t(4250),_=t(56536),N=t(41060);function E(){var n=(0,i._)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"]);return E=function(){return n},n}function P(){var n=(0,i._)(["\n  query SingleSensorQuery($selector: SensorSelector!) {\n    sensorOrError(sensorSelector: $selector) {\n      ... on Sensor {\n        id\n        description\n        name\n        targets {\n          pipelineName\n        }\n        metadata {\n          assetKeys {\n            path\n          }\n        }\n        minIntervalSeconds\n        description\n        sensorState {\n          id\n          runningCount\n          ticks(limit: 1) {\n            id\n            ...TickTagFragment\n          }\n          runs(limit: 1) {\n            id\n            ...RunTimeFragment\n          }\n          nextTick {\n            timestamp\n          }\n        }\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n  ","\n"]);return P=function(){return n},n}var I="60px 1.5fr 1fr 76px 120px 148px 180px",R="1.5fr 1fr 76px 120px 148px 180px",T=function(n){var e=n.name,t=n.repoAddress,i=n.checked,a=n.onToggleChecked,m=n.showCheckboxColumn,b=n.sensorState,E=n.start,P=n.height,I=(0,r._)((0,o.t)(A,{variables:{selector:{repositoryName:t.name,repositoryLocationName:t.location,sensorName:e}}}),2),R=I[0],T=I[1];(0,_.v5)(R),(0,g.C4)(T,g.dT);var O=T.data,U=f.useMemo(function(){return(null==O?void 0:O.sensorOrError.__typename)!=="Sensor"?null:O.sensorOrError},[O]),F=f.useMemo(function(){var n=b.hasStartPermission,e=b.hasStopPermission,t=b.status;return t!==j.ynu.RUNNING||e?t!==j.ynu.STOPPED||n?{disabled:!1}:{disabled:!0,message:"You do not have permission to start this sensor"}:{disabled:!0,message:"You do not have permission to stop this sensor"}},[b]);return(0,s.jsx)(C.X2,{$height:P,$start:E,children:(0,s.jsxs)(D,{border:"bottom",$showCheckboxColumn:m,children:[m?(0,s.jsx)(C.E5,{children:(0,s.jsx)(c.u,{canShow:F.disabled,content:F.message||"",placement:"top",children:(0,s.jsx)(l.X,{disabled:F.disabled,checked:i,onChange:function(n){a&&n.target instanceof HTMLInputElement&&a({checked:n.target.checked,shiftKey:n.nativeEvent instanceof MouseEvent&&n.nativeEvent.getModifierState("Shift")})}})})}):null,(0,s.jsx)(C.E5,{children:(0,s.jsxs)(u.x,{flex:{direction:"column",gap:4},children:[(0,s.jsx)("span",{style:{fontWeight:500},children:(0,s.jsx)(x.rU,{to:(0,N.$U)(t,"/sensors/".concat(e)),children:(0,s.jsx)(d.g,{text:e})})}),(0,s.jsx)("div",{style:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis"},children:(0,s.jsx)(h.YS,{style:{color:p.w.Gray500,whiteSpace:"nowrap"},children:null==U?void 0:U.description})})]})}),(0,s.jsx)(C.E5,{children:(0,s.jsx)(u.x,{flex:{direction:"column",gap:4},style:{fontSize:"12px"},children:(0,s.jsx)(k.D,{targets:null==U?void 0:U.targets,repoAddress:t})})}),(0,s.jsx)(C.E5,{children:U?(0,s.jsx)(u.x,{flex:{direction:"column",gap:4},children:(0,s.jsx)(S.c,{repoAddress:t,sensor:U},e)}):null}),(0,s.jsx)(C.E5,{children:U?(0,s.jsx)("div",{style:{color:p.w.Dark},children:(0,w.F)(U.minIntervalSeconds)}):(0,s.jsx)(_.mq,{queryResult:T})}),(0,s.jsx)(C.E5,{children:(null==U?void 0:U.sensorState.ticks[0])?(0,s.jsx)("div",{children:(0,s.jsx)(y.TW,{tick:U.sensorState.ticks[0],instigationType:j._5b.SENSOR})}):(0,s.jsx)(_.mq,{queryResult:T})}),(0,s.jsx)(C.E5,{children:(null==U?void 0:U.sensorState)&&(null==U?void 0:U.sensorState.runs[0])?(0,s.jsx)(v.Z,{run:U.sensorState.runs[0],name:e,showButton:!1,showHover:!0,showSummary:!1}):(0,s.jsx)(_.mq,{queryResult:T})})]})})},O=function(n){var e=n.checkbox;return(0,s.jsxs)(u.x,{border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:e?I:R,height:"32px",fontSize:"12px",color:p.w.Gray600},children:[e?(0,s.jsx)(C.qN,{children:(0,s.jsx)("div",{style:{position:"relative",top:"-1px"},children:e})}):null,(0,s.jsx)(C.qN,{children:"Name"}),(0,s.jsx)(C.qN,{children:"Target"}),(0,s.jsx)(C.qN,{children:"Running"}),(0,s.jsx)(C.qN,{children:"Frequency"}),(0,s.jsx)(C.qN,{children:"Last tick"}),(0,s.jsx)(C.qN,{children:"Last run"})]})},D=(0,m.ZP)(u.x).withConfig({componentId:"sc-46216d14-0"})(E(),function(n){return n.$showCheckboxColumn?I:R}),A=(0,a.Ps)(P(),y.dY,b.$X,S.U)},56536:function(n,e,t){t.d(e,{HB:function(){return f},mq:function(){return p},v5:function(){return m},vG:function(){return h}});var r=t(73235),i=t(52322),s=t(87323),o=t(19369),a=t(2784),c=t(35505),l=t(91424),u=t(4250);function d(){var n=(0,r._)(["\n  max-width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n\n  "," {\n    color: ",";\n    white-space: nowrap;\n  }\n"]);return d=function(){return n},n}var h=function(n){var e=n.repoAddress,t=n.height,r=n.start,s=n.expanded,o=n.onToggle,a=n.onToggleAll,c=n.showLocation,d=n.rightElement;return(0,i.jsx)(u.X2,{$height:t,$start:r,children:(0,i.jsx)(l.L,{repoName:e.name,repoLocation:e.location,expanded:s,onClick:function(n){return n.getModifierState("Shift")?a(!s):o(e)},showLocation:c,rightElement:d})})},p=function(n){var e=n.queryResult,t=n.noneString,r=e.called,o=e.loading,a=e.data;return(0,i.jsx)("div",{style:{color:s.w.Gray500},children:r&&(!o||a)?void 0===t?"None":t:"Loading"})},f=function(n){var e=n.children;return(0,i.jsx)(x,{children:(0,i.jsx)(o.YS,{children:e})})},x=c.ZP.div.withConfig({componentId:"sc-8a3c5867-0"})(d(),o.YS,s.w.Gray500),m=function(n){a.useEffect(function(){var e=setTimeout(function(){n()},100);return function(){return clearTimeout(e)}},[n])}},59859:function(n,e,t){t.d(e,{h:function(){return v}});var r=t(52322),i=t(62540),s=t(2736),o=t(19369),a=t(87323),c=t(42971),l=t(70399),u=t(72096);t(2784);var d=t(47933),h=t(18154),p=t(11780),f=t(63757),x=t(89072),m=t(41060),g=function(n){var e=n.repoAddress,t=n.refreshState,i=n.tab;return(0,r.jsxs)(s.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,r.jsxs)(p.mQ,{selectedTabId:i,children:[(0,r.jsx)(x.f,{id:"assets",title:"Assets",to:(0,m.$U)(e,"/assets")}),(0,r.jsx)(x.f,{id:"jobs",title:"Jobs",to:(0,m.$U)(e,"/jobs")}),(0,r.jsx)(x.f,{id:"schedules",title:"Schedules",to:(0,m.$U)(e,"/schedules")}),(0,r.jsx)(x.f,{id:"sensors",title:"Sensors",to:(0,m.$U)(e,"/sensors")}),(0,r.jsx)(x.f,{id:"graphs",title:"Graphs",to:(0,m.$U)(e,"/graphs")}),(0,r.jsx)(x.f,{id:"ops",title:"Ops",to:(0,m.$U)(e,"/ops")}),(0,r.jsx)(x.f,{id:"resources",title:"Resources",to:(0,m.$U)(e,"/resources")})]}),t?(0,r.jsx)(s.x,{padding:{bottom:8},children:(0,r.jsx)(f.xi,{refreshState:t})}):null]})},j=t(19618),v=function(n){var e=n.repoAddress,t=n.tab,p=n.refreshState,f=n.queryData;return(0,r.jsx)(i.m,{title:(0,r.jsxs)(s.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,r.jsx)(o.X6,{children:(0,r.jsx)(d.rU,{to:"/locations",style:{color:a.w.Dark},children:"Deployment"})}),(0,r.jsx)(o.X6,{children:"/"}),(0,r.jsx)(o.X6,{style:{color:a.w.Gray600},children:(0,j.Uz)(e)})]}),tabs:(0,r.jsx)(g,{repoAddress:e,tab:t,refreshState:p,queryData:f}),right:(0,r.jsx)(h.s,{location:e.location,ChildComponent:function(n){var e=n.tryReload,t=n.reloading,i=n.hasReloadPermission;return(0,r.jsx)(c.u,{canShow:!i,content:i?"":h.H,useDisabledButtonTooltipFix:!0,children:(0,r.jsx)(l.zx,{onClick:function(){return e()},loading:t,disabled:!i,icon:(0,r.jsx)(u.JO,{name:"refresh"}),children:"Reload definitions"})})}})})}}}]);
//# sourceMappingURL=186.fa6c98919bd0fb17.js.map