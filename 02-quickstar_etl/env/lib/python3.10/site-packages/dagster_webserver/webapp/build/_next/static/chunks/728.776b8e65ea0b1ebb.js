"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[728],{98353:function(e,n,t){t.d(n,{T:function(){return s}});var i=t(73235);function r(){var e=(0,i._)(["\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 64px;\n  width: 100%;\n"]);return r=function(){return e},e}var s=t(35505).ZP.div.withConfig({componentId:"sc-2cf5acf-0"})(r())},62540:function(e,n,t){t.d(n,{m:function(){return c}});var i=t(73235),r=t(52322);t(2784);var s=t(35505),a=t(2736),o=t(87323);function l(){var e=(0,i._)(["\n  width: 100%;\n\n  /**\n   * Blueprint breadcrumbs annoyingly have a built-in height.\n   */\n  .bp4-breadcrumbs {\n    height: auto;\n  }\n"]);return l=function(){return e},e}var c=function(e){var n=e.title,t=e.tags,i=e.right,s=e.tabs;return(0,r.jsxs)(d,{background:o.w.Gray50,padding:{top:16,left:24,right:12},border:"bottom",children:[(0,r.jsxs)(a.x,{flex:{direction:"row",justifyContent:"space-between"},padding:{bottom:16},children:[(0,r.jsxs)(a.x,{flex:{direction:"row",alignItems:"flex-start",gap:12,wrap:"wrap"},children:[n,t]}),i]}),s]})},d=(0,s.ZP)(a.x).withConfig({componentId:"sc-a1bb63a9-0"})(l())},25945:function(e,n,t){t.d(n,{K:function(){return I},w:function(){return N}});var i=t(81862),r=t(85333),s=t(2281),a=t(58467),o=t(73235),l=t(22970),c=t(52322),d=t(38058),u=t(62540),x=t(2736),p=t(19369),h=t(42971),m=t(72096),f=t(87323),g=t(2784),j=t(47933),v=t(35505),y=t(67953),b=t(99339);function w(){var e=(0,o._)(["\n  border: none;\n  background: transparent;\n  cursor: pointer;\n  padding: 3px;\n  margin-top: 2px;\n\n  :focus {\n    outline: none;\n  }\n\n  "," {\n    transition: background-color 100ms linear;\n  }\n\n  :hover "," {\n    background-color: ",";\n  }\n"]);return w=function(){return e},e}function E(){var e=(0,o._)(["\n  & li:not(:first-child)::after {\n    background: none;\n    font-size: 20px;\n    font-weight: bold;\n    color: #5c7080;\n    content: '/';\n    width: 8px;\n    line-height: 16px;\n  }\n"]);return E=function(){return e},e}function _(){var e=(0,o._)(["\n  color: ",";\n\n  :hover,\n  :active {\n    color: ",";\n  }\n"]);return _=function(){return e},e}var I=function(e){var n=e.assetKey,t=(0,s._)(e,["assetKey"]),o=(0,b.m)(),d=n.path.join("/"),j=(0,a._)(g.useState(!1),2),v=j[0],w=j[1],E=g.useRef(),_=g.useCallback((0,i._)(function(){return(0,l.Jh)(this,function(e){switch(e.label){case 0:return E.current&&clearTimeout(E.current),o(d),w(!0),[4,(0,y.B7)({icon:"done",intent:"primary",message:"Copied asset key!"})];case 1:return e.sent(),E.current=setTimeout(function(){w(!1)},2e3),[2]}})}),[o,d]),I=g.useMemo(function(){var e=[{text:"Assets",href:"/assets"}];return n.path.reduce(function(n,t){var i="".concat(n,"/").concat(encodeURIComponent(t));return e.push({text:t,href:i}),i},"/assets"),e},[n.path]);return(0,c.jsx)(u.m,(0,r._)({title:(0,c.jsxs)(x.x,{flex:{alignItems:"center",gap:4},style:{maxWidth:"600px",overflow:"hidden",marginBottom:4},children:[(0,c.jsx)(k,{items:I,currentBreadcrumbRenderer:function(e){var n=e.text;return(0,c.jsx)(p.X6,{children:n})},breadcrumbRenderer:function(e){var n=e.text,t=e.href;return(0,c.jsx)(p.X6,{children:(0,c.jsx)(A,{to:t||"#",children:n})})}}),(0,c.jsx)(h.u,{placement:"bottom",content:"Copy asset key",children:(0,c.jsx)(C,{onClick:_,children:(0,c.jsx)(m.JO,{name:v?"copy_to_clipboard_done":"copy_to_clipboard",color:f.w.Gray400})})})]})},t))},C=v.ZP.button.withConfig({componentId:"sc-4cd077c4-0"})(w(),m.a1,m.a1,f.w.Gray800),N=function(){return(0,c.jsx)(j.rU,{to:"/asset-groups",children:(0,c.jsxs)(x.x,{flex:{gap:4},children:[(0,c.jsx)(m.JO,{color:f.w.Link,name:"schema"}),"View global asset lineage"]})})},k=(0,v.ZP)(d.Oo).withConfig({componentId:"sc-4cd077c4-1"})(E()),A=(0,v.ZP)(j.rU).withConfig({componentId:"sc-4cd077c4-2"})(_(),f.w.Gray800,f.w.Gray800)},74267:function(e,n,t){t.r(n),t.d(n,{AssetsCatalogRoot:function(){return iL},default:function(){return i$}});var i,r,s,a,o=t(73235),l=t(52322),c=t(40794),d=t(60138),u=t(98353),x=t(2736),p=t(91588),h=t(87323),m=t(2784),f=t(7267),g=t(48608),j=t(28292),v=t(34503),y=t(38736),b=t(25945),w=t(85333),E=t(6692),_=t(58467),I=t(49363),C=t(45),N=t(51927),k=t(42033),A=t(47933),z=t(63757),K=t(44816),O=t(49995),S=t(18200),P=t(94204),R=t(40933),M=t(76358),D=t(3358),T=t(61018),F=t(41060),L=t(82550),$=t(19369),V=t(61343),W=t(17577),G=t(55829),U=t(29403),B=t(70399),q=t(72096),H=t(55055),J=t(92914),Z=t(24651),Q=t(8181),Y=t(83221),X=t(33667),ee=t(28879),en=t.n(ee),et=t(84636),ei=t.n(et),er=t(35505),es=t(82525);function ea(){var e=(0,o._)(["\n  width: 100%;\n  overflow-x: auto;\n"]);return ea=function(){return e},e}function eo(){var e=(0,o._)(["\n  width: 100%;\n  border-spacing: 0;\n  border-collapse: collapse;\n  tr td:first-child {\n    max-width: 300px;\n    word-wrap: break-word;\n    width: 25%;\n  }\n  tr td {\n    border: 1px solid ",";\n    padding: 8px 12px;\n    font-size: 14px;\n    vertical-align: top;\n  }\n"]);return eo=function(){return e},e}var el=function(e){var n=e.event,t=e.observations;if(!n||!n.metadataEntries.length&&!(null==t?void 0:t.length))return(0,l.jsx)($.YS,{color:h.w.Gray500,children:"No metadata entries"});var i=n.metadataEntries,r=n.timestamp,s=ei()((t||[]).flatMap(function(e){return e.metadataEntries.map(function(n){return{timestamp:e.timestamp,runId:e.runId,entry:n}})}),function(e){return e.entry.label});return(0,l.jsx)(ec,{children:(0,l.jsx)(ed,{children:(0,l.jsxs)("tbody",{children:[i.map(function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)($.fv,{children:e.label})}),(0,l.jsx)("td",{children:(0,l.jsx)($.fv,{children:(0,l.jsx)(es.BL,{entry:e,expandSmallValues:!0})})}),(0,l.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))}),s.map(function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,l.jsx)($.fv,{children:e.entry.label})}),(0,l.jsx)("td",{children:(0,l.jsx)($.fv,{children:(0,l.jsx)(es.BL,{entry:e.entry,expandSmallValues:!0})})}),(0,l.jsxs)("td",{style:{opacity:.7},children:[(0,l.jsxs)(x.x,{children:["Observed in run ",(0,l.jsx)(A.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(r),children:(0,l.jsx)($.fv,{children:(0,Y.EI)({id:e.runId})})})]}),(0,l.jsx)($.YS,{children:"(".concat(en()(Number(e.timestamp)).from(Number(r),!0)," later)")}),e.entry.description]})]},"metadata-".concat(e.timestamp,"-").concat(e.entry.label))})]})})})},ec=er.ZP.div.withConfig({componentId:"sc-b6dc6102-0"})(ea()),ed=er.ZP.table.withConfig({componentId:"sc-b6dc6102-1"})(eo(),h.w.KeylineGray),eu=t(46287),ex=t(95942),ep=t(39964),eh=function(e){var n,t=e.event,i=e.assetKey,r=(null===(n=t.runOrError)||void 0===n?void 0:n.__typename)==="Run"?t.runOrError:null,s=null==r?void 0:r.repositoryOrigin,a=s?(0,T.kQ)(s.repositoryName,s.repositoryLocationName):null,o=(0,X.Ux)(a),c="MaterializationEvent"===t.__typename?t.assetLineage:[];return(0,l.jsxs)(x.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,l.jsx)(x.x,{padding:{vertical:24},border:"bottom",flex:{alignItems:"center",justifyContent:"space-between"},children:(0,l.jsx)($.X6,{children:(0,l.jsx)(K.E,{timestamp:{ms:Number(t.timestamp)}})})}),(0,l.jsxs)(x.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:"bottom",padding:{vertical:16},children:[(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"Event"}),"MaterializationEvent"===t.__typename?(0,l.jsxs)(x.x,{flex:{gap:4},children:[(0,l.jsx)(q.JO,{name:"materialization"}),"Materialization"]}):(0,l.jsxs)(x.x,{flex:{gap:4},children:[(0,l.jsx)(q.JO,{name:"observation"}),"Observation"]})]}),t.partition&&(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"Partition"}),(0,l.jsx)(x.x,{flex:{gap:4},children:t.partition})]}),(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,l.jsx)($.pm,{children:"Run"}),r?(0,l.jsxs)(x.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(Q.hk,{runId:r.id,status:r.status}),(0,l.jsx)(A.rU,{to:(0,Y.tA)(r,t),children:(0,l.jsx)($.fv,{children:(0,Y.EI)(r)})})]}):"—"]}),(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"Job"}),r&&!(0,j.pv)(r.pipelineName)?(0,l.jsxs)(x.x,{children:[(0,l.jsx)(x.x,{children:(0,l.jsx)(Z.h,{showIcon:!0,pipelineName:r.pipelineName,pipelineHrefContext:a||"repo-unknown",snapshotId:r.pipelineSnapshotId,isJob:(0,X.E8)(o,r.pipelineName)})}),(0,l.jsxs)(J.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,l.jsx)(q.JO,{name:"linear_scale",color:h.w.Gray400}),(0,l.jsx)(A.rU,{to:(0,Y.tA)(r,t),children:t.stepKey})]})]}):"—"]})]}),t.description&&(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"Description"}),t.description]}),(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"Metadata"}),(0,l.jsx)(el,{event:t})]}),"MaterializationEvent"===t.__typename&&(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"Source data"}),(0,l.jsx)(ep.EA,{timestamp:t.timestamp,assetKey:i})]}),(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"System tags"}),(0,l.jsx)(eu.M,{event:t,collapsible:!0})]}),c.length>0&&(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"Parent materializations"}),(0,l.jsx)(ex.i,{elements:c,timestamp:t.timestamp})]})]})},em=function(){return(0,l.jsxs)(x.x,{padding:{horizontal:24},style:{flex:1},children:[(0,l.jsx)(x.x,{padding:{vertical:24},border:"bottom",flex:{alignItems:"center",justifyContent:"space-between"},children:(0,l.jsx)($.X6,{color:h.w.Gray400,children:"No event selected"})}),(0,l.jsxs)(x.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16},border:"bottom",padding:{vertical:16},children:[(0,l.jsx)(x.x,{flex:{gap:4,direction:"column"},children:(0,l.jsx)($.pm,{children:"Event"})}),(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},style:{minHeight:64},children:[(0,l.jsx)($.pm,{children:"Run"}),"—"]}),(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"Job"}),"—"]})]}),(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"Metadata"}),(0,l.jsx)(el,{event:null})]})]})},ef=t(3802),eg=t(2281),ej=t(7334),ev=t(34706),ey=t(47625),eb=t(80572);function ew(){var e=(0,o._)(["\n  &:hover {\n    background: ",";\n  }\n"]);return ew=function(){return e},e}function eE(){var e=(0,o._)(["\n  width: 100%;\n  margin: -2px -2px -3px;\n  tr td {\n    font-size: 14px;\n  }\n"]);return eE=function(){return e},e}function e_(){var e=(0,o._)(["\n  padding: 4px;\n  margin: -4px;\n  cursor: pointer;\n  border: 0;\n  background: transparent;\n  outline: none;\n\n  "," {\n    margin: -2px -5px;\n    transform: ",";\n    opacity: 0.25;\n  }\n\n  :focus {\n    outline: none;\n\n    "," {\n      background: ",";\n      opacity: 0.5;\n    }\n  }\n"]);return e_=function(){return e},e}var eI=function(e){var n=e.hasPartitions,t=e.hasLineage,i=e.groups,r=e.focused,s=e.setFocused;return(0,l.jsxs)(ev.i,{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[n&&(0,l.jsx)("th",{style:{minWidth:100},children:"Partition"}),(0,l.jsx)("th",{style:{minWidth:150},children:"Timestamp"}),(0,l.jsx)("th",{style:{minWidth:150},children:"Job"}),(0,l.jsx)("th",{style:{width:100},children:"Run"})]})}),(0,l.jsx)("tbody",{children:i.map(function(e){return(0,l.jsxs)(m.Fragment,{children:[(0,l.jsx)(eA,{onClick:function(n){n.target instanceof HTMLElement&&n.target.closest("a")||null==s||s(r!==e?e:void 0)},children:(0,l.jsx)(ek,{group:e,hasPartitions:n,hasLineage:t,isFocused:r===e})}),r===e?(0,l.jsx)(eN,{hasLineage:t,group:e}):void 0]},e.timestamp||e.partition)})})]})},eC=function(){return(0,l.jsx)("span",{style:{color:h.w.Gray400},children:"None"})},eN=m.memo(function(e){var n=e.group,t=e.hasLineage,i=n.latest,r=n.timestamp;if(!i)return(0,l.jsx)("tr",{});var s="MaterializationEvent"===i.__typename?i.assetLineage:[],a="MaterializationEvent"===i.__typename?n.all.filter(function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(i.timestamp)}):[];return(0,l.jsx)("tr",{style:{background:h.w.Gray50},children:(0,l.jsxs)("td",{colSpan:6,style:{fontSize:14,padding:0},children:[i.description&&(0,l.jsx)(x.x,{padding:{horizontal:24,vertical:12},children:i.description}),i.metadataEntries.length||t?(0,l.jsx)(ez,{children:(0,l.jsxs)("tbody",{children:[i.metadataEntries.map(function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{style:{maxWidth:300},children:e.label}),(0,l.jsx)("td",{children:(0,l.jsx)(es.BL,{entry:e,expandSmallValues:!0})}),(0,l.jsx)("td",{style:{opacity:.7},children:e.description})]},"metadata-".concat(e.label))}),a.map(function(e){return(0,l.jsx)(m.Fragment,{children:e.metadataEntries.map(function(n){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:n.label}),(0,l.jsx)("td",{children:(0,l.jsx)(es.BL,{entry:n,expandSmallValues:!0})}),(0,l.jsxs)("td",{style:{opacity:.7},children:[(0,l.jsxs)(x.x,{flex:{gap:8,alignItems:"center"},children:[(0,l.jsx)(q.JO,{name:"observation",size:16}),(0,l.jsxs)("span",{children:["".concat(e.stepKey," in "),(0,l.jsx)(A.rU,{to:"/runs/".concat(e.runId,"?timestamp=").concat(e.timestamp),children:(0,l.jsx)($.fv,{children:(0,Y.EI)({id:e.runId})})})," (".concat(en()(Number(e.timestamp)).from(Number(r),!0)," later)")]})]}),n.description]})]},"metadata-".concat(e.timestamp,"-").concat(n.label))})},e.timestamp)}),t&&r?(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"Parent Materializations"}),(0,l.jsx)("td",{children:(0,l.jsx)(ex.i,{elements:s,timestamp:r})})]}):null]})}):(0,l.jsx)(x.x,{padding:{horizontal:24,vertical:12},children:"No materialization event metadata"})]})})}),ek=m.memo(function(e){var n=e.group,t=e.hasPartitions,i=e.hasLineage,r=e.isFocused,s=n.latest,a=n.partition,o=n.timestamp,c=n.all,d=r?{paddingLeft:4,borderLeft:"4px solid ".concat(h.w.HighlightGreen)}:{paddingLeft:8},u=(null==s?void 0:s.runOrError.__typename)==="Run"?s.runOrError:void 0,p=null==u?void 0:u.repositoryOrigin,m=p?(0,T.kQ)(p.repositoryName,p.repositoryLocationName):null,f=(0,X.Ux)(m);return s?u?(0,l.jsxs)(l.Fragment,{children:[t&&(0,l.jsx)("td",{style:(0,w._)({whiteSpace:"nowrap"},d),children:(0,l.jsxs)(J.Z,{direction:"row",spacing:2,children:[(0,l.jsx)(eO,{open:r}),a||(0,l.jsx)(eC,{})]})}),(0,l.jsx)("td",{style:t?{}:d,children:(0,l.jsxs)(J.Z,{direction:"row",spacing:4,children:[!t&&(0,l.jsx)(eO,{open:r}),(0,l.jsxs)(J.Z,{direction:"column",spacing:4,children:[(0,l.jsx)(K.E,{timestamp:{ms:Number(o)}}),(null==c?void 0:c.length)>1?(0,l.jsx)(eK,{hasPartitions:t,hasLineage:i,events:c,children:"View ".concat(c.length," events")}):"MaterializationEvent"===s.__typename?(0,l.jsxs)(x.x,{flex:{gap:8,alignItems:"center"},style:{color:h.w.Gray600},children:[(0,l.jsx)(q.JO,{name:"materialization",size:16,color:h.w.Gray600}),"Materialization"]}):(0,l.jsxs)(x.x,{flex:{gap:8,alignItems:"center"},style:{color:h.w.Gray600},children:[(0,l.jsx)(q.JO,{name:"observation",size:16,color:h.w.Gray600})," Observation"]})]})]})}),(0,l.jsx)("td",{children:!(0,j.pv)(u.pipelineName)&&(0,l.jsxs)(x.x,{margin:{bottom:4},children:[(0,l.jsx)(x.x,{padding:{left:8},children:(0,l.jsx)(Z.h,{showIcon:!0,pipelineName:u.pipelineName,pipelineHrefContext:m||"repo-unknown",snapshotId:u.pipelineSnapshotId,isJob:(0,X.E8)(f,u.pipelineName)})}),(0,l.jsxs)(J.Z,{direction:"row",padding:{left:8},spacing:8,alignItems:"center",children:[(0,l.jsx)(q.JO,{name:"linear_scale",color:h.w.Gray400}),(0,l.jsx)(A.rU,{to:(0,Y.tA)(u,s),children:s.stepKey})]})]})}),(0,l.jsx)("td",{children:(0,l.jsxs)(x.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(Q.hk,{runId:u.id,status:u.status}),(0,l.jsx)(A.rU,{to:"/runs/".concat(u.id,"?timestamp=").concat(o),children:(0,l.jsx)($.fv,{children:(0,Y.EI)(u)})})]})})]}):(0,l.jsx)("span",{}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("td",{style:{whiteSpace:"nowrap",paddingLeft:24},children:a||(0,l.jsx)(eC,{})}),(0,l.jsx)("td",{colSpan:3})]})}),eA=er.ZP.tr.withConfig({componentId:"sc-518ddee5-0"})(ew(),h.w.Gray10),ez=er.ZP.table.withConfig({componentId:"sc-518ddee5-1"})(eE()),eK=function(e){var n=e.hasLineage,t=e.hasPartitions,i=e.events,r=e.children,s=(0,_._)(m.useState(!1),2),a=s[0],o=s[1],c=(0,_._)(m.useState(),2),d=c[0],u=c[1],p=m.useMemo(function(){return i.map(function(e){return{latest:e,partition:e.partition||void 0,timestamp:e.timestamp,all:[]}})},[i]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ey.Z,{onClick:function(){return o(!0)},children:r}),(0,l.jsxs)(eb.Vq,{isOpen:a,canEscapeKeyClose:!0,canOutsideClickClose:!0,onClose:function(){return o(!1)},style:{width:"80%",minWidth:"800px"},title:function(){if(t&&i[0]){var e=i[0].partition;if(e)return"Materialization and observation events for ".concat(e)}return"Materialization and observation events"}(),children:[a&&(0,l.jsx)(x.x,{padding:{bottom:8},onClick:function(e){return e.stopPropagation()},children:(0,l.jsx)(eI,{hasLineage:n,hasPartitions:t,focused:d,setFocused:u,groups:p})}),(0,l.jsx)(eb.cN,{children:(0,l.jsx)(B.zx,{intent:"primary",onClick:function(){return o(!1)},children:"OK"})})]})]})},eO=function(e){var n=e.open,t=e.onClick;return(0,l.jsx)(eS,{onClick:t,$open:n,children:(0,l.jsx)(q.JO,{name:"arrow_drop_down",size:24})})},eS=er.ZP.button.withConfig({componentId:"sc-518ddee5-2"})(e_(),q.a1,function(e){return e.$open?"rotate(0deg)":"rotate(-90deg)"},q.a1,h.w.Dark),eP=t(1761),eR=t(957);function eM(){var e=(0,o._)(["\n  query AssetPartitionDetailQuery($assetKey: AssetKeyInput!, $partitionKey: String!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        opNames\n        staleStatus(partition: $partitionKey)\n        staleCauses(partition: $partitionKey) {\n          key {\n            path\n          }\n          reason\n          category\n          dependency {\n            path\n          }\n        }\n        latestRunForPartition(partition: $partitionKey) {\n          id\n          ...AssetPartitionLatestRunFragment\n        }\n        assetMaterializations(partitions: [$partitionKey]) {\n          ... on MaterializationEvent {\n            runId\n            ...AssetMaterializationFragment\n          }\n        }\n        assetObservations(partitions: [$partitionKey]) {\n          ... on ObservationEvent {\n            runId\n            ...AssetObservationFragment\n          }\n        }\n      }\n    }\n  }\n  fragment AssetPartitionLatestRunFragment on Run {\n    id\n    status\n    endTime\n  }\n\n  ","\n  ","\n"]);return eM=function(){return e},e}var eD=function(e){var n=(0,c.a)(eT,{variables:{assetKey:e.assetKey,partitionKey:e.partitionKey}}),t=m.useMemo(function(){var e,t;return(null===(t=n.data)||void 0===t?void 0:null===(e=t.assetNodeOrError)||void 0===e?void 0:e.__typename)!=="AssetNode"?{materializations:[],observations:[],hasLineage:!1,staleCauses:[],staleStatus:ej.D9X.FRESH,latestRunForPartition:null}:{stepKey:(0,j.Ec)(n.data.assetNodeOrError),staleStatus:n.data.assetNodeOrError.staleStatus,staleCauses:n.data.assetNodeOrError.staleCauses,latestRunForPartition:n.data.assetNodeOrError.latestRunForPartition,materializations:(0,L._)(n.data.assetNodeOrError.assetMaterializations).sort(function(e,n){return Number(n.timestamp)-Number(e.timestamp)}),observations:(0,L._)(n.data.assetNodeOrError.assetObservations).sort(function(e,n){return Number(n.timestamp)-Number(e.timestamp)}),hasLineage:n.data.assetNodeOrError.assetMaterializations.some(function(e){return e.assetLineage.length>0})}},[n.data]),i=t.materializations,r=t.observations,s=(0,eg._)(t,["materializations","observations"]),a=i[0];return n.loading||!n.data?(0,l.jsx)(eL,{partitionKey:e.partitionKey}):(0,l.jsx)(eF,(0,E._)((0,w._)({},s),{assetKey:e.assetKey,group:{latest:a||null,timestamp:null==a?void 0:a.timestamp,partition:e.partitionKey,all:(0,L._)(i).concat((0,L._)(r)).sort(function(e,n){return Number(n.timestamp)-Number(e.timestamp)})}}))},eT=(0,d.Ps)(eM(),eR.ZC,eR.T8),eF=function(e){var n,t=e.assetKey,i=e.stepKey,r=e.group,s=e.hasLineage,a=e.hasLoadingState,o=e.latestRunForPartition,c=e.staleCauses,d=e.staleStatus,u=r.latest,m=r.partition,f=r.all,g=(null==u?void 0:null===(n=u.runOrError)||void 0===n?void 0:n.__typename)==="Run"?u.runOrError:null,v=(null==o?void 0:o.id)!==(null==g?void 0:g.id)?o:null,y=(null==v?void 0:v.status)===ej.VOA.STARTED?"has started and is refreshing this partition.":(null==v?void 0:v.status)===ej.VOA.STARTING?"is starting and will refresh this partition.":(null==v?void 0:v.status)===ej.VOA.QUEUED?"is queued and is refreshing this partition.":void 0,b=null==g?void 0:g.repositoryOrigin,w=b?(0,T.kQ)(b.repositoryName,b.repositoryLocationName):null,E=(0,X.Ux)(w),_=(null==u?void 0:u.__typename)==="MaterializationEvent"?r.all.filter(function(e){return"ObservationEvent"===e.__typename&&Number(e.timestamp)>Number(u.timestamp)}):[],I=u?f.slice(f.indexOf(u)):f;return(0,l.jsxs)(x.x,{padding:{horizontal:24,bottom:24},style:{flex:1},children:[(0,l.jsxs)(x.x,{padding:{vertical:24},border:"bottom",flex:{alignItems:"center"},children:[m?(0,l.jsxs)(x.x,{flex:{gap:12,alignItems:"center"},children:[(0,l.jsx)($.X6,{children:m}),a?(0,l.jsx)(p.$,{purpose:"body-text"}):u?(0,l.jsx)(k.V,{intent:"success",children:"Materialized"}):void 0,c&&d?(0,l.jsx)(P.d9,{liveData:{staleCauses:c,staleStatus:d},assetKey:t,include:"all"}):void 0]}):(0,l.jsx)($.X6,{color:h.w.Gray400,children:"No partition selected"}),(0,l.jsx)("div",{style:{flex:1}})]}),(null==v?void 0:v.status)===ej.VOA.FAILURE&&(0,l.jsx)(eP.Z,{run:v,stepKey:i,padding:{horizontal:0,vertical:16},border:"bottom"}),v&&y&&(0,l.jsx)(N.b,{intent:"info",icon:(0,l.jsx)(p.$,{purpose:"body-text"}),title:(0,l.jsxs)("div",{style:{fontWeight:400},children:["Run ",(0,l.jsx)(A.rU,{to:"/runs/".concat(v.id),children:(0,Y.EI)(v)})," ",y]})}),(0,l.jsxs)(x.x,{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr 1fr",gap:16,minHeight:76},border:"bottom",padding:{vertical:16},children:[u?(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"MaterializationEvent"===u.__typename?"Latest materialization":"Latest observation"}),(0,l.jsxs)(x.x,{flex:{gap:4},style:{whiteSpace:"nowrap"},children:["MaterializationEvent"===u.__typename?(0,l.jsx)(q.JO,{name:"materialization"}):(0,l.jsx)(q.JO,{name:"observation"}),(0,l.jsx)(K.E,{timestamp:{ms:Number(u.timestamp)}}),I.length>0&&(0,l.jsx)(eK,{hasPartitions:!0,hasLineage:s,events:f,children:"(".concat(I.length-1," prior ").concat(I.length-1==1?"event":"events",")")})]})]}):(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"Latest materialization"}),(0,l.jsxs)(x.x,{flex:{gap:4},children:[(0,l.jsx)(q.JO,{name:"materialization"}),"None"]})]}),(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"Run"}),g&&u?(0,l.jsxs)(x.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(Q.hk,{runId:g.id,status:g.status}),(0,l.jsx)(A.rU,{to:(0,Y.tA)(g,u),children:(0,l.jsx)($.fv,{children:(0,Y.EI)(g)})})]}):"None"]}),(0,l.jsxs)(x.x,{flex:{gap:4,direction:"column"},children:[(0,l.jsx)($.pm,{children:"Job"}),u&&g&&!(0,j.pv)(g.pipelineName)?(0,l.jsxs)(x.x,{children:[(0,l.jsx)(x.x,{children:(0,l.jsx)(Z.h,{showIcon:!0,pipelineName:g.pipelineName,pipelineHrefContext:w||"repo-unknown",snapshotId:g.pipelineSnapshotId,isJob:(0,X.E8)(E,g.pipelineName)})}),(0,l.jsxs)(J.Z,{direction:"row",spacing:8,alignItems:"center",children:[(0,l.jsx)(q.JO,{name:"linear_scale",color:h.w.Gray400}),(0,l.jsx)(A.rU,{to:(0,Y.tA)(g,u),children:u.stepKey})]})]}):"None"]})]}),(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"Metadata"}),(0,l.jsx)(el,{event:u,observations:_})]}),(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"Source data"}),(0,l.jsx)(ep.EA,{timestamp:null==u?void 0:u.timestamp,assetKey:t})]}),(0,l.jsxs)(x.x,{padding:{top:24},flex:{direction:"column",gap:8},children:[(0,l.jsx)($.pm,{children:"System tags"}),(0,l.jsx)(eu.M,{event:u,collapsible:!0})]})]})},eL=function(e){var n=e.partitionKey;return(0,l.jsx)(eF,{assetKey:{path:[""]},group:{all:[],latest:null,timestamp:"0",partition:n},latestRunForPartition:null,hasLineage:!1,hasLoadingState:!0})},e$=t(53422),eV=t(19268),eW=function(e){var n=e.assetKey,t=e.assetNode,i=e.params,r=e.setParams,s=e.liveData,a=e.dataRefreshHint,o=(0,eR.fE)(n,i,{assetHasDefinedPartitions:!1}),c=o.xAxis,d=o.materializations,u=o.observations,f=o.loadedPartitionKeys,g=o.refetch,v=o.loading;m.useEffect(function(){i.asOf||g()},[i.asOf,a,g]);var y=(0,_._)((0,H.U)("asset-event-filters",function(e){return{types:(null==e?void 0:e.types)||eG}}),2),b=y[0],C=y[1],N=null==t?void 0:t.isSource,k=(0,eV.L)(c,N||b.types.includes("materialization")?d:[],N||b.types.includes("observation")?u:[],f),A=function(e){var n="time"===c?{time:(null==e?void 0:e.timestamp)!==i.time&&(null==e?void 0:e.timestamp)||""}:{partition:(null==e?void 0:e.partition)!==i.partition&&(null==e?void 0:e.partition)||""};r((0,w._)({},i,n))},z=k.find(function(e){return i.time?Number(e.timestamp)<=Number(i.time):!!i.partition&&e.partition===i.partition})||k[0],K=!(null==t?void 0:t.partitionDefinition)&&k.some(function(e){return e.partition}),O=d.some(function(e){return e.assetLineage.length>0});return(0,l.jsxs)(l.Fragment,{children:[K&&(0,l.jsxs)(x.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:"bottom",padding:{vertical:16,horizontal:24},style:{marginBottom:-1},children:[(0,l.jsx)($.pm,{children:"Asset Events"}),(0,l.jsx)("div",{style:{margin:"-6px 0 "},children:(0,l.jsx)(V.h,{activeItems:new Set([c]),buttons:[{id:"partition",label:"By partition"},{id:"time",label:"By timestamp"}],onClick:function(e){return r("time"===e?(0,E._)((0,w._)({},i),{partition:void 0,time:(null==z?void 0:z.timestamp)||""}):(0,E._)((0,w._)({},i),{partition:(null==z?void 0:z.partition)||"",time:void 0}))}})})]}),t&&!t.partitionDefinition&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eP.Z,{stepKey:(0,j.Ec)(t),border:"bottom",run:(null==s?void 0:s.runWhichFailedToMaterialize)||null}),(0,l.jsx)(e$.j,{stepKey:(0,j.Ec)(t),border:"bottom",liveData:s})]}),(0,l.jsxs)(x.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},onKeyDown:function(e){var n={ArrowDown:1,ArrowUp:-1}[e.key];if(!(!n||!z||e.isDefaultPrevented())){var t=k[k.indexOf(z)+n];t&&(e.preventDefault(),A(t))}},tabIndex:-1,children:[(0,l.jsxs)(x.x,{style:{display:"flex",flex:1,minWidth:200},flex:{direction:"column"},background:h.w.Gray50,children:[N?void 0:(0,l.jsx)(x.x,{flex:{alignItems:"center",gap:16},padding:{vertical:12,horizontal:24},border:"bottom",children:(0,l.jsx)(eU,{value:b.types,onChange:function(e){return C((0,E._)((0,w._)({},b),{types:e}))}})}),v?(0,l.jsx)(x.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,l.jsx)(p.$,{purpose:"section"})}):(0,l.jsx)(ef.cJ,{xAxis:c,groups:k,focused:z,setFocused:A})]}),(0,l.jsx)(x.x,{flex:{direction:"column"},style:{flex:3,minWidth:0,overflowY:"auto"},border:"left",children:(0,l.jsx)(I.S,{region:"event",resetErrorOnChange:[z],children:"partition"===c?z?(0,l.jsx)(eF,{group:z,hasLineage:O,assetKey:n,stepKey:t?(0,j.Ec)(t):void 0,latestRunForPartition:null}):(0,l.jsx)(eL,{}):(null==z?void 0:z.latest)?(0,l.jsx)(eh,{assetKey:n,event:z.latest}):(0,l.jsx)(em,{})})})]})]})},eG=["observation","materialization"],eU=function(e){var n=e.value,t=e.onChange,i=(0,_._)(m.useState(!1),2),r=i[0],s=i[1],a=function(e){n.includes(e)?t(n.filter(function(n){return n!==e})):t((0,L._)(n).concat([e]))};return(0,l.jsx)(W.J,{isOpen:r,placement:"bottom-start",canEscapeKeyClose:!0,onInteraction:function(e){return s(e)},content:(0,l.jsxs)(G.v2,{style:{width:140},"aria-label":"filter-options",children:[(0,l.jsx)(G.sN,{shouldDismissPopover:!1,onClick:function(){return a("materialization")},text:(0,l.jsx)(x.x,{padding:{horizontal:2},flex:{direction:"row",alignItems:"center"},children:(0,l.jsx)(U.X,{size:"small",checked:n.includes("materialization"),onChange:function(){},label:"Materialization"})})}),(0,l.jsx)(G.sN,{shouldDismissPopover:!1,onClick:function(){return a("observation")},text:(0,l.jsx)(x.x,{padding:{horizontal:2},flex:{direction:"row",alignItems:"center"},children:(0,l.jsx)(U.X,{size:"small",checked:n.includes("observation"),onChange:function(){},label:"Observation"})})})]}),children:(0,l.jsxs)(B.zx,{onClick:function(){return s(function(e){return!e})},icon:(0,l.jsx)(q.JO,{name:"filter_alt"}),rightIcon:(0,l.jsx)(q.JO,{name:"expand_more"}),children:["Type (",n.length,")"]})})},eB=t(49186),eq=t(15811),eH=t(61893),eJ=t(87610),eZ=t(32570),eQ=t(4959),eY=t(51834),eX=t(274),e0=t(44223),e1=t(8940),e2=t(50292);function e4(){var e=(0,o._)(["\n  height: 195px;\n  overflow-x: auto;\n  width: 100%;\n  white-space: nowrap;\n"]);return e4=function(){return e},e}function e8(){var e=(0,o._)(["\n  cursor: pointer;\n  width: 260px;\n  flex-shrink: 0;\n"]);return e8=function(){return e},e}var e6=function(e){var n=e.items,t=e.liveDataByNode,i=(0,f.k6)();return null===n?(0,l.jsx)(e5,{flex:{alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(p.$,{purpose:"section"})}):(0,l.jsx)(e5,{flex:{gap:4},padding:{horizontal:12},children:n.map(function(e){return(0,l.jsx)(e3,{onClick:function(n){n.stopPropagation(),i.push((0,e2.p)(e.assetKey,{view:"definition"}))},children:(0,l.jsx)(eJ.p4,{definition:e,selected:!1,liveData:t[(0,j.Wu)(e.assetKey)]})},e.id)})})},e5=(0,er.ZP)(x.x).withConfig({componentId:"sc-3a59173f-0"})(e4()),e3=er.ZP.div.withConfig({componentId:"sc-3a59173f-1"})(e8()),e7=t(59751),e9=t(73378),ne=t(4432),nn=t(53609),nt=t(74001);function ni(){var e=(0,o._)(["\n  fragment AssetNodeDefinitionFragment on AssetNode {\n    id\n    description\n    graphName\n    opNames\n    opVersion\n    jobNames\n    isSource\n    isExecutable\n    autoMaterializePolicy {\n      policyType\n      rules {\n        className\n        description\n        decisionType\n      }\n    }\n    freshnessPolicy {\n      maximumLagMinutes\n      cronSchedule\n      cronScheduleTimezone\n    }\n\n    partitionDefinition {\n      description\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    requiredResources {\n      resourceKey\n    }\n\n    ...AssetNodeConfigFragment\n    ...AssetNodeFragment\n    ...AssetNodeOpMetadataFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return ni=function(){return e},e}var nr=function(e){var n,t=e.assetNode,i=e.upstream,r=e.downstream,s=e.liveDataByNode,a=e.dependsOnSelf,o=(0,e1.U6)(t),c=o.assetMetadata,d=o.assetType,u=s[(0,j.Wu)(t.assetKey)],p=null===(n=t.configField)||void 0===n?void 0:n.configType,m=p&&"Any"!==p.key?p:null,f=(0,T.kQ)(t.repository.name,t.repository.location.name);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e0.N,{assetKey:t.assetKey,loadedFromRepo:f,padded:!0}),(0,l.jsxs)(x.x,{flex:{direction:"row"},style:{flex:1},children:[(0,l.jsxs)(x.x,{style:{flex:1,minWidth:0},flex:{direction:"column"},border:"right",children:[(0,l.jsxs)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",flex:{justifyContent:"space-between",gap:8},children:[(0,l.jsx)($.pm,{children:"Description"}),(0,l.jsx)(ns,{assetNode:t,repoAddress:f})]}),(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},style:{flex:1,flexBasis:"content",flexGrow:0,minHeight:123},children:t.description?(0,l.jsx)(eQ.d,{description:t.description,maxHeight:260}):(0,l.jsx)($.uT,{children:"No description provided"})}),t.opVersion&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"top-and-bottom",children:(0,l.jsx)($.pm,{children:"Code version"})}),(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"center"},children:(0,l.jsx)(nt.G,{children:t.opVersion})})]}),t.freshnessPolicy&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"top-and-bottom",children:(0,l.jsx)($.pm,{children:"Freshness policy"})}),(0,l.jsxs)(x.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"flex-start"},children:[(0,l.jsx)($.uT,{style:{flex:1},children:(0,ne.jY)(t.freshnessPolicy)}),(0,l.jsx)(ne.CW,{liveData:u,policy:t.freshnessPolicy,assetKey:t.assetKey})]})]}),t.autoMaterializePolicy&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"top-and-bottom",children:(0,l.jsx)($.pm,{children:"Auto-materialize policy"})}),(0,l.jsxs)(x.x,{padding:{vertical:16,horizontal:24},flex:{gap:12,alignItems:"flex-start"},children:[(0,l.jsx)($.uT,{style:{flex:1},children:(0,e7.r)(t.autoMaterializePolicy)}),(0,l.jsx)(e7.W,{policy:t.autoMaterializePolicy})]})]}),(0,l.jsxs)(x.x,{padding:{vertical:16,horizontal:24},border:"top-and-bottom",flex:{justifyContent:"space-between",gap:8},children:[(0,l.jsxs)($.pm,{children:["Upstream assets",(null==i?void 0:i.length)?" (".concat(i.length,")"):""]}),(0,l.jsx)(A.rU,{to:"?view=lineage&lineageScope=upstream",children:(0,l.jsxs)(x.x,{flex:{gap:4,alignItems:"center"},children:["View upstream graph",(0,l.jsx)(q.JO,{name:"open_in_new",color:h.w.Link})]})})]}),a&&(0,l.jsx)(e9.x,{}),(0,l.jsx)(e6,{items:i,liveDataByNode:s}),(0,l.jsxs)(x.x,{padding:{vertical:16,horizontal:24},border:"top-and-bottom",flex:{justifyContent:"space-between",gap:8},children:[(0,l.jsxs)($.pm,{children:["Downstream assets",(null==r?void 0:r.length)?" (".concat(r.length,")"):""]}),(0,l.jsx)(A.rU,{to:"?view=lineage&lineageScope=downstream",children:(0,l.jsxs)(x.x,{flex:{gap:4,alignItems:"center"},children:["View downstream graph",(0,l.jsx)(q.JO,{name:"open_in_new",color:h.w.Link})]})})]}),(0,l.jsx)(e6,{items:r,liveDataByNode:s}),(0,l.jsx)("div",{style:{flex:1}})]}),(0,l.jsxs)(x.x,{border:"left-and-right",style:{flex:.5,minWidth:0},flex:{direction:"column"},children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:(0,l.jsx)($.pm,{children:"Required resources"})}),(0,l.jsxs)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:[(0,L._)(t.requiredResources).sort(function(e,n){return eH.Bl.compare(e.resourceKey,n.resourceKey)}).map(function(e){return(0,l.jsxs)(eY.b1,{children:[(0,l.jsx)(q.JO,{name:"resource",color:h.w.Gray700}),f?(0,l.jsx)(A.rU,{to:(0,F.$U)(f,"/resources/".concat(e.resourceKey)),children:(0,l.jsx)(eY.bZ,{children:e.resourceKey})}):(0,l.jsx)(eY.bZ,{children:e.resourceKey})]},e.resourceKey)}),0===t.requiredResources.length&&(0,l.jsxs)($.uT,{children:["No required resources to display",(0,l.jsx)(x.x,{padding:{top:4},children:(0,l.jsx)("a",{href:"https://docs.dagster.io/concepts/resources#using-software-defined-assets",children:"View documentation"})})]})]})]}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:(0,l.jsx)($.pm,{children:"Config"})}),(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:m?(0,l.jsx)(eq.L,{type:m,typesInScope:m.recursiveConfigTypes}):(0,l.jsxs)($.uT,{children:["No config schema defined",(0,l.jsx)(x.x,{padding:{top:4},children:(0,l.jsx)("a",{href:"https://docs.dagster.io/concepts/assets/software-defined-assets#asset-configuration",children:"View documentation"})})]})})]}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:(0,l.jsx)($.pm,{children:"Type"})}),d&&"Any"!==d.displayName?(0,l.jsx)(eZ.Ot,{type:d}):(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},children:(0,l.jsxs)($.uT,{children:["No input and output type data defined",(0,l.jsx)(x.x,{padding:{top:4},children:(0,l.jsx)("a",{href:"https://docs.dagster.io/concepts/types#overview",children:"View documentation"})})]})})]}),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"top-and-bottom",flex:{justifyContent:"space-between",gap:8},children:(0,l.jsx)($.pm,{children:"Metadata"})}),(0,l.jsx)(x.x,{style:{flex:1},children:c.length>0?(0,l.jsx)(e1.mQ,{assetMetadata:c,repoLocation:null==f?void 0:f.location}):(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},children:(0,l.jsxs)($.uT,{children:["No asset definition metadata defined",(0,l.jsx)(x.x,{padding:{top:4},children:(0,l.jsx)("a",{href:"https://docs.dagster.io/concepts/assets/software-defined-assets#attaching-definition-metadata",children:"View documentation"})})]})})})]})]})]})]})},ns=function(e){var n=e.assetNode,t=e.repoAddress;return(0,l.jsxs)(x.x,{flex:{alignItems:"center",gap:16,wrap:"wrap"},style:{lineHeight:0},children:[n.jobNames.filter(function(e){return!(0,j.pv)(e)}).map(function(e){return(0,l.jsx)($.fv,{children:(0,l.jsx)(Z.h,{isJob:!0,showIcon:!0,pipelineName:e,pipelineHrefContext:t})},e)}),(0,l.jsx)(nn.d,{assetNode:n,repoAddress:t}),n.isSource?(0,l.jsx)($.YS,{style:{lineHeight:"16px"},children:"Source Asset"}):n.isExecutable?void 0:(0,l.jsx)($.YS,{style:{lineHeight:"16px"},children:"Non-executable Asset"})]})},na=(0,d.Ps)(ni(),eX.r,eJ.zU,e1.Ws),no=t(35838),nl=t.n(no),nc=t(24334),nd=t(78478),nu=t(713);function nx(){var e=(0,o._)(["\n  fragment AssetNodeInstigatorsFragment on AssetNode {\n    id\n    jobs {\n      id\n      name\n      schedules {\n        id\n\n        ...ScheduleSwitchFragment\n      }\n      sensors {\n        id\n\n        ...SensorSwitchFragment\n      }\n    }\n  }\n\n  ","\n  ","\n"]);return nx=function(){return e},e}var np=function(e){var n=e.assetNode,t=e.repoAddress,i=nl()(n.jobs,function(e){return e.schedules}),r=nl()(n.jobs,function(e){return e.sensors});return(0,l.jsx)(nc.I,{repoAddress:t,schedules:i,sensors:r,showSwitch:!1})},nh=(0,d.Ps)(nx(),nd.J,nu.U),nm=t(71539),nf=t(27778),ng=t(64029),nj=t(79846),nv=t(986),ny=t(19776),nb=t(55084);function nw(){var e=(0,o._)(["\n  overflow: visible;\n  border-radius: 0;\n"]);return nw=function(){return e},e}var nE="lineageGraphZoomLevel",n_=function(e){var n=e.assetKey,t=e.assetGraphData,i=e.liveDataByNode,r=e.params,s=(0,j.Wu)(n),a=(0,_._)(m.useState(null),2),o=a[0],c=a[1],d=(0,nb.oJ)(t),u=d.layout,h=d.loading,g=m.useRef(),v=(0,f.k6)(),y=function(e){v.push((0,e2.p)(e,(0,E._)((0,w._)({},r),{lineageScope:"neighbors"})))};return(m.useEffect(function(){if(g.current&&u){var e=Number((0,H.n)(nE));g.current.autocenter(!1,e),g.current.focus()}},[g,u,s]),!u||h)?(0,l.jsx)(x.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(p.$,{purpose:"page"})}):(0,l.jsx)(ny.lM,{ref:function(e){return g.current=e||void 0},interactor:ny.lM.Interactors.PanAndZoom,defaultZoom:"zoom-to-fit",graphWidth:u.width,graphHeight:u.height,onDoubleClick:function(e){var n;null===(n=g.current)||void 0===n||n.autocenter(!0),e.stopPropagation()},maxZoom:ny.eW,maxAutocenterZoom:ny.eW,children:function(e){var n=e.scale;return(0,l.jsxs)(nC,{width:u.width,height:u.height,children:[g.current&&(0,l.jsx)(nI,{scale:n}),(0,l.jsx)(nf.i,{highlighted:o,edges:u.edges}),Object.values(u.groups).sort(function(e,n){return e.id.length-n.id.length}).map(function(e){return(0,m.createElement)("foreignObject",(0,E._)((0,w._)({},e.bounds),{key:e.id}),(0,l.jsx)(nj.l,{group:e,scale:n}))}),Object.values(u.nodes).map(function(e){var r=e.id,a=e.bounds,o=t.nodes[r],d=JSON.parse(r);return(0,m.createElement)("foreignObject",(0,E._)((0,w._)({},a),{key:r,style:{overflow:"visible"},onMouseEnter:function(){return c(r)},onMouseLeave:function(){return c(null)},onClick:function(){return y({path:d})},onDoubleClick:function(e){var n;null===(n=g.current)||void 0===n||n.zoomToSVGBox(a,!0,1.2),e.stopPropagation()}}),o?n<ng.CZ?(0,l.jsx)(eJ.t$,{definition:o.definition,liveData:i[o.id],selected:o.id===s}):(0,l.jsx)(eJ.p4,{definition:o.definition,liveData:i[o.id],selected:o.id===s}):(0,l.jsx)(nv.w,{assetKey:{path:d}}))})]})}})},nI=function(e){var n=e.scale;return m.useEffect(function(){try{window.localStorage.setItem(nE,JSON.stringify(n))}catch(e){}},[n]),(0,l.jsx)(l.Fragment,{})},nC=er.ZP.svg.withConfig({componentId:"sc-eb5dd628-0"})(nw()),nN=t(19229);function nk(){var e=(0,o._)(["\n  background: ",";\n  border-radius: 8px;\n  color: ",";\n  align-items: center;\n  display: flex;\n  padding: 4px 8px;\n  gap: 4px;\n  position: absolute;\n  right: 12px;\n  top: 70px;\n  z-index: 2;\n"]);return nk=function(){return e},e}var nA=function(e){var n=e.params,t=e.setParams,i=e.assetKey,r=e.liveDataByNode,s=e.assetGraphData,a=e.graphQueryItems,o=e.requestedDepth,c=m.useMemo(function(){return(0,O.BK)(a,i)},[a,i]),d="upstream"===n.lineageScope?c.upstream:"downstream"===n.lineageScope?c.downstream:Math.max(c.upstream,c.downstream),u=Math.max(1,Math.min(d,o));return(0,l.jsxs)(x.x,{style:{width:"100%",flex:1,minHeight:0,position:"relative"},flex:{direction:"column"},children:[(0,l.jsxs)(x.x,{flex:{justifyContent:"space-between",alignItems:"center",gap:12},padding:{left:24,right:12,vertical:12},border:"bottom",children:[(0,l.jsx)(V.h,{activeItems:new Set([n.lineageScope||"neighbors"]),buttons:[{id:"neighbors",label:"Nearest Neighbors",icon:"graph_neighbors"},{id:"upstream",label:"Upstream",icon:"graph_upstream"},{id:"downstream",label:"Downstream",icon:"graph_downstream"}],onClick:function(e){return t((0,E._)((0,w._)({},n),{lineageScope:e,lineageDepth:void 0}))}}),(0,l.jsx)(nK,{value:u,onChange:function(e){return t((0,E._)((0,w._)({},n),{lineageDepth:e}))},max:d}),(0,l.jsx)("div",{style:{flex:1}}),Object.values(s.nodes).length>1?(0,l.jsx)(nN.XE,{intent:"none",liveDataForStale:r,scope:{all:Object.values(s.nodes).map(function(e){return e.definition})}}):(0,l.jsx)(B.zx,{icon:(0,l.jsx)(q.JO,{name:"materialization"}),disabled:!0,children:"Materialize all"})]}),u<d&&(0,l.jsx)(nz,{children:"Not all upstream/downstream assets shown. Increase the depth to show more."}),(0,l.jsx)(n_,{assetKey:i,liveDataByNode:r,assetGraphData:s,params:n})]})},nz=er.ZP.div.withConfig({componentId:"sc-d059b4b1-0"})(nk(),h.w.Gray100,h.w.Gray500),nK=function(e){var n=e.value,t=e.max,i=e.onChange,r=(0,_._)(m.useState("".concat(n)),2),s=r[0],a=r[1];m.useEffect(function(){a("".concat(n))},[n]);var o=function(){i(Number(s)?Math.min(t,Number(s)):n)};return(0,l.jsxs)(x.x,{flex:{gap:8,alignItems:"center"},children:["Graph depth",(0,l.jsxs)(B.zH,{children:[(0,l.jsx)(B.zx,{disabled:n<=1,onClick:function(){return i(n-1)},icon:(0,l.jsx)(q.JO,{name:"subtract"})}),(0,l.jsx)(nm.oi,{min:1,max:t,disabled:t<=1,inputMode:"numeric",style:{width:40,marginLeft:-1,textAlign:"center",height:32,padding:6,borderRadius:0,boxShadow:"none",border:"1px solid ".concat(h.w.Gray300)},value:s,onChange:function(e){return a(e.target.value)},onKeyDown:function(e){return"Enter"===e.key||"Return"===e.key?o():void 0},onBlur:function(){return o()}},n),(0,l.jsx)(B.zx,{disabled:n>=t,onClick:function(){return i(n+1)},icon:(0,l.jsx)(q.JO,{name:"add"})}),(0,l.jsx)(B.zx,{disabled:n>=t,onClick:function(){return i(t)},children:"All"})]})]})},nO=t(42971),nS=t(18149),nP=t.n(nS),nR=t(75652),nM=t.n(nR),nD=t(4451),nT=t(14258),nF=t(1176),nL=t(31810),n$=t(95580),nV=function(e){var n=e.counts,t=e.value,i=e.onChange,r=e.allowed,s=e.disabled;return(0,l.jsx)(x.x,{flex:{direction:"row",alignItems:"center",gap:12},style:{overflow:"hidden"},children:r.map(function(e){return(0,l.jsx)(U.X,{"data-testid":(0,nF.N)("partition-status-".concat(e,"-checkbox")),disabled:s,style:{marginBottom:0,marginLeft:10,minWidth:200},checked:t.includes(e)&&!s,label:"".concat((0,n$.be)(e)," (").concat(n[e],")"),onChange:function(){return i(t.includes(e)?t.filter(function(n){return n!==e}):(0,L._)(t).concat([e]))}},e)})})},nW=t(97107),nG=t(32237),nU=t(64013),nB=[n$.yo.MISSING,n$.yo.MATERIALIZING,n$.yo.MATERIALIZED,n$.yo.FAILED].sort();(i=s||(s={}))[i.CREATION=0]="CREATION",i[i.REVERSE_CREATION=1]="REVERSE_CREATION",i[i.ALPHABETICAL=2]="ALPHABETICAL",i[i.REVERSE_ALPHABETICAL=3]="REVERSE_ALPHABETICAL";var nq=function(e){var n,t,i,r,a,o,c=e.assetKey,d=e.assetPartitionDimensions,u=e.params,f=e.setParams,g=e.dataRefreshHint,j=(0,nU.mR)([c],g)[0],v=(0,_._)((0,nG.q)({knownDimensionNames:d,modifyQueryString:!0,assetHealth:j,shouldReadPartitionQueryStringParam:!1}),2),y=v[0],b=v[1],I=(0,_._)(m.useState([]),2),C=I[0],N=I[1],k=(0,_._)((0,M.q)({defaults:{status:(0,L._)(nB).sort().join(",")},encode:function(e){return{status:(0,L._)(e).sort().join(",")}},decode:function(e){return(e.status||"").split(",").filter(function(e){return nB.includes(e)})}}),2),A=k[0],z=k[1],K=y.findIndex(function(e){return(0,nW.nv)(e.dimension)}),O=(0,_._)((t=(n={params:u,setParams:f,dimensionCount:y.length,defaultKeyInDimension:function(e){return D(e)[0]}}).params,i=n.setParams,r=n.dimensionCount,a=n.defaultKeyInDimension,[o=m.useMemo(function(){return t.partition?r>1?t.partition.split("|").filter(Boolean):[t.partition]:[]},[r,t.partition]),function(e,n){for(var r=[],s=0;s<e;s++)r.push(o[s]||a(s));n&&r.push(n),i((0,E._)((0,w._)({},t),{partition:r.join("|")}))}]),2),S=O[0],P=O[1],R=m.useMemo(function(){return j?y.map(function(e,n){return j.rangesForSingleDimension(n,1===n&&S[0]?[(0,nU.mC)(S[0],y[0].dimension)]:-1!==K&&n!==K?y[K].selectedRanges:void 0)}):y.map(function(){return[]})},[j,y,K,S]),D=function(e){if(!y[e]||-1!==K&&0===y[K].selectedRanges.length)return[];var n,t,i=y[e],r=i.dimension,s=i.selectedRanges,a=r.partitionKeys,o=nZ(C,e,y[e].dimension.type),l=function(){return nM()(s.flatMap(function(e){var n=e.start,t=e.end;return a.slice(n.idx,t.idx+1)}))};if(nP()(nB,A))return nJ(l(),o);var c=(0,nU.tP)(R[e],s),d=nM()((n=A.filter(function(e){return e!==n$.yo.MISSING}),c.flatMap(function(e){return n.some(function(n){return e.value.includes(n)})?a.slice(e.start.idx,e.end.idx+1):[]})));if(A.includes(n$.yo.MISSING)){var u=l();t=a.filter(function(e,n){return u.includes(e)&&(d.includes(e)||!c.some(function(e){return e.start.idx<=n&&e.end.idx>=n&&!e.value.includes(n$.yo.MISSING)}))})}else t=d;return nJ(t,o)},T=(0,nU.CA)(j,y),F=A.reduce(function(e,n){return e+T[n]},0);return(0,l.jsxs)(l.Fragment,{children:[-1!==K&&(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:(0,l.jsx)(nT.x,{partitionKeys:y[K].dimension.partitionKeys,health:{ranges:R[K]},selected:y[K].selectedKeys,setSelected:function(e){return b(y.map(function(n,t){return t===K?(0,E._)((0,w._)({},n),{selectedKeys:e}):n}))},dimensionType:y[K].dimension.type})}),(0,l.jsxs)(x.x,{padding:{vertical:16,horizontal:24},flex:{direction:"row",justifyContent:"space-between"},border:"bottom",children:[(0,l.jsxs)("div",{"data-testid":(0,nF.N)("partitions-selected"),children:[F.toLocaleString()," Partitions Selected"]}),(0,l.jsx)(nV,{counts:T,allowed:nB,value:A,onChange:z})]}),(0,l.jsxs)(x.x,{style:{flex:1,minHeight:0,outline:"none"},flex:{direction:"row"},tabIndex:-1,children:[y.map(function(e,n){var t=nZ(C,n,e.dimension.type);return(0,l.jsxs)(x.x,{style:{display:"flex",flex:1,paddingRight:1,minWidth:200},flex:{direction:"column"},border:"right",background:h.w.Gray50,"data-testid":(0,nF.N)("partitions-".concat(e.dimension.name)),children:[(0,l.jsxs)(x.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},background:h.w.White,border:"bottom",padding:{horizontal:24,vertical:8},children:[(0,l.jsx)("div",{children:"default"!==e.dimension.name&&(0,l.jsxs)(x.x,{flex:{gap:8,alignItems:"center"},children:[(0,l.jsx)(q.JO,{name:"partition"}),(0,l.jsx)($.pm,{children:e.dimension.name})]})}),(0,l.jsx)(W.J,{content:(0,l.jsxs)(G.v2,{children:[(0,l.jsx)(G.sN,{text:(0,l.jsx)(nO.u,{content:"The order in which partitions were created",children:(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,l.jsx)("span",{children:"Creation sort"}),(0,l.jsx)(q.JO,{name:"info"})]})}),active:s.CREATION===t,onClick:function(){N(function(e){var t=(0,L._)(e);return t[n]=s.CREATION,t})},"data-testId":(0,nF.N)("sort-creation")}),(0,l.jsx)(G.sN,{text:(0,l.jsx)(nO.u,{content:"The order in which partitions were created, reversed",children:(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,l.jsx)("span",{children:"Reverse creation sort"}),(0,l.jsx)(q.JO,{name:"info"})]})}),active:s.REVERSE_CREATION===t,onClick:function(){N(function(e){var t=(0,L._)(e);return t[n]=s.REVERSE_CREATION,t})},"data-testId":(0,nF.N)("sort-reverse-creation")}),(0,l.jsx)(G.sN,{text:"Alphabetical sort",active:s.ALPHABETICAL===t,onClick:function(){N(function(e){var t=(0,L._)(e);return t[n]=s.ALPHABETICAL,t})},"data-testId":(0,nF.N)("sort-alphabetical")}),(0,l.jsx)(G.sN,{text:"Reverse alphabetical sort",active:s.REVERSE_ALPHABETICAL===t,onClick:function(){N(function(e){var t=(0,L._)(e);return t[n]=s.REVERSE_ALPHABETICAL,(0,L._)(t)})},"data-testId":(0,nF.N)("sort-reverse-alphabetical")})]}),position:"bottom-left",children:(0,l.jsx)(nD.Kz,{style:{marginRight:"-16px"},"data-testid":"sort-".concat(n),children:(0,l.jsx)(q.JO,{name:"sort_by_alpha",color:h.w.Gray400})})})]}),j?(0,l.jsx)(nL.k,{partitions:D(n),statusForPartition:function(t){if(1===n&&S[0])return[j.stateForKey([S[0],t])];var i=e.dimension.partitionKeys.indexOf(t);return(0,nU.h1)(R[n],i).filter(function(e){return A.includes(e)})},focusedDimensionKey:S[n],setFocusedDimensionKey:function(e){P(n,e)}}):(0,l.jsx)(x.x,{flex:{alignItems:"center",justifyContent:"center"},style:{flex:1},children:(0,l.jsx)(p.$,{purpose:"section"})})]},e.dimension.name)}),(0,l.jsx)(x.x,{style:{flex:3,minWidth:0,overflowY:"auto"},flex:{direction:"column"},children:u.partition&&S.length===y.length?(0,l.jsx)(eD,{assetKey:c,partitionKey:u.partition}):(0,l.jsx)(eL,{})})]})]})},nH=new Intl.Collator(navigator.language,{sensitivity:"base"});function nJ(e,n){switch(n){case s.CREATION:return e;case s.REVERSE_CREATION:return(0,L._)(e).reverse();case s.ALPHABETICAL:return(0,L._)(e).sort(nH.compare);case s.REVERSE_ALPHABETICAL:return(0,L._)(e).sort(function(e,n){return-nH.compare(e,n)})}}function nZ(e,n,t){return void 0===e[n]?t===ej.iVC.TIME_WINDOW?s.REVERSE_CREATION:s.CREATION:e[n]}var nQ=t(27590),nY=function(e){var n=e.assetKey,t=e.assetHasDefinedPartitions,i=e.params,r=e.setParams,s=(0,eR.fE)(n,i,{assetHasDefinedPartitions:t}),a=s.materializations,o=s.observations,c=s.loadedPartitionKeys,d=s.loading,u=s.xAxis,h=(0,eV.L)(u,a,o,c),f=m.useMemo(function(){return new Set([u])},[u]);return d?(0,l.jsxs)(x.x,{children:[(0,l.jsx)(x.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:"bottom",padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:(0,l.jsx)($.pm,{children:"Asset plots"})}),(0,l.jsx)(x.x,{padding:{vertical:48},children:(0,l.jsx)(p.$,{purpose:"page"})})]}):(0,l.jsxs)(x.x,{children:[(0,l.jsxs)(x.x,{flex:{justifyContent:"space-between",alignItems:"center"},border:"bottom",padding:{vertical:16,left:24,right:12},style:{marginBottom:-1},children:[(0,l.jsx)($.pm,{children:"Asset plots"}),t?(0,l.jsx)("div",{style:{margin:"-6px 0 "},children:(0,l.jsx)(V.h,{activeItems:f,buttons:[{id:"partition",label:"Partitions",icon:"partition"},{id:"time",label:"Events",icon:"materialization"}],onClick:function(e){return r("time"===e?(0,E._)((0,w._)({},i),{partition:void 0,time:""}):(0,E._)((0,w._)({},i),{partition:"",time:void 0}))}})}):null]}),(0,l.jsx)(nQ.l,{xAxis:u,groups:h})]})},nX=t(35017),n0=t(16231),n1=t(51269),n2=t(30082),n4=t(13133),n8=m.memo(function(e){var n=e.numRequested,t=e.numSkipped,i=e.numDiscarded,r=e.isPartitionedAsset,s=e.selected,a=[n||r?(0,l.jsx)($.YS,{color:s?h.w.Blue700:n?h.w.Green700:h.w.Gray700,children:r?"".concat((0,n4.J)(n)," launched"):"Launched"},"requested"):null,t||r?(0,l.jsx)($.YS,{color:s?h.w.Blue700:t?h.w.Yellow700:h.w.Gray700,children:r?"".concat((0,n4.J)(t)," skipped"):"Skipped"},"skipped"):null,i||r?(0,l.jsx)($.YS,{color:s?h.w.Blue700:i?h.w.Red700:h.w.Gray700,children:r?"".concat((0,n4.J)(i)," discarded"):"Discarded"},"discarded"):null].filter(function(e){return!!e});return(0,l.jsx)(x.x,{flex:{direction:"row",gap:2,alignItems:"center"},style:{whiteSpace:"nowrap"},children:a.map(function(e,n){return[e,(0,l.jsx)($.YS,{color:s?h.w.Blue200:h.w.Gray200,children:"/"},"spacer-".concat(n))]}).flat().slice(0,-1)})});function n6(){var e=(0,o._)(["\n  position: sticky;\n  bottom: 0;\n  background: ",";\n  border-right: 1px solid ",";\n  box-shadow: inset 0 1px ",";\n  margin-top: -1px;\n  padding-bottom: 16px;\n  padding-top: 16px;\n  > * {\n    margin-top: 0;\n  }\n"]);return n6=function(){return e},e}function n5(){var e=(0,o._)(["\n  background-color: ",";\n  border: none;\n  border-radius: 8px;\n  color: ",";\n  cursor: pointer;\n  margin: 2px 0;\n  text-align: left;\n  transition:\n    100ms background-color linear,\n    100ms color linear;\n  user-select: none;\n\n  &:hover {\n    background-color: ",";\n  }\n\n  &:focus,\n  &:active {\n    outline: none;\n  }\n\n  padding: 8px 12px;\n"]);return n5=function(){return e},e}var n3=function(e){var n=e.assetHasDefinedPartitions,t=e.evaluations,i=e.evaluationsIncludingEmpty,r=e.paginationProps,s=e.onSelectEvaluation,a=e.selectedEvaluation;return(0,l.jsxs)(x.x,{flex:{direction:"column",grow:1},style:{overflowY:"auto"},children:[(0,l.jsx)(n7,{assetHasDefinedPartitions:n,evaluationsIncludingEmpty:i,onSelectEvaluation:s,selectedEvaluation:a}),t.length?(0,l.jsx)(n9,{children:(0,l.jsx)(n1.b$,(0,w._)({},r))}):null]})},n7=function(e){var n=e.assetHasDefinedPartitions,t=e.evaluationsIncludingEmpty,i=e.onSelectEvaluation,r=e.selectedEvaluation;return(0,l.jsxs)(x.x,{padding:{vertical:8,horizontal:12},style:{flex:1,minHeight:0,overflowY:"auto"},flex:{grow:1,direction:"column"},children:[t.map(function(e){var t=(null==r?void 0:r.evaluationId)===e.evaluationId;if("no_conditions_met"===e.__typename)return(0,l.jsx)(te,{onClick:function(){i(e)},$selected:t,children:(0,l.jsxs)(x.x,{flex:{direction:"column",gap:4},style:{width:"100%"},children:[(0,l.jsx)("div",{children:e.startTimestamp?1===e.amount?"1 evaluation":"".concat((0,n4.J)(e.amount)," evaluations"):(0,l.jsx)(l.Fragment,{children:"now"===e.endTimestamp?"Before now":(0,l.jsxs)(l.Fragment,{children:["Before ",(0,l.jsx)(n2.v,{timestamp:e.endTimestamp})]})})}),(0,l.jsx)($.YS,{color:t?h.w.Blue700:h.w.Gray700,children:"No conditions met"})]})},"skip-".concat(e.evaluationId));var s=e.numRequested,a=e.numSkipped,o=e.numDiscarded;return(0,l.jsx)(te,{onClick:function(){i(e)},$selected:t,children:(0,l.jsxs)(x.x,{flex:{direction:"column",gap:4},children:[(0,l.jsx)(n2.v,{timestamp:e.timestamp}),(0,l.jsx)(n8,{numRequested:s,numSkipped:a,numDiscarded:o,isPartitionedAsset:n,selected:t})]})},"skip-".concat(e.timestamp))}),(0,l.jsx)(x.x,{border:"top",padding:{vertical:20,horizontal:12},margin:{top:12},children:(0,l.jsx)($.YS,{children:"Evaluations are retained for 30 days"})})]})},n9=er.ZP.div.withConfig({componentId:"sc-88ad4b4e-0"})(n6(),h.w.White,h.w.KeylineGray,h.w.KeylineGray),te=er.ZP.button.withConfig({componentId:"sc-88ad4b4e-1"})(n5(),function(e){return e.$selected?h.w.Blue50:h.w.White},function(e){return e.$selected?h.w.Blue700:h.w.Dark},function(e){return e.$selected?h.w.Blue50:h.w.Gray10}),tn=t(14590),tt=t(68577),ti=t(8848),tr=t(87905),ts=t(50743),ta=t(29545),to=t(4250);function tl(){var e=(0,o._)(["\n  query RunStatusAndPartitionKey($filter: RunsFilter) {\n    runsOrError(filter: $filter) {\n      ... on Runs {\n        results {\n          id\n          ...RunStatusAndTagsFragment\n        }\n      }\n      ... on InvalidPipelineRunsFilterError {\n        message\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  fragment RunStatusAndTagsFragment on Run {\n    id\n    status\n    tags {\n      key\n      value\n    }\n  }\n\n  ","\n"]);return tl=function(){return e},e}function tc(){var e=(0,o._)(["\n  :focus {\n    outline: none;\n  }\n"]);return tc=function(){return e},e}var td=function(e){var n=e.runIds,t=e.partitionKeys,i=e.intent,r=(0,_._)(m.useState(!1),2),s=r[0],a=r[1],o=(0,_._)(m.useState(""),2),c=o[0],d=o[1],u=c.toLocaleLowerCase(),p=t.length,h=m.useMemo(function(){return""===u?t:t.filter(function(e){return e.toLocaleLowerCase().includes(u)})},[t,u]),f=m.useMemo(function(){return n?1===p?"1 partition launched":"".concat(p," partitions launched"):1===p?"1 partition":"".concat(p," partitions")},[p,n]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(k.V,{intent:i,children:f}),(0,l.jsx)(ey.Z,{onClick:function(){return a(!0)},children:(0,l.jsx)($.YS,{children:"View details"})})]}),(0,l.jsxs)(eb.Vq,{isOpen:s,onClose:function(){return a(!1)},style:{width:"750px",maxWidth:"80vw",minWidth:"500px"},canOutsideClickClose:!0,canEscapeKeyClose:!0,children:[(0,l.jsxs)(x.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},border:"bottom",children:[(0,l.jsx)("div",{style:{fontSize:"16px"},children:1===p?"1 partition":"".concat(p," partitions")}),p>0?(0,l.jsx)(nm.oi,{icon:"search",value:c,onChange:function(e){return d(e.target.value)},placeholder:"Filter by partition…",style:{width:"252px"}}):null]}),(0,l.jsx)("div",{style:{height:"272px",overflow:"hidden"},children:c&&!h.length?(0,l.jsx)(tx,{queryString:c}):n?(0,l.jsx)(tu,{runIds:n,partitionKeys:h,intent:i}):(0,l.jsx)(tp,{partitionKeys:t})}),(0,l.jsx)(eb.cN,{topBorder:!0,children:(0,l.jsx)(B.zx,{onClick:function(){return a(!1)},children:"Close"})})]})]})},tu=function(e){var n=e.runIds,t=e.partitionKeys,i=(0,c.a)(th,{variables:{filter:{runIds:n}}}),r=i.data,s=i.loading,a=null==r?void 0:r.runsOrError;if(!a)return s?(0,l.jsxs)(x.x,{padding:32,flex:{direction:"row",justifyContent:"center",gap:12,alignItems:"center"},children:[(0,l.jsx)(p.$,{purpose:"body-text"}),(0,l.jsx)("div",{children:"Loading partitions and runs…"})]}):(0,l.jsx)(x.x,{padding:32,children:(0,l.jsx)(C.t,{icon:"error",title:"Unexpected error",description:"An unexpected error occurred"})});if("PythonError"===a.__typename)return(0,l.jsx)(x.x,{padding:32,children:(0,l.jsx)(C.t,{icon:"error",title:"Python error",description:(0,l.jsx)(B.zx,{onClick:function(){(0,ti._)({title:"Python error",body:(0,l.jsx)(tn.T9,{error:a})})},children:"View error"})})});if("InvalidPipelineRunsFilterError"===a.__typename||!a.results.length)return(0,l.jsx)(x.x,{padding:32,children:(0,l.jsx)(C.t,{icon:"error",title:"Runs not found",description:"No runs found for these partitions"})});var o=Object.fromEntries(a.results.map(function(e){var n=e.tags.find(function(e){return e.key===ta.H.Partition});return n?[n.value,e]:null}).filter(function(e){return!!e}));return(0,l.jsx)(tp,{partitionKeys:t,runsByPartitionKey:o})},tx=function(e){var n=e.queryString;return(0,l.jsx)(x.x,{padding:32,children:(0,l.jsx)(C.t,{icon:"search",title:"No matching partitions",description:(0,l.jsxs)(l.Fragment,{children:["No matching partitions for ",(0,l.jsx)("strong",{children:n})]})})})},tp=function(e){var n=e.partitionKeys,t=e.runsByPartitionKey,i=m.useRef(null),r=(0,tt.useVirtualizer)({count:n.length,getScrollElement:function(){return i.current},estimateSize:function(){return 40},overscan:10}),s=r.getTotalSize(),a=r.getVirtualItems(),o=!!t;return(0,l.jsx)(to.W2,{ref:i,style:{padding:"8px 24px"},children:(0,l.jsx)(to.Nh,{$totalHeight:s,children:a.map(function(e){var i=e.index,r=e.key,s=e.size,a=e.start,c=n[i],d=t?t[c]:null;return(0,l.jsx)(to.X2,{$height:s,$start:a,children:(0,l.jsxs)(x.x,{style:{height:"100%"},flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},border:i<n.length-1?"bottom":null,children:[(0,l.jsx)("div",{children:n[i]}),o?(0,l.jsx)("div",{children:d?(0,l.jsx)(tm,{to:"/runs/".concat(d.id),children:(0,l.jsx)(ts.Zr,{runId:d.id,status:d.status})}):(0,l.jsx)(k.V,{children:"Run not found"})}):null]})},r)})})})},th=(0,d.Ps)(tl(),tr.B),tm=(0,er.ZP)(A.rU).withConfig({componentId:"sc-878e49dd-0"})(tc());function tf(){var e=(0,o._)(["\n  query RunStatusOnlyQuery($runId: ID!) {\n    runOrError(runId: $runId) {\n      ... on Run {\n        id\n        status\n      }\n    }\n  }\n"]);return tf=function(){return e},e}var tg=function(e){var n=e.runId,t=(0,c.a)(tj,{variables:{runId:n}}),i=t.data;if(t.loading&&!i)return(0,l.jsx)(k.V,{icon:"spinner",children:"Loading"});var r=null==i?void 0:i.runOrError;return(null==r?void 0:r.__typename)!=="Run"?(0,l.jsx)(k.V,{icon:"error",intent:"danger",children:"Run not found"}):(0,l.jsx)(A.rU,{to:"/runs/".concat(n),children:(0,l.jsx)(ts.Zr,{runId:n,status:r.status})})},tj=(0,d.Ps)(tf());function tv(){var e=(0,o._)(["\n  query GetEvaluationsQuery($assetKey: AssetKeyInput!, $limit: Int!, $cursor: String) {\n    assetNodeOrError(assetKey: $assetKey) {\n      __typename\n      ... on AssetNode {\n        id\n        autoMaterializePolicy {\n          rules {\n            description\n            decisionType\n            className\n          }\n        }\n      }\n    }\n\n    autoMaterializeAssetEvaluationsOrError(assetKey: $assetKey, limit: $limit, cursor: $cursor) {\n      ... on AutoMaterializeAssetEvaluationRecords {\n        currentEvaluationId\n        records {\n          id\n          ...AutoMaterializeEvaluationRecordItem\n        }\n      }\n      ... on AutoMaterializeAssetEvaluationNeedsMigrationError {\n        message\n      }\n    }\n  }\n\n  fragment AutoMaterializeEvaluationRecordItem on AutoMaterializeAssetEvaluationRecord {\n    id\n    evaluationId\n    numRequested\n    numSkipped\n    numDiscarded\n    timestamp\n    runIds\n    rulesWithRuleEvaluations {\n      ...RuleWithEvaluationsFragment\n    }\n    rules {\n      description\n      decisionType\n      className\n    }\n  }\n\n  fragment RuleWithEvaluationsFragment on AutoMaterializeRuleWithRuleEvaluations {\n    rule {\n      description\n      decisionType\n      className\n    }\n    ruleEvaluations {\n      evaluationData {\n        ... on TextRuleEvaluationData {\n          text\n        }\n        ... on ParentMaterializedRuleEvaluationData {\n          updatedAssetKeys {\n            path\n          }\n          willUpdateAssetKeys {\n            path\n          }\n        }\n        ... on WaitingOnKeysRuleEvaluationData {\n          waitingOnAssetKeys {\n            path\n          }\n        }\n      }\n      partitionKeysOrError {\n        ... on PartitionKeys {\n          partitionKeys\n        }\n        ... on Error {\n          message\n        }\n      }\n    }\n  }\n"]);return tv=function(){return e},e}var ty=(0,d.Ps)(tv()),tb=t(3440),tw=t.n(tb);function tE(){var e=(0,o._)(["\n  background-color: ",";\n  border: 0;\n  cursor: pointer;\n  padding: 0;\n  margin: 0;\n\n  :focus {\n    outline: none;\n  }\n"]);return tE=function(){return e},e}var t_=function(e){var n=e.header,t=e.details,i=e.headerRightSide,r=e.children;return(0,l.jsx)(tI,{header:(0,l.jsxs)(x.x,{flex:{justifyContent:"space-between",gap:12,grow:1},children:[(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:4,grow:1},children:[(0,l.jsx)($.pm,{children:n}),t?(0,l.jsx)(nO.u,{content:t,placement:"top",children:(0,l.jsx)(q.JO,{color:h.w.Gray500,name:"info"})}):null]}),i]}),children:(0,l.jsx)(x.x,{padding:{vertical:12,left:32,right:16},children:r})})},tI=function(e){var n=e.header,t=e.children,i=(0,_._)(m.useState(!1),2),r=i[0],s=i[1];return(0,l.jsxs)(x.x,{flex:{direction:"column"},border:"bottom",children:[(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center"},padding:{vertical:8,horizontal:16},border:"bottom",children:[(0,l.jsx)(q.JO,{name:"arrow_drop_down",style:{transform:r?"rotate(-90deg)":"rotate(0deg)"}}),(0,l.jsx)(tC,{onClick:function(){return s(!r)},children:n})]}),r?null:t]})},tC=er.ZP.button.withConfig({componentId:"sc-b64047dc-0"})(tE(),h.w.White),tN=t(89247),tk=t(93457),tA=function(e){var n=e.isOpen,t=e.setIsOpen,i=e.header,r=e.content;return(0,l.jsxs)(eb.Vq,{isOpen:n,onClose:function(){return t(!1)},style:{width:"750px",maxWidth:"80vw",minWidth:"500px"},canOutsideClickClose:!0,canEscapeKeyClose:!0,children:[i,(0,l.jsx)("div",{style:{height:"272px",overflow:"hidden"},children:r}),(0,l.jsx)(eb.cN,{topBorder:!0,children:(0,l.jsx)(B.zx,{onClick:function(){return t(!1)},children:"Close"})})]})},tz=function(e){var n=e.title,t=e.showSearch,i=e.placeholder,r=e.queryString,s=e.setQueryString;return(0,l.jsxs)(x.x,{padding:{horizontal:24,vertical:16},flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},border:"bottom",children:[(0,l.jsx)("div",{style:{fontSize:"16px"},children:n}),t?(0,l.jsx)(nm.oi,{icon:"search",value:r,onChange:function(e){return s(e.target.value)},placeholder:i,style:{width:"252px"}}):null]})},tK=function(e){var n=e.title,t=e.description;return(0,l.jsx)(x.x,{padding:32,children:(0,l.jsx)(C.t,{icon:"search",title:n,description:t})})};(r=a||(a={}))[r.Updated=0]="Updated",r[r.WillUpdate=1]="WillUpdate";var tO=function(e){switch(e){case a.Updated:return"Updated";case a.WillUpdate:return"Will update"}},tS=function(e,n){var t=n.toLocaleLowerCase();return m.useMemo(function(){return""===t?e:e.filter(function(e){return e.path.some(function(e){return e.toLowerCase().includes(t)})}).sort(j._v)},[e,t])},tP=function(e,n){var t=n.toLocaleLowerCase();return m.useMemo(function(){return""===t?e:e.filter(function(e){return e.toLowerCase().includes(t)})},[e,t])},tR=function(e){var n=e.updatedAssetKeys,t=e.willUpdateAssetKeys,i=(0,_._)(m.useState(!1),2),r=i[0],s=i[1],o=(0,_._)(m.useState(""),2),c=o[0],d=o[1],u=n.length+t.length,p=tS(n,c),h=tS(t,c),f=p.length+h.length,g=m.useMemo(function(){return(0,L._)(p.sort(j._v).map(function(e){return{assetKey:e,detailType:a.Updated}})).concat((0,L._)(h.sort(j._v).map(function(e){return{assetKey:e,detailType:a.WillUpdate}})))},[p,h]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ey.Z,{onClick:function(){return s(!0)},children:1===u?"1 parent updated":"".concat(u," parents updated")}),(0,l.jsx)(tA,{isOpen:r,setIsOpen:s,header:(0,l.jsx)(tz,{title:1===u?"1 asset":"".concat(u," assets"),showSearch:u>0,placeholder:"Filter by asset key…",queryString:c,setQueryString:d}),content:c&&!f?(0,l.jsx)(tK,{title:"No matching asset keys",description:(0,l.jsxs)(l.Fragment,{children:["No matching asset keys for ",(0,l.jsx)("strong",{children:c})]})}):(0,l.jsx)(tN.Y,{items:g,renderItem:function(e){return(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,l.jsx)(tk.R,{path:e.assetKey.path,icon:"asset"}),(0,l.jsxs)("span",{children:["(",tO(e.detailType),")"]})]})}})})]})};function tM(){var e=(0,o._)(["\n  background-color: transparent;\n  cursor: pointer;\n  padding: 0;\n  border: 0;\n  display: flex;\n  height: 100%;\n  width: 100%;\n  flex-direction: row;\n  align-items: center;\n  gap: 8px;\n\n  :focus {\n    outline: none;\n  }\n"]);return tM=function(){return e},e}function tD(e){var n=e.assetKeysByPartition,t=e.renderPartitionDetail,i=e.renderItem,r=(0,_._)(m.useState(function(){return new Set([])}),2),s=r[0],a=r[1],o=m.useRef(null),c=m.useMemo(function(){var e=[];return Object.keys(n).sort(function(e,n){return eH.Bl.compare(e,n)}).forEach(function(t){var i=n[t],r=s.has(t);if(e.push({type:"partition-name",partitionName:t,expanded:r,assetCount:i.length}),r){var a=i.map(function(e){return{type:"asset-key",assetKey:e}});e.push.apply(e,(0,L._)(a))}}),e},[n,s]),d=(0,tt.useVirtualizer)({count:c.length,getScrollElement:function(){return o.current},estimateSize:function(){return 40},overscan:10}),u=m.useCallback(function(e){a(function(n){var t=new Set(Array.from(n));return n.has(e)?t.delete(e):t.add(e),t})},[]),p=d.getTotalSize(),h=d.getVirtualItems();return(0,l.jsx)(to.W2,{ref:o,style:{padding:"8px 24px"},children:(0,l.jsx)(to.Nh,{$totalHeight:p,children:h.map(function(e){var n=e.index,r=e.key,s=e.size,a=e.start,o=c[n];return(0,l.jsx)(to.X2,{$height:s,$start:a,children:(0,l.jsx)(x.x,{style:{height:"100%"},flex:{direction:"row",alignItems:"center"},border:n<c.length-1?"bottom":null,children:"partition-name"===o.type?(0,l.jsx)(tT,{partitionName:o.partitionName,expanded:o.expanded,detail:t(o),onToggle:u}):(0,l.jsx)(x.x,{padding:{left:24},children:i(o.assetKey)})})},r)})})})}var tT=function(e){var n=e.partitionName,t=e.detail,i=e.expanded,r=e.onToggle;return(0,l.jsxs)(tF,{onClick:function(){return r(n)},children:[(0,l.jsx)(q.JO,{name:"arrow_drop_down",style:{transform:i?"rotate(0deg)":"rotate(-90deg)"}}),(0,l.jsx)("div",{children:n}),(0,l.jsx)("div",{children:t})]})},tF=er.ZP.button.withConfig({componentId:"sc-cbda4ec8-0"})(tM()),tL=function(e){var n=e.updatedAssetKeys,t=e.willUpdateAssetKeys,i=(0,_._)(m.useState(!1),2),r=i[0],s=i[1],o=(0,_._)(m.useState(""),2),c=o[0],d=o[1],u=m.useMemo(function(){return Array.from(new Set((0,L._)(Object.keys(n)).concat((0,L._)(Object.keys(t)))))},[n,t]),p=u.length,h=tP(u,c),f=m.useMemo(function(){return Object.fromEntries(h.map(function(e){return[e,(0,L._)((n[e]||[]).sort(j._v).map(function(e){return{assetKey:e,detailType:a.Updated}})).concat((0,L._)((t[e]||[]).sort(j._v).map(function(e){return{assetKey:e,detailType:a.WillUpdate}})))]}))},[n,t,h]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(k.V,{children:1===p?"1 partition":"".concat(p," partitions")}),(0,l.jsx)(ey.Z,{onClick:function(){return s(!0)},children:(0,l.jsx)($.YS,{children:"View details"})})]}),(0,l.jsx)(tA,{isOpen:r,setIsOpen:s,header:(0,l.jsx)(tz,{title:1===p?"1 partition":"".concat(p," partitions"),placeholder:"Filter by partition…",queryString:c,setQueryString:d,showSearch:p>0}),content:c&&!h.length?(0,l.jsx)(tK,{title:"No matching partitions",description:(0,l.jsxs)(l.Fragment,{children:["No matching partitions for ",(0,l.jsx)("strong",{children:c})]})}):(0,l.jsx)(tD,{assetKeysByPartition:f,renderPartitionDetail:function(e){var n=e.assetCount;return 1===n?"(1 parent updated)":"(".concat(n," parents updated)")},renderItem:function(e){return(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,l.jsx)(tk.R,{path:e.assetKey.path,icon:"asset"}),(0,l.jsxs)("span",{children:["(",tO(e.detailType),")"]})]})}})})]})},t$=function(e){var n=e.assetKeys,t=(0,_._)(m.useState(!1),2),i=t[0],r=t[1],s=(0,_._)(m.useState(""),2),a=s[0],o=s[1],c=n.length,d=tS(n,a);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ey.Z,{onClick:function(){return r(!0)},children:1===c?"Waiting on 1 asset":"Waiting on ".concat(c," assets")}),(0,l.jsx)(tA,{isOpen:i,setIsOpen:r,header:(0,l.jsx)(tz,{title:1===c?"1 asset":"".concat(c," assets"),queryString:a,setQueryString:o,showSearch:c>0,placeholder:"Filter by asset key…"}),content:a&&!d.length?(0,l.jsx)(tK,{title:"No matching asset keys",description:(0,l.jsxs)(l.Fragment,{children:["No matching asset keys for ",(0,l.jsx)("strong",{children:a})]})}):(0,l.jsx)(tN.Y,{items:d,renderItem:function(e){return(0,l.jsx)(tk.R,{path:e.path,icon:"asset"})}})})]})},tV=function(e){var n=e.assetKeysByPartition,t=(0,_._)(m.useState(!1),2),i=t[0],r=t[1],s=(0,_._)(m.useState(""),2),a=s[0],o=s[1],c=Object.keys(n),d=c.length,u=tP(c,a),p=m.useMemo(function(){return Object.fromEntries(u.map(function(e){return[e,(0,L._)(n[e]).sort(j._v)]}))},[n,u]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(x.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.jsx)(k.V,{intent:"warning",children:1===d?"1 partition":"".concat(d," partitions")}),(0,l.jsx)(ey.Z,{onClick:function(){return r(!0)},children:(0,l.jsx)($.YS,{children:"View details"})})]}),(0,l.jsx)(tA,{isOpen:i,setIsOpen:r,header:(0,l.jsx)(tz,{title:1===d?"1 partition":"".concat(d," partitions"),queryString:a,setQueryString:o,showSearch:d>0,placeholder:"Filter by partition…"}),content:a&&!u.length?(0,l.jsx)(tK,{title:"No matching partitions",description:(0,l.jsxs)(l.Fragment,{children:["No matching partitions for ",(0,l.jsx)("strong",{children:a})]})}):(0,l.jsx)(tD,{assetKeysByPartition:p,renderPartitionDetail:function(e){var n=e.assetCount;return 1===n?"(Waiting on 1 asset)":"(Waiting on ".concat(n," assets)")},renderItem:function(e){return(0,l.jsx)(tk.R,{path:e.path,icon:"asset"})}})})]})},tW=function(e){var n=e.text,t=e.met,i=e.rightElement;return(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",justifyContent:"space-between"},style:{height:24},children:[(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:8},children:[(0,l.jsx)(q.JO,{name:t?"done":"close",color:t?h.w.Dark:h.w.Gray500}),(0,l.jsxs)("div",{style:{color:t?h.w.Dark:h.w.Gray500},children:[n.slice(0,1).toUpperCase(),n.slice(1)]})]}),i]})},tG=[{decisionType:ej.tpz.MATERIALIZE,header:"Materialization conditions met",details:"These conditions trigger a materialization, unless they are blocked by a skip or discard condition."},{decisionType:ej.tpz.SKIP,header:"Skip conditions met",details:"Skips will materialize in a future evaluation, once the skip condition is resolved."},{decisionType:ej.tpz.DISCARD,header:"Discard conditions met",details:"Discarded partitions will not be materialized unless new materialization conditions occur. You may want to run a manual backfill to respond to the materialize conditions.",intent:"danger",partitionedOnly:!0}],tU=function(e){var n=e.rules,t=e.ruleEvaluations,i=e.assetHasDefinedPartitions,r=tw()(n,function(e){return e.decisionType});return(0,l.jsx)(l.Fragment,{children:tG.filter(function(e){return r[e.decisionType]&&(i||!e.partitionedOnly)}).map(function(e){return(0,l.jsx)(t_,{header:e.header,details:e.details,children:(0,l.jsx)(x.x,{flex:{direction:"column",gap:8},children:(r[e.decisionType]||[]).map(function(n,r){var s,a=n.description,o=(null===(s=t.find(function(e){var n;return(null===(n=e.rule)||void 0===n?void 0:n.description)===a}))||void 0===s?void 0:s.ruleEvaluations)||[];return(0,l.jsx)(tW,{text:a,met:o.length>0,rightElement:i?(0,l.jsx)(tH,{evaluations:o,intent:e.intent}):(0,l.jsx)(tB,{evaluations:o,intent:e.intent})},r)})})},e.decisionType)})})},tB=function(e){var n=e.evaluations.map(function(e){return e.evaluationData}).find(Boolean);if(!n)return(0,l.jsx)("div",{style:{color:h.w.Gray400},children:"–"});switch(n.__typename){case"ParentMaterializedRuleEvaluationData":return(0,l.jsx)(tR,{updatedAssetKeys:n.updatedAssetKeys||[],willUpdateAssetKeys:n.willUpdateAssetKeys||[]});case"WaitingOnKeysRuleEvaluationData":return(0,l.jsx)(t$,{assetKeys:n.waitingOnAssetKeys||[]});case"TextRuleEvaluationData":return(0,l.jsx)("span",{children:n.text});default:(0,eH.UT)(n)}return(0,l.jsx)("span",{})},tq=function(e){var n;return(null===(n=e.partitionKeysOrError)||void 0===n?void 0:n.__typename)==="PartitionKeys"?e.partitionKeysOrError.partitionKeys:[]},tH=function(e){var n,t=e.evaluations,i=e.intent,r=t.filter(function(e){return!!e.evaluationData}),s=null===(n=r[0])||void 0===n?void 0:n.evaluationData;if(!s){var a=t.flatMap(tq);return a.length?(0,l.jsx)(td,{partitionKeys:a,intent:i}):(0,l.jsx)("div",{style:{color:h.w.Gray400},children:"–"})}var o=s.__typename;switch(o){case"ParentMaterializedRuleEvaluationData":var c=Object.fromEntries(r.flatMap(function(e){return tq(e).map(function(n){var t;return[n,(null===(t=e.evaluationData)||void 0===t?void 0:t.__typename)==="ParentMaterializedRuleEvaluationData"&&e.evaluationData.updatedAssetKeys||[]]})})),d=Object.fromEntries(r.flatMap(function(e){return tq(e).map(function(n){var t;return[n,(null===(t=e.evaluationData)||void 0===t?void 0:t.__typename)==="ParentMaterializedRuleEvaluationData"&&e.evaluationData.willUpdateAssetKeys||[]]})}));return(0,l.jsx)(tL,{updatedAssetKeys:c,willUpdateAssetKeys:d});case"WaitingOnKeysRuleEvaluationData":var u=Object.fromEntries(r.flatMap(function(e){return tq(e).map(function(n){var t;return[n,(null===(t=e.evaluationData)||void 0===t?void 0:t.__typename)==="WaitingOnKeysRuleEvaluationData"&&e.evaluationData.waitingOnAssetKeys||[]]})}));return(0,l.jsx)(tV,{assetKeysByPartition:u});case"TextRuleEvaluationData":return(0,l.jsx)("span",{children:s.text});default:(0,eH.UT)(o)}},tJ={__typename:"no_conditions_met",evaluationId:0,amount:0,endTimestamp:0,startTimestamp:0},tZ=function(e){var n=[],t=[];e.forEach(function(e){var i=e.rule,r=e.ruleEvaluations.flatMap(function(e){var n;return(null===(n=e.partitionKeysOrError)||void 0===n?void 0:n.__typename)==="PartitionKeys"?e.partitionKeysOrError.partitionKeys:[]});i.decisionType===ej.tpz.MATERIALIZE?n=n.concat(r):t=t.concat(r)});var i=new Set(t);return new Set(n.filter(function(e){return!i.has(e)}))},tQ=function(e){var n,t,i,r=e.assetKey,s=e.assetHasDefinedPartitions,a=e.selectedEvaluationId,o=(0,c.a)(ty,{variables:{assetKey:r,cursor:a?"".concat(a+1):void 0,limit:2}}),d=o.data,u=o.loading,p=o.error;if(u&&!d)return(0,l.jsx)(x.x,{flex:{direction:"column",grow:1},children:(0,l.jsx)(x.x,{style:{flex:"0 0 48px"},border:"bottom",padding:{horizontal:16},flex:{alignItems:"center",justifyContent:"space-between"},children:(0,l.jsx)($.pm,{children:"Result"})})});if(p)return(0,l.jsx)(x.x,{flex:{direction:"column",grow:1},children:(0,l.jsx)(x.x,{flex:{direction:"row",justifyContent:"center"},padding:24,children:(0,l.jsx)(tn.Vx,{children:JSON.stringify(p)})})});if((null==d?void 0:null===(n=d.autoMaterializeAssetEvaluationsOrError)||void 0===n?void 0:n.__typename)==="AutoMaterializeAssetEvaluationNeedsMigrationError")return(0,l.jsx)(x.x,{flex:{direction:"column",grow:1},children:(0,l.jsx)(x.x,{flex:{direction:"row",justifyContent:"center"},padding:{vertical:24},children:(0,l.jsx)(C.t,{icon:"error",title:"Error",description:d.autoMaterializeAssetEvaluationsOrError.message})})});var h=(null==d?void 0:d.assetNodeOrError.__typename)==="AssetNode"&&(null===(t=d.assetNodeOrError.autoMaterializePolicy)||void 0===t?void 0:t.rules)||[],m=((null==d?void 0:null===(i=d.autoMaterializeAssetEvaluationsOrError)||void 0===i?void 0:i.records)||[]).find(function(e){return e.evaluationId===a})||tJ;return(0,l.jsx)(tY,{currentRules:h,assetHasDefinedPartitions:s,selectedEvaluation:m})},tY=function(e){var n=e.currentRules,t=e.selectedEvaluation,i=e.assetHasDefinedPartitions,r=(null==t?void 0:t.__typename)==="AutoMaterializeAssetEvaluationRecord"?t.runIds:[],s=(null==t?void 0:t.__typename)==="AutoMaterializeAssetEvaluationRecord"?t.rulesWithRuleEvaluations:[],a=(null==t?void 0:t.__typename)==="AutoMaterializeAssetEvaluationRecord"&&t.rules?t.rules:n;return(0,l.jsxs)(x.x,{flex:{direction:"column",grow:1},children:[(0,l.jsxs)(x.x,{style:{flex:"0 0 48px"},padding:{horizontal:16},border:"bottom",flex:{alignItems:"center",justifyContent:"space-between"},children:[(0,l.jsx)($.pm,{children:"Result"}),(0,l.jsx)("div",{children:0===r.length?null:i?(0,l.jsx)(td,{runIds:r,partitionKeys:Array.from(tZ(s)),intent:"success"}):(0,l.jsx)(tg,{runId:r[0]})})]}),(0,l.jsx)(tU,{rules:a,ruleEvaluations:s,assetHasDefinedPartitions:i})]})};function tX(){var e=(0,o._)(["\n  query GetPolicyInfoQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        freshnessPolicy {\n          maximumLagMinutes\n          cronSchedule\n          cronScheduleTimezone\n        }\n        autoMaterializePolicy {\n          policyType\n          maxMaterializationsPerMinute\n          rules {\n            description\n            decisionType\n          }\n        }\n      }\n    }\n  }\n"]);return tX=function(){return e},e}var t0=function(e){var n=e.assetKey,t=(0,c.a)(t4,{variables:{assetKey:n}});(0,z.C4)(t,z.dT);var i=t.data,r=t.error;return(0,l.jsxs)(x.x,{flex:{direction:"column"},style:{width:"294px",height:"100%"},border:"left",children:[(0,l.jsx)(x.x,{padding:16,border:"bottom",children:(0,l.jsx)($.pm,{children:"Overview"})}),(0,l.jsx)("div",{style:{overflowY:"auto"},children:r?(0,l.jsx)(x.x,{padding:24,children:(0,l.jsx)(tn.Vx,{children:JSON.stringify(r)})}):i?"AssetNotFoundError"===i.assetNodeOrError.__typename?(0,l.jsx)(f.l_,{to:"/assets"}):(0,l.jsxs)(l.Fragment,{children:[i.assetNodeOrError.autoMaterializePolicy?(0,l.jsx)(t1,{title:(0,l.jsxs)(x.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center"},children:["Auto-materialize policy",(0,l.jsx)(e7.W,{policy:i.assetNodeOrError.autoMaterializePolicy})]}),children:(0,l.jsx)($.uT,{style:{flex:1},children:"This asset will be automatically materialized when at least one of the conditions to the left is met and no skip conditions are met."})}):(0,l.jsx)(x.x,{padding:8,children:(0,l.jsx)(C.t,{title:"No auto-materialize policy found",shrinkable:!0,description:(0,l.jsxs)(x.x,{flex:{direction:"column",gap:8},children:[(0,l.jsx)("div",{children:"An auto-materialize policy specifies how Dagster should attempt to keep an asset up-to-date."}),(0,l.jsx)("div",{children:(0,l.jsx)(B.fr,{href:"https://docs.dagster.io/_apidocs/assets#dagster.AutoMaterializePolicy",target:"_blank",rel:"noreferrer",icon:(0,l.jsx)(q.JO,{name:"open_in_new"}),children:"View documentation"})})]})})}),i.assetNodeOrError.freshnessPolicy?(0,l.jsxs)(t1,{title:"Freshness policy",children:[(0,l.jsx)(t2,{title:"Maximum lag minutes",value:i.assetNodeOrError.freshnessPolicy.maximumLagMinutes}),(0,l.jsxs)(x.x,{flex:{direction:"column",gap:8},children:["This asset will be considered late if it is not materialized within"," ",i.assetNodeOrError.freshnessPolicy.maximumLagMinutes," minutes of it’s upstream dependencies.",(0,l.jsx)(A.rU,{to:(0,e2.p)(n,{view:"lineage",lineageScope:"upstream"}),children:"View upstream assets"})]})]}):(0,l.jsx)(x.x,{padding:8,children:(0,l.jsx)(C.t,{title:"No freshness policy found",shrinkable:!0,description:(0,l.jsxs)(x.x,{flex:{direction:"column",gap:8},children:[(0,l.jsx)("div",{children:"A FreshnessPolicy specifies how up-to-date you want a given asset to be."}),(0,l.jsx)("div",{children:(0,l.jsx)(B.fr,{href:"https://docs.dagster.io/_apidocs/assets#dagster.FreshnessPolicy",target:"_blank",rel:"noreferrer",icon:(0,l.jsx)(q.JO,{name:"open_in_new"}),children:"View documentation"})})]})})})]}):(0,l.jsx)(x.x,{flex:{direction:"row",justifyContent:"center"},padding:{vertical:24},children:(0,l.jsx)(p.$,{purpose:"section"})})})]})},t1=function(e){var n=e.title,t=e.children;return(0,l.jsxs)(x.x,{flex:{direction:"column",gap:12},border:"bottom",padding:{vertical:12,horizontal:16},children:[(0,l.jsx)($.pm,{children:n}),t]})},t2=function(e){var n=e.title,t=e.value;return(0,l.jsxs)(x.x,{flex:{direction:"column",gap:4},children:[(0,l.jsx)("div",{children:n}),(0,l.jsx)($.fv,{style:{fontSize:"16px",fontWeight:500},children:t})]})},t4=(0,d.Ps)(tX()),t8=function(e){var n=e.isLoading,t=e.currentEvaluationId,i=e.evaluations,r=e.isFirstPage,s=e.isLastPage;if(n)return[];var a=[],o=r&&null!==t?t:(null===(l=i[0])||void 0===l?void 0:l.evaluationId)||1;if(i.forEach(function(e,n){var t=i[n-1];e.evaluationId!==o&&a.push({__typename:"no_conditions_met",evaluationId:o,amount:o-e.evaluationId,endTimestamp:(null==t?void 0:t.timestamp)?(null==t?void 0:t.timestamp)-60:"now",startTimestamp:e.timestamp+60}),a.push(e),o=e.evaluationId-1}),s){var l,c=i[i.length-1];a.push({__typename:"no_conditions_met",evaluationId:o,amount:o,endTimestamp:(null==c?void 0:c.timestamp)?(null==c?void 0:c.timestamp)-60:"now",startTimestamp:0})}return a},t6=t(88498);function t5(){var e=(0,o._)(["\n  a span {\n    white-space: normal;\n  }\n"]);return t5=function(){return e},e}var t3=function(e){var n,t=e.assetKey,i=e.assetHasDefinedPartitions,r=(0,t6.l)({nextCursorForResult:function(e){var n,t;if((null===(n=e.autoMaterializeAssetEvaluationsOrError)||void 0===n?void 0:n.__typename)==="AutoMaterializeAssetEvaluationRecords")return null===(t=e.autoMaterializeAssetEvaluationsOrError.records[29])||void 0===t?void 0:t.evaluationId.toString()},getResultArray:function(e){var n;return(null==e?void 0:null===(n=e.autoMaterializeAssetEvaluationsOrError)||void 0===n?void 0:n.__typename)==="AutoMaterializeAssetEvaluationRecords"?e.autoMaterializeAssetEvaluationsOrError.records:[]},variables:{assetKey:t},query:ty,pageSize:30}),s=r.queryResult,a=r.paginationProps;(0,z.C4)(s,z.dT);var o=m.useMemo(function(){var e,n,t;return(null===(n=s.data)||void 0===n?void 0:null===(e=n.autoMaterializeAssetEvaluationsOrError)||void 0===e?void 0:e.__typename)==="AutoMaterializeAssetEvaluationRecords"?{evaluations:null===(t=s.data)||void 0===t?void 0:t.autoMaterializeAssetEvaluationsOrError.records,currentEvaluationId:s.data.autoMaterializeAssetEvaluationsOrError.currentEvaluationId}:{evaluations:[],currentEvaluationId:null}},[null===(n=s.data)||void 0===n?void 0:n.autoMaterializeAssetEvaluationsOrError]),c=o.evaluations,d=o.currentEvaluationId,u=!a.hasPrevCursor,p=!a.hasNextCursor,f=s.loading&&!s.data,g=m.useMemo(function(){return t8({currentEvaluationId:d,evaluations:c,isFirstPage:u,isLastPage:p,isLoading:f})},[d,c,u,p,f]),j=(0,_._)((0,M.q)({queryKey:"evaluation",decode:function(e){var n=parseInt(e.evaluation);return isNaN(n)?void 0:n}}),2),v=j[0],y=j[1],b=m.useMemo(function(){return void 0===v&&u?g[0]:g.find(function(e){return e.evaluationId===v})},[v,u,g]);return(0,l.jsxs)(t7,{style:{flex:1,minHeight:0,color:h.w.Gray700,overflow:"hidden"},flex:{direction:"column"},children:[(0,l.jsx)(x.x,{padding:{horizontal:24,vertical:12},border:"bottom",children:(0,l.jsx)(n0.$,{})}),(0,l.jsxs)(x.x,{flex:{direction:"row"},children:[(0,l.jsxs)(x.x,{flex:{direction:"column",grow:1},children:[(0,l.jsx)(x.x,{flex:{alignItems:"center"},padding:{vertical:16,horizontal:24},border:"bottom",children:(0,l.jsx)($.pm,{children:"Evaluation history"})}),(0,l.jsxs)(x.x,{flex:{direction:"row"},style:{flex:1,minHeight:0},children:[(0,l.jsx)(x.x,{border:"right",flex:{grow:0,direction:"column"},style:{flex:"0 0 296px"},children:(0,l.jsx)(n3,{assetHasDefinedPartitions:i,evaluations:c,evaluationsIncludingEmpty:g,paginationProps:a,onSelectEvaluation:function(e){y(e.evaluationId)},selectedEvaluation:b})}),(0,l.jsx)(x.x,{flex:{grow:1},style:{minHeight:0,overflowY:"auto"},children:(0,l.jsx)(tQ,{assetKey:t,assetHasDefinedPartitions:i,selectedEvaluationId:(null==b?void 0:b.evaluationId)||v})})]})]}),(0,l.jsx)(x.x,{border:"left",children:(0,l.jsx)(t0,{assetKey:t})})]})]})},t7=(0,er.ZP)(x.x).withConfig({componentId:"sc-8dfe1a77-0"})(t5()),t9=t(20904),ie=t(67359),it=t(72171),ii=t(50088);function ir(){var e=(0,o._)(["\n  fragment AssetCheckExecutionFragment on AssetCheckExecution {\n    id\n    runId\n    status\n    evaluation {\n      severity\n      timestamp\n      targetMaterialization {\n        timestamp\n        runId\n      }\n      metadataEntries {\n        ...MetadataEntryFragment\n      }\n    }\n  }\n  ","\n"]);return ir=function(){return e},e}function is(){var e=(0,o._)(["\n  query AssetCheckDetailsQuery(\n    $assetKey: AssetKeyInput!\n    $checkName: String!\n    $limit: Int!\n    $cursor: String\n  ) {\n    assetChecksOrError(assetKey: $assetKey, checkName: $checkName) {\n      ... on AssetChecks {\n        checks {\n          name\n          description\n          executions(limit: $limit, cursor: $cursor) {\n            ...AssetCheckExecutionFragment\n          }\n        }\n      }\n      ... on AssetCheckNeedsMigrationError {\n        message\n      }\n    }\n  }\n  ","\n"]);return is=function(){return e},e}var ia=function(e){var n=e.assetKey,t=e.checkName,i=e.onClose;return(0,l.jsx)(eb.Vq,{isOpen:!!t,canOutsideClickClose:!0,canEscapeKeyClose:!0,onClose:i,style:{width:"80%",minWidth:"800px"},children:t?(0,l.jsx)(io,{checkName:t,assetKey:n,onClose:i}):null})},io=function(e){var n=e.assetKey,t=e.checkName,i=e.onClose;(0,g.Px)(),(0,v.j)("Asset Check | ".concat(t));var r=(0,t6.l)({query:id,variables:{assetKey:n,checkName:t},nextCursorForResult:function(e){var n,t;if(e&&"AssetCheckNeedsMigrationError"!==e.assetChecksOrError.__typename)return null===(t=e.assetChecksOrError.checks[0])||void 0===t?void 0:null===(n=t.executions[4])||void 0===n?void 0:n.id.toString()},getResultArray:function(e){var n;return e&&"AssetCheckNeedsMigrationError"!==e.assetChecksOrError.__typename&&(null===(n=e.assetChecksOrError.checks[0])||void 0===n?void 0:n.executions)||[]},pageSize:5}),s=r.queryResult,a=r.paginationProps;(0,z.C4)(s,z.dT);var o=s.data;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(eb.fK,{label:(0,l.jsx)($.s0,{children:t}),icon:"asset_check"}),o?(0,l.jsxs)(x.x,{flex:{direction:"column"},border:"top",padding:{top:1,horizontal:12},children:[(0,l.jsx)($.Tj,{style:{padding:"8px 16px"},children:"Run history"}),function(){if(!o)return(0,l.jsx)(x.x,{padding:48,children:(0,l.jsx)(p.$,{purpose:"page"})});if("AssetCheckNeedsMigrationError"===o.assetChecksOrError.__typename)return(0,l.jsx)(iu,{});var e=o.assetChecksOrError.checks[0];if(!e)return(0,ti._)({title:"Error",body:"Asset Check ".concat(t," not found")}),setTimeout(function(){i()}),(0,l.jsx)(ix,{});var n=e.executions;return n.length?(0,l.jsxs)("div",{children:[(0,l.jsxs)(ev.i,{children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Timestamp"}),(0,l.jsx)("th",{children:"Target materialization"}),(0,l.jsx)("th",{children:"Result"}),(0,l.jsx)("th",{children:"Evaluation metadata"})]})}),(0,l.jsx)("tbody",{children:n.map(function(n){var t,i,r;return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(null===(t=n.evaluation)||void 0===t?void 0:t.timestamp)?(0,l.jsx)(A.rU,{to:"/runs/".concat(n.runId),children:(0,l.jsx)(n2.v,{timestamp:n.evaluation.timestamp})}):" - "}),(0,l.jsx)("td",{children:(null===(i=n.evaluation)||void 0===i?void 0:i.targetMaterialization)?(0,l.jsx)(A.rU,{to:"/runs/".concat(n.evaluation.targetMaterialization.runId),children:(0,l.jsx)(n2.v,{timestamp:n.evaluation.targetMaterialization.timestamp})}):" - "}),(0,l.jsx)("td",{children:(0,l.jsx)(ii.q,{check:e,execution:n})}),(0,l.jsx)("td",{children:(0,l.jsx)(il,{metadataEntries:null===(r=n.evaluation)||void 0===r?void 0:r.metadataEntries})})]},n.id)})})]}),(0,l.jsx)("div",{style:{paddingBottom:"16px"},children:(0,l.jsx)(n1.pI,(0,w._)({},a))})]}):(0,l.jsx)(ip,{})}()]}):(0,l.jsx)(x.x,{flex:{direction:"column"},padding:24,children:(0,l.jsx)(p.$,{purpose:"page"})})]})};function il(e){var n,t,i=e.metadataEntries,r=(0,_._)(m.useState(!1),2),s=r[0],a=r[1];return i&&i.length?!(i.length>1)&&(ih.includes(null===(n=i[0])||void 0===n?void 0:n.__typename)||(null===(t=i[0])||void 0===t?void 0:t.__typename)==="TableMetadataEntry"&&i[0].table.records.length<=1)?(0,l.jsx)(es.gD,{entries:i}):(0,l.jsxs)("div",{children:[(0,l.jsx)(B.zx,{onClick:function(){return a(!0)},children:"View metadata"}),(0,l.jsxs)(eb.Vq,{title:"Metadata",isOpen:s,onClose:function(){return a(!1)},canOutsideClickClose:!0,canEscapeKeyClose:!0,style:{width:"80%",minWidth:"800px"},children:[(0,l.jsx)(eb.a7,{children:(0,l.jsx)(es.gD,{entries:i})}),(0,l.jsx)(eb.cN,{topBorder:!0,children:(0,l.jsx)(B.zx,{onClick:function(){return a(!1)},intent:"primary",children:"Close"})})]})]}):(0,l.jsx)("span",{children:" - "})}var ic=(0,d.Ps)(ir(),es.it),id=(0,d.Ps)(is(),ic);function iu(){return(0,l.jsx)(x.x,{padding:24,children:(0,l.jsx)(C.t,{icon:"warning",title:"Migration required",description:(0,l.jsx)(x.x,{flex:{direction:"column"},children:(0,l.jsxs)($.pN,{color:h.w.Gray700,style:{padding:"6px 0"},children:["A database schema migration is required to use asset checks. Run"," ",(0,l.jsx)($.fv,{children:"dagster instance migrate"}),"."]})})})})}function ix(){return(0,l.jsx)(x.x,{padding:24,children:(0,l.jsx)(C.t,{icon:"asset_check",title:"No checks found for this asset",description:(0,l.jsx)(x.x,{flex:{direction:"column"},children:(0,l.jsx)($.pN,{color:h.w.Gray700,style:{padding:"6px 0"},children:"Asset Checks run after a materialization and can verify a particular property of a data asset. Checks can help ensure that the contents of each data asset is correct."})})})})}function ip(){return(0,l.jsx)(x.x,{padding:24,children:(0,l.jsx)(C.t,{icon:"asset_check",title:"No executions found for this check",description:(0,l.jsx)(x.x,{flex:{direction:"column"},children:(0,l.jsx)($.pN,{color:h.w.Gray700,style:{padding:"6px 0"},children:"No executions found. Materialize this asset and the check will run automatically."})})})})}var ih=["BoolMetadataEntry","FloatMetadataEntry","IntMetadataEntry","TextMetadataEntry","UrlMetadataEntry","PathMetadataEntry","NullMetadataEntry","TableSchemaMetadataEntry"],im=t(49562);function ig(){var e=(0,o._)(["\n  text-overflow: ellipsis;\n  max-width: 100%;\n  overflow: hidden;\n  white-space: nowrap;\n"]);return ig=function(){return e},e}function ij(){var e=(0,o._)(["\n  display: grid;\n  grid-template-columns: ",";\n  height: 100%;\n"]);return ij=function(){return e},e}function iv(){var e=(0,o._)(["\n  fragment AssetCheckTableFragment on AssetCheck {\n    name\n    description\n    canExecuteIndividually\n    executionForLatestMaterialization {\n      ...AssetCheckExecutionFragment\n    }\n  }\n  ","\n"]);return iv=function(){return e},e}var iy=function(e){var n=e.assetNode,t=e.rows,i=m.useRef(null),r=t.length,s=(0,tt.useVirtualizer)({count:r,getScrollElement:function(){return i.current},estimateSize:function(){return 64},overscan:5}),a=s.getTotalSize(),o=s.getVirtualItems();return(0,l.jsx)("div",{style:{overflow:"hidden"},children:(0,l.jsxs)(to.W2,{ref:i,children:[(0,l.jsx)(i_,{}),(0,l.jsx)(to.Nh,{$totalHeight:a,children:o.map(function(e){var i=e.index,r=e.key,s=e.size,a=e.start,o=t[i];return(0,l.jsx)(iw,{assetNode:n,height:s,start:a,row:o},r)})})]})})},ib="2fr 150px 1fr 1.5fr 120px",iw=function(e){var n,t,i=e.assetNode,r=e.height,s=e.start,a=e.row,o=a.executionForLatestMaterialization,c=null==o?void 0:null===(n=o.evaluation)||void 0===n?void 0:n.timestamp;return(0,l.jsx)(to.X2,{$height:r,$start:s,"data-testid":(0,nF.N)("row-#TODO_USE_CHECK_ID"),children:(0,l.jsxs)(iI,{border:"bottom",children:[(0,l.jsx)(to.E5,{style:{flexDirection:"row",alignItems:"center"},children:(0,l.jsxs)(x.x,{flex:{direction:"column",gap:4},children:[(0,l.jsx)(A.rU,{to:(0,e2.A)({assetKey:i.assetKey,name:a.name}),children:(0,l.jsx)($.pN,{children:a.name})}),(0,l.jsx)(iE,{children:a.description})]})}),(0,l.jsx)(to.E5,{style:{flexDirection:"row",alignItems:"center"},children:(0,l.jsx)("div",{children:(0,l.jsx)(ii.q,{check:a,execution:a.executionForLatestMaterialization})})}),(0,l.jsx)(to.E5,{style:{flexDirection:"row",alignItems:"center"},children:c?(0,l.jsx)(A.rU,{to:"/runs/".concat(o.runId),children:(0,l.jsx)(n2.v,{timestamp:c})}):" - "}),(0,l.jsx)(to.E5,{children:(0,l.jsx)(il,{metadataEntries:null==o?void 0:null===(t=o.evaluation)||void 0===t?void 0:t.metadataEntries})}),(0,l.jsx)(to.E5,{children:(0,l.jsx)(x.x,{flex:{justifyContent:"flex-end"},children:(0,l.jsx)(im.$$,{assetNode:i,checks:[a],label:"Execute",icon:!1})})})]})})},iE=(0,er.ZP)($.YS).withConfig({componentId:"sc-bce552ed-0"})(ig()),i_=function(){return(0,l.jsxs)(x.x,{border:"top-and-bottom",style:{display:"grid",gridTemplateColumns:ib,height:"32px",fontSize:"12px",color:h.w.Gray600},children:[(0,l.jsx)(to.qN,{children:"Check name"}),(0,l.jsx)(to.qN,{children:"Status"}),(0,l.jsx)(to.qN,{children:"Evaluation timestamp"}),(0,l.jsx)(to.qN,{children:"Evaluation metadata"}),(0,l.jsx)(to.qN,{children:"Actions"})]})},iI=(0,er.ZP)(x.x).withConfig({componentId:"sc-bce552ed-1"})(ij(),ib),iC=(0,d.Ps)(iv(),ic);function iN(){var e=(0,o._)(["\n  query AssetChecksQuery($assetKey: AssetKeyInput!) {\n    assetNodeOrError(assetKey: $assetKey) {\n      ... on AssetNode {\n        id\n        ...ExecuteChecksButtonAssetNodeFragment\n      }\n    }\n    assetChecksOrError(assetKey: $assetKey) {\n      ... on AssetCheckNeedsMigrationError {\n        message\n      }\n      ... on AssetChecks {\n        checks {\n          ...AssetCheckTableFragment\n          ...ExecuteChecksButtonCheckFragment\n        }\n      }\n    }\n  }\n  ","\n  ","\n  ","\n"]);return iN=function(){return e},e}var ik=function(e){var n,t,i=e.lastMaterializationTimestamp,r=e.assetKey,s=(0,c.a)(iA,{variables:{assetKey:r}}),a=s.data;(0,z.C4)(s,z.dT);var o=(0,_._)((0,M.q)({queryKey:"checkDetail"}),2),d=o[0],u=o[1],p=(0,m.useContext)(eB.G).AssetChecksBanner;return(0,l.jsxs)("div",{children:[(0,l.jsx)(ia,{assetKey:r,checkName:d,onClose:function(){u(void 0)}}),(0,l.jsx)(x.x,{padding:{horizontal:24,vertical:12},border:"bottom",children:(0,l.jsx)(p,{})}),(0,l.jsxs)(x.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"center",gap:32},padding:{horizontal:24,vertical:16},border:"bottom",children:[(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:6},children:[(0,l.jsx)($.pN,{children:"Latest materialization:"}),i?(0,l.jsx)(A.rU,{to:(0,e2.p)(r,{time:i,view:"events"}),children:(0,l.jsx)(k.V,{icon:"materialization",children:(0,l.jsx)(K.E,{timestamp:{ms:Number(i)}})})}):(0,l.jsx)(k.V,{icon:"materialization",children:"None "})]}),(n=null==a?void 0:a.assetNodeOrError,(null==(t=null==a?void 0:a.assetChecksOrError)?void 0:t.__typename)!=="AssetChecks"||(null==n?void 0:n.__typename)!=="AssetNode"?(0,l.jsx)("span",{}):(0,l.jsx)(im.$$,{assetNode:n,checks:t.checks}))]}),function(){if(!a)return(0,l.jsx)(it.T,{purpose:"page"});var e=a.assetNodeOrError,n=a.assetChecksOrError;if("AssetCheckNeedsMigrationError"===n.__typename)return(0,l.jsx)(iu,{});var t=n.checks;return t.length?(null==e?void 0:e.__typename)!=="AssetNode"?(0,l.jsx)("span",{}):(0,l.jsx)(iy,{assetNode:e,rows:t}):(0,l.jsx)(ix,{})}()]})},iA=(0,d.Ps)(iN(),im.M4,im.rR,iC);function iz(){var e=(0,o._)(["\n  query AssetViewDefinitionQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n        assetMaterializations(limit: 1) {\n          timestamp\n          runId\n        }\n        definition {\n          id\n          ...AssetViewDefinitionNode\n        }\n      }\n    }\n  }\n\n  fragment AssetViewDefinitionNode on AssetNode {\n    id\n    groupName\n    partitionDefinition {\n      description\n    }\n    partitionKeysByDimension {\n      name\n    }\n    repository {\n      id\n      name\n      location {\n        id\n        name\n      }\n    }\n    hasAssetChecks\n\n    ...AssetNodeInstigatorsFragment\n    ...AssetNodeDefinitionFragment\n    ...UnderlyingOpsAssetNodeFragment\n  }\n\n  ","\n  ","\n  ","\n"]);return iz=function(){return e},e}var iK=function(e){var n,t,i,r,s=e.assetKey,a=(0,_._)((0,M.q)({}),2),o=a[0],c=a[1],d=m.useContext(eB.G),u=d.tabBuilder,h=d.renderFeatureView,f=iP(s),g=f.definition,v=f.definitionQueryResult,y=f.lastMaterialization,C=m.useMemo(function(){return u({definition:g,params:o})},[g,o,u]),N=C.some(function(e){return"partitions"===e.id})?"partitions":"events",k=o.view||N,A=function(e,n){var t=(0,j.Je)(e);if("definition"===n.view)return{query:'+"'.concat(t,'"+'),requestedDepth:1};if("lineage"===n.view){var i="neighbors"===n.lineageScope?2:5,r=Number(n.lineageDepth)||i,s="+".repeat(r);return{query:"lineage"===n.view&&"upstream"===n.lineageScope?"".concat(s,'"').concat(t,'"'):"lineage"===n.view&&"downstream"===n.lineageScope?'"'.concat(t,'"').concat(s):"".concat(s,'"').concat(t,'"').concat(s),requestedDepth:r}}return{query:'"'.concat(t,'"'),requestedDepth:0}}(s,o),K=(0,O.uc)(A.query,{hideEdgesToNodesOutsideQuery:!0}),P=(n=K.assetGraphData,t=(0,j.Wu)(s),m.useMemo(function(){return n?{upstream:Object.values(n.nodes).filter(function(e){var i;return null===(i=n.upstream[t])||void 0===i?void 0:i[(0,j.Wu)(e.assetKey)]}).map(function(e){return e.definition}),downstream:Object.values(n.nodes).filter(function(e){var i;return null===(i=n.downstream[t])||void 0===i?void 0:i[(0,j.Wu)(e.assetKey)]}).map(function(e){return e.definition})}:{upstream:null,downstream:null}},[n,t])),R=P.upstream,D=P.downstream,T=null===(i=K.assetGraphData)||void 0===i?void 0:i.nodes[(0,j.Wu)(s)],F=(0,S.le)(K.graphAssetKeys),L=F.liveDataRefreshState,$=F.liveDataByNode,V=$[(0,j.Wu)(s)],W=null===(r=(null==V?void 0:V.lastMaterialization)||y)||void 0===r?void 0:r.timestamp,G=!o.asOf||Number(W)<=Number(o.asOf),U=V?(0,nU.em)(V):null==y?void 0:y.timestamp,B=(0,z.V5)((0,z.C4)(v,z.dT),L);return(0,l.jsxs)(x.x,{flex:{direction:"column",grow:1},style:{height:"100%",width:"100%",overflowY:"auto"},children:[(0,l.jsx)(b.K,{assetKey:s,tags:(0,l.jsx)(iD,{definition:g,liveData:V,onShowUpstream:function(){return c((0,E._)((0,w._)({},o),{view:"lineage",lineageScope:"upstream"}))}}),tabs:(0,l.jsxs)(x.x,{flex:{direction:"row",justifyContent:"space-between",alignItems:"flex-end"},children:[(0,l.jsx)(nX.Sc,{selectedTab:k,tabs:C}),B&&(0,l.jsx)(x.x,{padding:{bottom:8},children:(0,l.jsx)(z.xi,{refreshState:B})})]}),right:(0,l.jsx)(x.x,{style:{margin:"-4px 0"},children:g&&g.isObservable?(0,l.jsx)(ie.y,{intent:"primary",scope:{all:[g],skipAllTerm:!0}}):g&&g.jobNames.length>0&&R?(0,l.jsx)(nN.XE,{scope:{all:[g]}}):void 0})}),!G&&o.asOf&&(0,l.jsx)(iM,{asOf:o.asOf,hasDefinition:!!g}),(0,l.jsx)(I.S,{region:"page",resetErrorOnChange:[s,o],children:function(){switch(k){case"definition":return v.loading&&!v.previousData?(0,l.jsx)(iO,{}):g?(0,l.jsx)(nr,{assetNode:g,upstream:R,downstream:D,dependsOnSelf:!!T&&(0,j.Pz)(T),liveDataByNode:$}):(0,l.jsx)(iS,{});case"lineage":return K.assetGraphData?(0,l.jsx)(nA,{params:o,setParams:c,assetKey:s,liveDataByNode:$,requestedDepth:A.requestedDepth,assetGraphData:K.assetGraphData,graphQueryItems:K.graphQueryItems}):(0,l.jsx)(x.x,{style:{flex:1},flex:{alignItems:"center",justifyContent:"center"},children:(0,l.jsx)(p.$,{purpose:"page"})});case"partitions":return v.loading&&!v.previousData?(0,l.jsx)(iO,{}):(0,l.jsx)(nq,{assetKey:s,assetPartitionDimensions:null==g?void 0:g.partitionKeysByDimension.map(function(e){return e.name}),dataRefreshHint:U,params:o,paramsTimeWindowOnly:!!o.asOf,setParams:c});case"events":return v.loading&&!v.previousData?(0,l.jsx)(iO,{}):(0,l.jsx)(eW,{assetKey:s,assetNode:g,dataRefreshHint:U,params:o,paramsTimeWindowOnly:!!o.asOf,setParams:c,liveData:g?$[(0,j.Wu)(g.assetKey)]:void 0});case"plots":return v.loading&&!v.previousData?(0,l.jsx)(iO,{}):(0,l.jsx)(nY,{assetKey:s,assetHasDefinedPartitions:!!(null==g?void 0:g.partitionDefinition),params:o,setParams:c});case"auto-materialize-history":return v.loading&&!v.previousData?(0,l.jsx)(iO,{}):(0,l.jsx)(t3,{assetKey:s,assetHasDefinedPartitions:!!(null==g?void 0:g.partitionDefinition)});case"checks":return v.loading&&!v.previousData?(0,l.jsx)(iO,{}):(0,l.jsx)(ik,{assetKey:s,lastMaterializationTimestamp:null==y?void 0:y.timestamp});default:return h({selectedTab:k,assetKey:s,definition:g})}}()})]})},iO=function(){return(0,l.jsx)(x.x,{style:{height:390},flex:{direction:"row",justifyContent:"center",alignItems:"center"},children:(0,l.jsx)(p.$,{purpose:"page"})})},iS=function(){return(0,l.jsx)(x.x,{padding:{vertical:32},children:(0,l.jsx)(C.t,{title:"No definition",description:"This asset doesn't have a software definition in any of your code locations.",icon:"materialization"})})},iP=function(e){var n=(0,c.a)(iR,{variables:{assetKey:{path:e.path}},notifyOnNetworkStatusChange:!0}),t=(n.data||n.previousData||{}).assetOrError,i=t&&"Asset"===t.__typename?t:null;return{definitionQueryResult:n,definition:(null==i?void 0:i.definition)||null,lastMaterialization:null==i?void 0:i.assetMaterializations[0]}},iR=(0,d.Ps)(iz(),nh,na,nn.D),iM=function(e){var n=e.asOf,t=e.hasDefinition,i=(0,f.TH)(),r=i.pathname,s=i.search,a=new URLSearchParams(s);return a.delete("asOf"),a.set("time",n),(0,l.jsx)(x.x,{padding:{vertical:16,horizontal:24},border:"bottom",children:(0,l.jsx)(N.b,{intent:"info",title:(0,l.jsxs)("span",{children:["This is a historical view of materializations as of"," ",(0,l.jsx)("span",{style:{fontWeight:600},children:(0,l.jsx)(K.E,{timestamp:{ms:Number(n)},timeFormat:{showSeconds:!0,showTimezone:!0}})}),"."]}),description:(0,l.jsx)(A.rU,{to:"".concat(r,"?").concat(a.toString()),children:t?"Show definition and latest materializations":"Show latest materializations"})})})},iD=function(e){var n=e.definition,t=e.liveData,i=e.onShowUpstream,r=n?(0,T.kQ)(n.repository.name,n.repository.location.name):null;return(0,l.jsxs)(l.Fragment,{children:[n&&r?(0,l.jsxs)(k.V,{icon:"asset",children:["Asset in ",(0,l.jsx)(D.b,{repoAddress:r})]}):(0,l.jsx)(k.V,{icon:"asset_non_sda",children:"Asset"}),n&&r&&(0,l.jsx)(np,{assetNode:n,repoAddress:r}),n&&r&&n.groupName&&(0,l.jsx)(k.V,{icon:"asset_group",children:(0,l.jsx)(A.rU,{to:(0,F.$U)(r,"/asset-groups/".concat(n.groupName)),children:n.groupName})}),n&&n.autoMaterializePolicy&&(0,l.jsx)(t9.mM,{}),n&&n.freshnessPolicy&&(0,l.jsx)(ne.CW,{liveData:t,policy:n.freshnessPolicy,assetKey:n.assetKey}),n&&(0,l.jsx)(P.d9,{liveData:t,assetKey:n.assetKey,onClick:i,include:"all"}),n&&(0,l.jsx)(R.hG,{style:{position:"relative"},definition:n,reduceColor:!0})]})},iT=t(70957);function iF(){var e=(0,o._)(["\n  query AssetsCatalogRootQuery($assetKey: AssetKeyInput!) {\n    assetOrError(assetKey: $assetKey) {\n      ... on Asset {\n        id\n        key {\n          path\n        }\n      }\n    }\n  }\n"]);return iF=function(){return e},e}var iL=function(){(0,g.Px)();var e,n=(0,f.k6)(),t=((0,f.UO)()["0"]||"").split("/").filter(function(e){return e}).map(decodeURIComponent),i=(0,c.a)(iV,{skip:0===t.length,variables:{assetKey:{path:t}}});return((0,v.j)(t&&t.length?"Assets: ".concat((0,j.ll)({path:t})):"Assets"),i.loading)?(0,l.jsxs)(u.T,{children:[(0,l.jsx)(b.K,{assetKey:{path:t}}),(0,l.jsx)(x.x,{flex:{direction:"row",justifyContent:"center"},style:{paddingTop:"100px"},children:(0,l.jsxs)(x.x,{flex:{direction:"row",alignItems:"center",gap:16},children:[(0,l.jsx)(p.$,{purpose:"body-text"}),(0,l.jsx)("div",{style:{color:h.w.Gray600},children:"Loading assets…"})]})})]}):0===t.length||(null===(e=i.data)||void 0===e?void 0:e.assetOrError.__typename)==="AssetNotFoundError"?(0,l.jsxs)(x.x,{flex:{direction:"column"},style:{height:"100%",overflow:"hidden"},children:[(0,l.jsx)(b.K,{assetKey:{path:t},right:(0,l.jsxs)(x.x,{flex:{gap:12,alignItems:"center"},children:[(0,l.jsx)(b.w,{}),(0,l.jsx)(y.i,{label:"Reload definitions"})]})}),(0,l.jsx)(iT.fv,{prefixPath:t,setPrefixPath:function(e){return n.push((0,e2.p)({path:e}))}})]}):(0,l.jsx)(iK,{assetKey:{path:t}})},i$=iL,iV=(0,d.Ps)(iF())},69627:function(e,n,t){t.d(n,{a:function(){return o}});var i=t(58467),r=t(2784),s=function(e,n){var t=new Set(Array.from(e.checkedIds));switch(n.type){case"toggle-one":var r=n.payload,s=r.checked,a=r.id;return s?t.add(a):t.delete(a),{lastCheckedId:a,checkedIds:t};case"toggle-slice":var o=n.payload,l=o.checked,c=o.id,d=o.allIds,u=e.lastCheckedId,x=u?d.indexOf(u):-1,p=d.indexOf(c);if(-1===x||-1===p)return e;var h=(0,i._)([x,p].sort(),2),m=h[0],f=h[1];return d.slice(m,f+1).forEach(function(e){l?t.add(e):t.delete(e)}),{lastCheckedId:c,checkedIds:t};case"toggle-all":var g=n.payload,j=g.checked,v=g.allIds;return{lastCheckedId:null,checkedIds:j?new Set(v):new Set}}},a={checkedIds:new Set,lastCheckedId:null};function o(e){var n=(0,i._)(r.useReducer(s,a),2),t=n[0],o=n[1];return[t,{onToggleFactory:function(n){return function(i){var r=i.checked;i.shiftKey&&t.lastCheckedId?o({type:"toggle-slice",payload:{checked:r,id:n,allIds:e}}):o({type:"toggle-one",payload:{checked:r,id:n}})}},onToggleAll:function(n){o({type:"toggle-all",payload:{checked:n,allIds:e}})}}]}},40543:function(e,n,t){t.d(n,{U:function(){return m}});var i=t(85333),r=t(6692),s=t(2281),a=t(73235),o=t(52322),l=t(55829),c=t(2736),d=t(72096),u=t(87323);t(2784);var x=t(47933),p=t(35505);function h(){var e=(0,a._)(["\n  text-decoration: none;\n\n  border-radius: 4px;\n  display: block;\n  line-height: 20px;\n  padding: 6px 8px 6px 12px;\n  transition:\n    background-color 50ms,\n    box-shadow 150ms;\n  align-items: flex-start;\n  user-select: none;\n\n  /**\n   * Use margin instead of align-items: center because the contents of the menu item may wrap \n   * in unusual circumstances.\n   */\n  "," {\n    margin-top: 2px;\n  }\n\n  ",":first-child {\n    margin-left: -4px;\n  }\n\n  &&&:link,\n  &&&:visited,\n  &&&:hover,\n  &&&:active {\n    color: ",";\n    text-decoration: none;\n  }\n\n  &&&:hover {\n    background: ",";\n  }\n"]);return h=function(){return e},e}var m=function(e){var n=e.icon,t=e.intent,a=e.text,d=e.disabled,u=(0,s._)(e,["icon","intent","text","disabled"]);return d?(0,o.jsx)(l.sN,{disabled:!0,icon:n,intent:t,text:a}):(0,o.jsx)(f,(0,r._)((0,i._)({},u),{children:(0,o.jsxs)(c.x,{flex:{direction:"row",gap:8,alignItems:"center"},children:[(0,l.cR)(n,t),(0,o.jsx)("div",{children:a})]})}))},f=(0,p.ZP)(x.rU).withConfig({componentId:"sc-3c7d0ce0-0"})(h(),d.a1,d.a1,u.w.Gray900,u.w.Gray100)},89247:function(e,n,t){t.d(n,{Y:function(){return l}});var i=t(52322),r=t(2736),s=t(68577),a=t(2784),o=t(4250);function l(e){var n=e.items,t=e.renderItem,l=a.useRef(null),c=(0,s.useVirtualizer)({count:n.length,getScrollElement:function(){return l.current},estimateSize:function(){return 40},overscan:10}),d=c.getTotalSize(),u=c.getVirtualItems();return(0,i.jsx)(o.W2,{ref:l,style:{padding:"8px 24px"},children:(0,i.jsx)(o.Nh,{$totalHeight:d,children:u.map(function(e){var s=e.index,a=e.key,l=e.size,c=e.start,d=n[s];return(0,i.jsx)(o.X2,{$height:l,$start:c,children:(0,i.jsx)(r.x,{style:{height:"100%"},flex:{direction:"row",alignItems:"center"},border:s<n.length-1?"bottom":null,children:t(d)})},a)})})})}},38736:function(e,n,t){t.d(n,{i:function(){return h}});var i=t(58467),r=t(52322),s=t(42971),a=t(70399),o=t(72096),l=t(80572),c=t(2784),d=t(90951),u=t(14590),x=t(63013),p=t(48908),h=function(e){var n=e.label,t=void 0===n?"Reload all":n,h=(0,d.WB)(),m=h.permissions.canReloadWorkspace,f=h.disabledReasons,g=(0,x.Dc)({scope:"workspace",reloadFn:x.rL}),j=g.reloading,v=g.tryReload,y=g.error,b=g.errorLocationId,w=(0,i._)(c.useState(!!y),2),E=w[0],_=w[1];return(c.useEffect(function(){return _(!!y)},[y]),m)?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.zx,{onClick:v,icon:(0,r.jsx)(o.JO,{name:"refresh"}),loading:j,intent:"none",children:t}),b?(0,r.jsx)(p.V,{error:y,location:b,reloading:j,onTryReload:v,onDismiss:function(){return _(!1)},isOpen:E}):(0,r.jsxs)(l.Vq,{icon:"error",title:"Reload error",canEscapeKeyClose:!1,canOutsideClickClose:!1,style:{width:"90%"},isOpen:E,children:[(0,r.jsx)(l.a7,{children:y&&(0,r.jsx)(u.T9,{error:y})}),(0,r.jsx)(l.cN,{children:(0,r.jsx)(a.zx,{onClick:function(){return _(!1)},children:"Dismiss"})})]})]}):(0,r.jsx)(s.u,{content:f.canReloadWorkspace,children:(0,r.jsx)(a.zx,{icon:(0,r.jsx)(o.JO,{name:"refresh"}),disabled:!0,intent:"none",children:t})})}}}]);
//# sourceMappingURL=728.776b8e65ea0b1ebb.js.map