{"version":3,"file":"static/chunks/713.e98399eebf4fda43.js","mappings":"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","sources":["webpack://_N_E/../ui-core/src/overview/OverviewTabs.tsx","webpack://_N_E/../ui-core/src/instance/InstanceBackfills.tsx","webpack://_N_E/../ui-core/src/instance/backfill/BackfillPage.tsx","webpack://_N_E/../ui-core/src/overview/OverviewAssetsRoot.tsx","webpack://_N_E/../ui-core/src/instance/RepoFilterButton.tsx","webpack://_N_E/../ui-core/src/runs/useHourWindow.tsx","webpack://_N_E/../ui-core/src/instance/NextTick.tsx","webpack://_N_E/../ui-core/src/runs/useRunsForTimeline.tsx","webpack://_N_E/../ui-core/src/overview/OverviewTimelineRoot.tsx","webpack://_N_E/../ui-core/src/overview/OverviewActivityRoot.tsx","webpack://_N_E/../ui-components/src/components/useDelayedState.tsx","webpack://_N_E/../ui-core/src/ui/SearchInputSpinner.tsx","webpack://_N_E/../ui-core/src/overview/OverviewJobsTable.tsx","webpack://_N_E/../ui-core/src/overview/sortRepoBuckets.tsx","webpack://_N_E/../ui-core/src/overview/visibleRepoKeys.tsx","webpack://_N_E/../ui-core/src/overview/OverviewJobsRoot.tsx","webpack://_N_E/../ui-core/src/overview/OverviewResourcesTable.tsx","webpack://_N_E/../ui-core/src/overview/OverviewResourcesRoot.tsx","webpack://_N_E/../ui-core/src/instigation/Unloadable.tsx","webpack://_N_E/../ui-core/src/ui/Filters/useCodeLocationFilter.tsx","webpack://_N_E/../ui-core/src/overview/OverviewSchedulesTable.tsx","webpack://_N_E/../ui-core/src/overview/OverviewSchedulesRoot.tsx","webpack://_N_E/../ui-core/src/overview/OverviewSensorsTable.tsx","webpack://_N_E/../ui-core/src/overview/OverviewSensorsRoot.tsx","webpack://_N_E/../ui-core/src/overview/OverviewRoot.tsx","webpack://_N_E/../ui-core/src/runs/RunListTabs.tsx","webpack://_N_E/<anon>"],"sourcesContent":["import {QueryResult} from '@apollo/client';\nimport {Box, Tabs} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {QueryRefreshCountdown, QueryRefreshState} from '../app/QueryRefresh';\nimport {TabLink} from '../ui/TabLink';\n\ninterface Props<TData> {\n  refreshState?: QueryRefreshState;\n  queryData?: QueryResult<TData, any>;\n  tab: string;\n}\n\nexport const OverviewTabs = <TData extends Record<string, any>>(props: Props<TData>) => {\n  const {refreshState, tab} = props;\n\n  return (\n    <Box flex={{direction: 'row', justifyContent: 'space-between', alignItems: 'flex-end'}}>\n      <Tabs selectedTabId={tab}>\n        <TabLink id=\"activity\" title=\"Activity\" to=\"/overview/activity\" />\n        <TabLink id=\"jobs\" title=\"Jobs\" to=\"/overview/jobs\" />\n        <TabLink id=\"schedules\" title=\"Schedules\" to=\"/overview/schedules\" />\n        <TabLink id=\"sensors\" title=\"Sensors\" to=\"/overview/sensors\" />\n        <TabLink id=\"resources\" title=\"Resources\" to=\"/overview/resources\" />\n        <TabLink id=\"backfills\" title=\"Backfills\" to=\"/overview/backfills\" />\n      </Tabs>\n      {refreshState ? (\n        <Box padding={{bottom: 8}}>\n          <QueryRefreshCountdown refreshState={refreshState} />\n        </Box>\n      ) : null}\n    </Box>\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {\n  Box,\n  CursorPaginationControls,\n  NonIdealState,\n  PageHeader,\n  Heading,\n  Page,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {OverviewTabs} from '../overview/OverviewTabs';\nimport {DaemonNotRunningAlertBody} from '../partitions/BackfillMessaging';\nimport {useCursorPaginatedQuery} from '../runs/useCursorPaginatedQuery';\nimport {Loading} from '../ui/Loading';\n\nimport {INSTANCE_HEALTH_FRAGMENT} from './InstanceHealthFragment';\nimport {BackfillTable, BACKFILL_TABLE_FRAGMENT} from './backfill/BackfillTable';\nimport {\n  InstanceBackfillsQuery,\n  InstanceBackfillsQueryVariables,\n  InstanceHealthForBackfillsQuery,\n  InstanceHealthForBackfillsQueryVariables,\n} from './types/InstanceBackfills.types';\n\nconst PAGE_SIZE = 10;\n\nexport const InstanceBackfills = () => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Backfills');\n\n  const queryData = useQuery<\n    InstanceHealthForBackfillsQuery,\n    InstanceHealthForBackfillsQueryVariables\n  >(INSTANCE_HEALTH_FOR_BACKFILLS_QUERY);\n\n  const {queryResult, paginationProps} = useCursorPaginatedQuery<\n    InstanceBackfillsQuery,\n    InstanceBackfillsQueryVariables\n  >({\n    query: BACKFILLS_QUERY,\n    variables: {},\n    pageSize: PAGE_SIZE,\n    nextCursorForResult: (result) =>\n      result.partitionBackfillsOrError.__typename === 'PartitionBackfills'\n        ? result.partitionBackfillsOrError.results[PAGE_SIZE - 1]?.id\n        : undefined,\n    getResultArray: (result) =>\n      result?.partitionBackfillsOrError.__typename === 'PartitionBackfills'\n        ? result.partitionBackfillsOrError.results\n        : [],\n  });\n  const refreshState = useQueryRefreshAtInterval(queryResult, FIFTEEN_SECONDS);\n\n  return (\n    <Page>\n      <PageHeader\n        title={<Heading>Overview</Heading>}\n        tabs={<OverviewTabs tab=\"backfills\" refreshState={refreshState} />}\n      />\n      <Loading queryResult={queryResult} allowStaleData={true}>\n        {({partitionBackfillsOrError}) => {\n          if (partitionBackfillsOrError.__typename === 'PythonError') {\n            return <PythonErrorInfo error={partitionBackfillsOrError} />;\n          }\n\n          if (!partitionBackfillsOrError.results.length) {\n            return (\n              <Box padding={{vertical: 64}}>\n                <NonIdealState\n                  icon=\"no-results\"\n                  title=\"No backfills found\"\n                  description={<p>This instance does not have any backfill jobs.</p>}\n                />\n              </Box>\n            );\n          }\n\n          const daemonHealths = queryData.data?.instance.daemonHealth.allDaemonStatuses || [];\n          const backfillHealths = daemonHealths\n            .filter((daemon) => daemon.daemonType === 'BACKFILL')\n            .map((daemon) => daemon.required && daemon.healthy);\n          const isBackfillHealthy = backfillHealths.length && backfillHealths.every((x) => x);\n          return (\n            <div>\n              {isBackfillHealthy ? null : (\n                <Box padding={{horizontal: 24, vertical: 16}}>\n                  <DaemonNotRunningAlertBody />\n                </Box>\n              )}\n              <BackfillTable\n                backfills={partitionBackfillsOrError.results.slice(0, PAGE_SIZE)}\n                refetch={queryResult.refetch}\n              />\n              {partitionBackfillsOrError.results.length > 0 ? (\n                <div style={{marginTop: '16px'}}>\n                  <CursorPaginationControls {...paginationProps} />\n                </div>\n              ) : null}\n            </div>\n          );\n        }}\n      </Loading>\n    </Page>\n  );\n};\n\nconst INSTANCE_HEALTH_FOR_BACKFILLS_QUERY = gql`\n  query InstanceHealthForBackfillsQuery {\n    instance {\n      id\n      ...InstanceHealthFragment\n    }\n  }\n\n  ${INSTANCE_HEALTH_FRAGMENT}\n`;\n\nconst BACKFILLS_QUERY = gql`\n  query InstanceBackfillsQuery($cursor: String, $limit: Int) {\n    partitionBackfillsOrError(cursor: $cursor, limit: $limit) {\n      ... on PartitionBackfills {\n        results {\n          id\n          status\n          isValidSerialization\n          numPartitions\n          timestamp\n          partitionSetName\n          partitionSet {\n            id\n            name\n            mode\n            pipelineName\n            repositoryOrigin {\n              id\n              repositoryName\n              repositoryLocationName\n            }\n          }\n          error {\n            ...PythonErrorFragment\n          }\n\n          ...BackfillTableFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n  ${BACKFILL_TABLE_FRAGMENT}\n`;\n","import {gql, useQuery} from '@apollo/client';\nimport {\n  Page,\n  PageHeader,\n  Colors,\n  Box,\n  Tag,\n  Table,\n  Spinner,\n  Dialog,\n  Button,\n  DialogFooter,\n  ButtonLink,\n  NonIdealState,\n  Heading,\n} from '@dagster-io/ui-components';\nimport dayjs from 'dayjs';\nimport duration from 'dayjs/plugin/duration';\nimport relativeTime from 'dayjs/plugin/relativeTime';\nimport React from 'react';\nimport {Link, useParams} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../../app/PythonErrorInfo';\nimport {QueryRefreshCountdown, useQueryRefreshAtInterval} from '../../app/QueryRefresh';\nimport {useTrackPageView} from '../../app/analytics';\nimport {Timestamp} from '../../app/time/Timestamp';\nimport {tokenForAssetKey} from '../../asset-graph/Utils';\nimport {assetDetailsPathForKey} from '../../assets/assetDetailsPathForKey';\nimport {BulkActionStatus, RunStatus} from '../../graphql/types';\nimport {useDocumentTitle} from '../../hooks/useDocumentTitle';\nimport {TruncatedTextWithFullTextOnHover} from '../../nav/getLeftNavItemsForOption';\nimport {RunFilterToken, runsPathWithFilters} from '../../runs/RunsFilterInput';\nimport {testId} from '../../testing/testId';\nimport {VirtualizedItemListForDialog} from '../../ui/VirtualizedItemListForDialog';\nimport {numberFormatter} from '../../ui/formatters';\n\nimport {BACKFILL_ACTIONS_BACKFILL_FRAGMENT, BackfillActionsMenu} from './BackfillActionsMenu';\nimport {BackfillStatusTagForPage} from './BackfillStatusTagForPage';\nimport {\n  BackfillStatusesByAssetQuery,\n  BackfillStatusesByAssetQueryVariables,\n  PartitionBackfillFragment,\n} from './types/BackfillPage.types';\n\ndayjs.extend(duration);\ndayjs.extend(relativeTime);\n\nexport const BackfillPage = () => {\n  const {backfillId} = useParams<{backfillId: string}>();\n  useTrackPageView();\n  useDocumentTitle(`Backfill | ${backfillId}`);\n\n  const queryResult = useQuery<BackfillStatusesByAssetQuery, BackfillStatusesByAssetQueryVariables>(\n    BACKFILL_DETAILS_QUERY,\n    {variables: {backfillId}},\n  );\n\n  const {data} = queryResult;\n\n  const backfill =\n    data?.partitionBackfillOrError.__typename === 'PartitionBackfill'\n      ? data.partitionBackfillOrError\n      : null;\n\n  // for asset backfills, all of the requested runs have concluded in order for the status to be BulkActionStatus.COMPLETED\n  const isInProgress = backfill\n    ? [BulkActionStatus.REQUESTED, BulkActionStatus.CANCELING].includes(backfill.status)\n    : true;\n\n  const refreshState = useQueryRefreshAtInterval(queryResult, 10000, isInProgress);\n\n  function content() {\n    if (!data || !data.partitionBackfillOrError) {\n      return (\n        <Box padding={64} data-testid={testId('page-loading-indicator')}>\n          <Spinner purpose=\"page\" />\n        </Box>\n      );\n    }\n    if (data.partitionBackfillOrError.__typename === 'PythonError') {\n      return <PythonErrorInfo error={data.partitionBackfillOrError} />;\n    }\n    if (data.partitionBackfillOrError.__typename === 'BackfillNotFoundError') {\n      return <NonIdealState icon=\"no-results\" title={data.partitionBackfillOrError.message} />;\n    }\n\n    const backfill = data.partitionBackfillOrError;\n\n    function getRunsUrl(status: 'inProgress' | 'complete' | 'failed' | 'targeted') {\n      const filters: RunFilterToken[] = [\n        {\n          token: 'tag',\n          value: `dagster/backfill=${backfillId}`,\n        },\n      ];\n      switch (status) {\n        case 'inProgress':\n          filters.push(\n            {\n              token: 'status',\n              value: RunStatus.STARTED,\n            },\n            {\n              token: 'status',\n              value: RunStatus.QUEUED,\n            },\n            {\n              token: 'status',\n              value: RunStatus.STARTING,\n            },\n            {\n              token: 'status',\n              value: RunStatus.CANCELING,\n            },\n            {\n              token: 'status',\n              value: RunStatus.NOT_STARTED,\n            },\n          );\n          break;\n        case 'complete':\n          filters.push({\n            token: 'status',\n            value: RunStatus.SUCCESS,\n          });\n          break;\n        case 'failed':\n          filters.push({\n            token: 'status',\n            value: RunStatus.FAILURE,\n          });\n          filters.push({\n            token: 'status',\n            value: RunStatus.CANCELED,\n          });\n          break;\n      }\n      return runsPathWithFilters(filters);\n    }\n\n    const linkQuery = () => {\n      if (backfill.assetBackfillData?.rootAssetTargetedRanges?.length === 1) {\n        const ranges = backfill.assetBackfillData?.rootAssetTargetedRanges;\n        if (ranges?.length) {\n          const {start, end} = ranges[0]!;\n          return {default_range: `[${start}...${end}]`};\n        }\n      }\n      return undefined;\n    };\n\n    return (\n      <>\n        <Box\n          padding={24}\n          flex={{\n            direction: 'row',\n            justifyContent: 'space-between',\n            wrap: 'nowrap',\n            alignItems: 'center',\n          }}\n          data-testid={testId('backfill-page-details')}\n        >\n          <Detail\n            label=\"Created\"\n            detail={\n              <Timestamp\n                timestamp={{ms: Number(backfill.timestamp * 1000)}}\n                timeFormat={{showSeconds: true, showTimezone: false}}\n              />\n            }\n          />\n          <Detail\n            label=\"Duration\"\n            detail={\n              <Duration\n                start={backfill.timestamp * 1000}\n                end={backfill.endTimestamp ? backfill.endTimestamp * 1000 : null}\n              />\n            }\n          />\n          <Detail\n            label=\"Partition selection\"\n            detail={\n              <PartitionSelection\n                numPartitions={backfill.numPartitions || 0}\n                rootAssetTargetedPartitions={\n                  backfill.assetBackfillData?.rootAssetTargetedPartitions\n                }\n                rootAssetTargetedRanges={backfill.assetBackfillData?.rootAssetTargetedRanges}\n              />\n            }\n          />\n          <Detail label=\"Status\" detail={<BackfillStatusTagForPage backfill={backfill} />} />\n        </Box>\n        <Table>\n          <thead>\n            <tr>\n              <th style={{width: '50%'}}>Asset name</th>\n              <th>\n                <Link to={getRunsUrl('targeted')}>Partitions targeted</Link>\n              </th>\n              <th>\n                <Link to={getRunsUrl('inProgress')}>In progress</Link>\n              </th>\n              <th>\n                <Link to={getRunsUrl('complete')}>Completed</Link>\n              </th>\n              <th>\n                <Link to={getRunsUrl('failed')}>Failed</Link>\n              </th>\n            </tr>\n          </thead>\n          <tbody>\n            {backfill.assetBackfillData?.assetBackfillStatuses.map((asset) => {\n              let targeted;\n              let inProgress;\n              let completed;\n              let failed;\n              if (asset.__typename === 'AssetPartitionsStatusCounts') {\n                targeted = asset.numPartitionsTargeted;\n                inProgress = asset.numPartitionsInProgress;\n                completed = asset.numPartitionsMaterialized;\n                failed = asset.numPartitionsFailed;\n              } else {\n                targeted = 1;\n                failed = asset.failed ? 1 : 0;\n                inProgress = asset.inProgress ? 1 : 0;\n                completed = asset.materialized ? 1 : 0;\n              }\n              return (\n                <tr\n                  key={tokenForAssetKey(asset.assetKey)}\n                  data-testid={testId(`backfill-asset-row-${tokenForAssetKey(asset.assetKey)}`)}\n                >\n                  <td>\n                    <Box flex={{direction: 'row', justifyContent: 'space-between'}}>\n                      <div>\n                        <Link to={assetDetailsPathForKey(asset.assetKey, linkQuery())}>\n                          {asset.assetKey.path.join('/')}\n                        </Link>\n                      </div>\n                      <div>\n                        <StatusBar\n                          targeted={targeted}\n                          inProgress={inProgress}\n                          completed={completed}\n                          failed={failed}\n                        />\n                      </div>\n                    </Box>\n                  </td>\n                  {asset.__typename === 'AssetPartitionsStatusCounts' ? (\n                    <>\n                      <td>{targeted}</td>\n                      <td>{inProgress}</td>\n                      <td>{completed}</td>\n                      <td>{failed}</td>\n                    </>\n                  ) : (\n                    <>\n                      <td>-</td>\n                      <td>\n                        {inProgress ? (\n                          <Tag icon=\"spinner\" intent=\"primary\">\n                            In progress\n                          </Tag>\n                        ) : (\n                          '-'\n                        )}\n                      </td>\n                      <td>{completed ? <Tag intent=\"success\">Completed</Tag> : '-'}</td>\n                      <td>{failed ? <Tag intent=\"danger\">Failed</Tag> : '-'}</td>\n                    </>\n                  )}\n                </tr>\n              );\n            })}\n          </tbody>\n        </Table>\n      </>\n    );\n  }\n\n  return (\n    <Page>\n      <PageHeader\n        title={\n          <Heading>\n            <Link to=\"/overview/backfills\" style={{color: Colors.Gray700}}>\n              Backfills\n            </Link>\n            {' / '}\n            {backfillId}\n          </Heading>\n        }\n        right={\n          <Box flex={{gap: 12, alignItems: 'center'}}>\n            {isInProgress ? <QueryRefreshCountdown refreshState={refreshState} /> : null}\n            {backfill ? (\n              <BackfillActionsMenu\n                backfill={backfill}\n                refetch={queryResult.refetch}\n                canCancelRuns={backfill.status === BulkActionStatus.REQUESTED}\n              />\n            ) : null}\n          </Box>\n        }\n      />\n      {content()}\n    </Page>\n  );\n};\n\nconst Detail = ({label, detail}: {label: JSX.Element | string; detail: JSX.Element | string}) => (\n  <Box flex={{direction: 'column', gap: 4}} style={{minWidth: '280px'}}>\n    <Label>{label}</Label>\n    <div>{detail}</div>\n  </Box>\n);\n\nfunction StatusBar({\n  targeted,\n  inProgress,\n  completed,\n  failed,\n}: {\n  targeted: number;\n  inProgress: number;\n  completed: number;\n  failed: number;\n}) {\n  return (\n    <div\n      style={{\n        borderRadius: '8px',\n        backgroundColor: Colors.Gray100,\n        display: 'grid',\n        gridTemplateColumns: `${(100 * completed) / targeted}% ${(100 * failed) / targeted}% ${\n          (100 * inProgress) / targeted\n        }%`,\n        gridTemplateRows: '100%',\n        height: '12px',\n        width: '200px',\n        overflow: 'hidden',\n      }}\n    >\n      <div style={{background: Colors.Green500}} />\n      <div style={{background: Colors.Red500}} />\n      <div style={{background: Colors.Blue200}} />\n    </div>\n  );\n}\n\nconst Label = styled.div`\n  color: ${Colors.Gray700};\n  font-size: 12px;\n  line-height: 16px;\n`;\n\nconst Duration = ({start, end}: {start: number; end?: number | null}) => {\n  const [_, rerender] = React.useReducer((s: number, _: any) => s + 1, 0);\n  React.useEffect(() => {\n    if (end) {\n      return;\n    }\n    // re-render once a minute to update the \"time ago\"\n    const intervalId = setInterval(rerender, 60000);\n    return () => clearInterval(intervalId);\n  }, [start, end]);\n  const duration = end ? end - start : Date.now() - start;\n\n  return <span>{formatDuration(duration)}</span>;\n};\n\nexport const BACKFILL_DETAILS_QUERY = gql`\n  query BackfillStatusesByAsset($backfillId: String!) {\n    partitionBackfillOrError(backfillId: $backfillId) {\n      ...PartitionBackfillFragment\n      ...PythonErrorFragment\n      ... on BackfillNotFoundError {\n        message\n      }\n    }\n  }\n\n  fragment PartitionBackfillFragment on PartitionBackfill {\n    id\n    status\n    timestamp\n    endTimestamp\n    numPartitions\n    ...BackfillActionsBackfillFragment\n\n    error {\n      ...PythonErrorFragment\n    }\n    assetBackfillData {\n      rootAssetTargetedRanges {\n        start\n        end\n      }\n      rootAssetTargetedPartitions\n      assetBackfillStatuses {\n        ... on AssetPartitionsStatusCounts {\n          assetKey {\n            path\n          }\n          numPartitionsTargeted\n          numPartitionsInProgress\n          numPartitionsMaterialized\n          numPartitionsFailed\n        }\n        ... on UnpartitionedAssetStatus {\n          assetKey {\n            path\n          }\n          inProgress\n          materialized\n          failed\n        }\n      }\n    }\n  }\n  ${PYTHON_ERROR_FRAGMENT}\n  ${BACKFILL_ACTIONS_BACKFILL_FRAGMENT}\n`;\n\nconst COLLATOR = new Intl.Collator(navigator.language, {sensitivity: 'base', numeric: true});\n\ntype AssetBackfillData = Extract<\n  PartitionBackfillFragment['assetBackfillData'],\n  {__typename: 'AssetBackfillData'}\n>;\n\nexport const PartitionSelection = ({\n  numPartitions,\n  rootAssetTargetedRanges,\n  rootAssetTargetedPartitions,\n}: {\n  numPartitions: number;\n  rootAssetTargetedRanges?: AssetBackfillData['rootAssetTargetedRanges'];\n  rootAssetTargetedPartitions?: AssetBackfillData['rootAssetTargetedPartitions'];\n}) => {\n  const [isDialogOpen, setIsDialogOpen] = React.useState(false);\n\n  if (rootAssetTargetedPartitions) {\n    if (rootAssetTargetedPartitions.length <= 3) {\n      return (\n        <Box flex={{direction: 'row', gap: 8, wrap: 'wrap'}}>\n          {rootAssetTargetedPartitions.map((p) => (\n            <Tag key={p}>{p}</Tag>\n          ))}\n        </Box>\n      );\n    }\n\n    return (\n      <>\n        <ButtonLink onClick={() => setIsDialogOpen(true)}>\n          {numberFormatter.format(numPartitions)} partitions\n        </ButtonLink>\n        <Dialog\n          isOpen={isDialogOpen}\n          title={`Partition selection (${rootAssetTargetedPartitions.length})`}\n          onClose={() => setIsDialogOpen(false)}\n        >\n          <div style={{height: '340px', overflow: 'hidden'}}>\n            <VirtualizedItemListForDialog\n              items={[...rootAssetTargetedPartitions].sort((a, b) => COLLATOR.compare(a, b))}\n              renderItem={(assetKey) => (\n                <div key={assetKey}>\n                  <TruncatedTextWithFullTextOnHover text={assetKey} />\n                </div>\n              )}\n            />\n          </div>\n          <DialogFooter topBorder>\n            <Button onClick={() => setIsDialogOpen(false)}>Close</Button>\n          </DialogFooter>\n        </Dialog>\n      </>\n    );\n  }\n\n  if (rootAssetTargetedRanges) {\n    if (rootAssetTargetedRanges?.length === 1) {\n      const {start, end} = rootAssetTargetedRanges[0]!;\n      return (\n        <div>\n          {start}...{end}\n        </div>\n      );\n    }\n\n    return (\n      <>\n        <ButtonLink onClick={() => setIsDialogOpen(true)}>\n          {numberFormatter.format(numPartitions)} partitions\n        </ButtonLink>\n        <Dialog\n          isOpen={isDialogOpen}\n          title={`Partition selection (${rootAssetTargetedRanges?.length})`}\n          onClose={() => setIsDialogOpen(false)}\n        >\n          <div style={{height: '340px', overflow: 'hidden'}}>\n            <VirtualizedItemListForDialog\n              items={rootAssetTargetedRanges || []}\n              renderItem={({start, end}) => {\n                return <div key={`${start}:${end}`}>{`${start}...${end}`}</div>;\n              }}\n            />\n          </div>\n          <DialogFooter topBorder>\n            <Button onClick={() => setIsDialogOpen(false)}>Close</Button>\n          </DialogFooter>\n        </Dialog>\n      </>\n    );\n  }\n\n  return <div>{numPartitions === 1 ? '1 partition' : `${numPartitions} partitions`}</div>;\n};\n\nconst formatDuration = (duration: number) => {\n  const seconds = Math.floor((duration / 1000) % 60);\n  const minutes = Math.floor((duration / (1000 * 60)) % 60);\n  const hours = Math.floor((duration / (1000 * 60 * 60)) % 24);\n  const days = Math.floor(duration / (1000 * 60 * 60 * 24));\n\n  let result = '';\n  if (days > 0) {\n    result += `${days}d `;\n    result += `${hours}h`;\n  } else if (hours > 0) {\n    result += `${hours}h `;\n    result += `${minutes}m`;\n  } else if (minutes > 0) {\n    result += `${minutes}m `;\n    result += `${seconds}s`;\n  }\n  return result.trim();\n};\n","import {useQuery} from '@apollo/client';\nimport {\n  Box,\n  Spinner,\n  Colors,\n  Icon,\n  Tag,\n  useViewport,\n  Select,\n  MenuItem,\n  Caption,\n  TextInput,\n} from '@dagster-io/ui-components';\nimport {useVirtualizer} from '@tanstack/react-virtual';\nimport * as React from 'react';\nimport {Link} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {StatusCase, buildAssetNodeStatusContent} from '../asset-graph/AssetNodeStatusContent';\nimport {displayNameForAssetKey, toGraphId} from '../asset-graph/Utils';\nimport {useLiveDataForAssetKeys} from '../asset-graph/useLiveDataForAssetKeys';\nimport {partitionCountString} from '../assets/AssetNodePartitionCounts';\nimport {ASSET_CATALOG_TABLE_QUERY} from '../assets/AssetsCatalogTable';\nimport {assetDetailsPathForKey} from '../assets/assetDetailsPathForKey';\nimport {\n  AssetCatalogTableQuery,\n  AssetCatalogTableQueryVariables,\n} from '../assets/types/AssetsCatalogTable.types';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {RepositoryLink} from '../nav/RepositoryLink';\nimport {Container, HeaderCell, Inner, Row, RowCell} from '../ui/VirtualizedTable';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {workspacePathFromAddress} from '../workspace/workspacePath';\n\ntype Props = {\n  Header: React.FC<{refreshState: ReturnType<typeof useQueryRefreshAtInterval>}>;\n  TabButton: React.FC<{selected: 'timeline' | 'assets'}>;\n};\nexport const OverviewAssetsRoot = ({Header, TabButton}: Props) => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Assets');\n\n  const query = useQuery<AssetCatalogTableQuery, AssetCatalogTableQueryVariables>(\n    ASSET_CATALOG_TABLE_QUERY,\n    {\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n  const refreshState = useQueryRefreshAtInterval(query, FIFTEEN_SECONDS);\n\n  const groupedAssetsUnfiltered = React.useMemo(() => {\n    if (query.data?.assetsOrError.__typename === 'AssetConnection') {\n      const assets = query.data.assetsOrError.nodes;\n      return groupAssets(assets);\n    }\n    return [];\n  }, [query.data?.assetsOrError]);\n\n  const [searchValue, setSearchValue] = useQueryPersistedState<string>({\n    queryKey: 'q',\n    decode: (qs) => (qs.searchQuery ? JSON.parse(qs.searchQuery) : ''),\n    encode: (searchQuery) => ({searchQuery: searchQuery ? JSON.stringify(searchQuery) : undefined}),\n  });\n\n  const groupedAssets = React.useMemo(() => {\n    if (searchValue === '') {\n      return groupedAssetsUnfiltered;\n    }\n    return groupedAssetsUnfiltered.filter((group) => {\n      return (\n        (group.groupName || UNGROUPED_ASSETS).toLowerCase().includes(searchValue.toLowerCase()) ||\n        group.repositoryName.toLowerCase().includes(searchValue.toLowerCase())\n      );\n    });\n  }, [groupedAssetsUnfiltered, searchValue]);\n\n  const parentRef = React.useRef<HTMLDivElement | null>(null);\n\n  const rowVirtualizer = useVirtualizer({\n    count: groupedAssets.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: () => 82,\n    overscan: 5,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  function content() {\n    const result = query.data?.assetsOrError;\n    if (!query.data && query.loading) {\n      return (\n        <Box\n          flex={{alignItems: 'center', justifyContent: 'center', direction: 'column', grow: 1}}\n          style={{width: '100%'}}\n        >\n          <Spinner purpose=\"page\" />\n        </Box>\n      );\n    }\n    if (result?.__typename === 'PythonError') {\n      return (\n        <Box\n          flex={{alignItems: 'center', justifyContent: 'center', direction: 'column', grow: 1}}\n          style={{width: '100%'}}\n        >\n          <PythonErrorInfo error={result} />\n        </Box>\n      );\n    }\n\n    return (\n      <Box flex={{direction: 'column'}} style={{overflow: 'hidden'}}>\n        <Container ref={parentRef}>\n          <VirtualHeaderRow />\n          <Inner $totalHeight={totalHeight}>\n            {items.map(({index, key, size, start}) => {\n              const group = groupedAssets[index]!;\n              return <VirtualRow key={key} start={start} height={size} group={group} />;\n            })}\n          </Inner>\n        </Container>\n      </Box>\n    );\n  }\n\n  return (\n    <>\n      <div style={{position: 'sticky', top: 0, zIndex: 1}}>\n        <Header refreshState={refreshState} />\n        <Box\n          padding={{horizontal: 24, vertical: 16}}\n          flex={{alignItems: 'center', gap: 12, grow: 0}}\n        >\n          <TabButton selected=\"assets\" />\n          <TextInput\n            value={searchValue}\n            onChange={(e) => {\n              setSearchValue(e.target.value);\n            }}\n            placeholder=\"Filter asset groups…\"\n          />\n        </Box>\n      </div>\n      {content()}\n    </>\n  );\n};\n\ntype Assets = Extract<\n  AssetCatalogTableQuery['assetsOrError'],\n  {__typename: 'AssetConnection'}\n>['nodes'];\n\nfunction groupAssets(assets: Assets) {\n  const groups: Record<\n    string,\n    {\n      groupName: string | null;\n      repositoryName: string;\n      assets: Assets;\n    }\n  > = {};\n\n  assets.forEach((asset) => {\n    if (!asset.definition) {\n      return;\n    }\n    const groupName = asset.definition.groupName;\n    const repositoryName = asset.definition.repository.name;\n    const key = `${groupName}||${repositoryName}`;\n    const target = groups[key] || {\n      groupName,\n      repositoryName,\n      assets: [] as Assets,\n    };\n    target.assets.push(asset);\n    groups[key] = target;\n  });\n  return Object.values(groups);\n}\n\nconst TEMPLATE_COLUMNS = '5fr 1fr 1fr 1fr 1fr';\n\nfunction VirtualHeaderRow() {\n  return (\n    <Box\n      border=\"top-and-bottom\"\n      style={{\n        display: 'grid',\n        gridTemplateColumns: TEMPLATE_COLUMNS,\n        height: '32px',\n        fontSize: '12px',\n        color: Colors.Gray600,\n        position: 'sticky',\n        top: 0,\n        zIndex: 1,\n        background: Colors.White,\n      }}\n    >\n      <HeaderCell>Group name</HeaderCell>\n      <HeaderCell>Missing</HeaderCell>\n      <HeaderCell>Failed/Overdue</HeaderCell>\n      <HeaderCell>In progress</HeaderCell>\n      <HeaderCell>Materialized</HeaderCell>\n    </Box>\n  );\n}\n\nconst UNGROUPED_ASSETS = 'Ungrouped Assets';\ntype RowProps = {\n  height: number;\n  start: number;\n  group: ReturnType<typeof groupAssets>[0];\n};\nfunction VirtualRow({height, start, group}: RowProps) {\n  const assetKeys = React.useMemo(\n    () => group.assets.map((asset) => ({path: asset.key.path})),\n    [group.assets],\n  );\n\n  const {liveDataByNode} = useLiveDataForAssetKeys(assetKeys, true);\n\n  const statuses = React.useMemo(() => {\n    type assetType = (typeof group)['assets'][0];\n    type StatusesType = {asset: assetType; status: ReturnType<typeof buildAssetNodeStatusContent>};\n    const statuses = {\n      successful: [] as StatusesType[],\n      failed: [] as StatusesType[],\n      inprogress: [] as StatusesType[],\n      missing: [] as StatusesType[],\n      loading: false,\n    };\n    if (!Object.keys(liveDataByNode).length) {\n      statuses.loading = true;\n      return statuses;\n    }\n    Object.keys(liveDataByNode).forEach((key) => {\n      const assetLiveData = liveDataByNode[key];\n      const asset = group.assets.find((asset) => toGraphId(asset.key) === key);\n      if (!asset?.definition) {\n        console.warn('Expected a definition for asset with key', key);\n        return;\n      }\n      const status = buildAssetNodeStatusContent({\n        assetKey: {path: JSON.parse(key)},\n        definition: asset.definition,\n        liveData: assetLiveData,\n        expanded: true,\n      });\n      switch (status.case) {\n        case StatusCase.LOADING:\n          statuses.loading = true;\n          break;\n        case StatusCase.SOURCE_OBSERVING:\n          statuses.inprogress.push({asset, status});\n          break;\n        case StatusCase.SOURCE_OBSERVED:\n          statuses.successful.push({asset, status});\n          break;\n        case StatusCase.SOURCE_NEVER_OBSERVED:\n          statuses.missing.push({asset, status});\n          break;\n        case StatusCase.SOURCE_NO_STATE:\n          statuses.missing.push({asset, status});\n          break;\n        case StatusCase.MATERIALIZING:\n          statuses.inprogress.push({asset, status});\n          break;\n        case StatusCase.LATE_OR_FAILED:\n          statuses.failed.push({asset, status});\n          break;\n        case StatusCase.NEVER_MATERIALIZED:\n          statuses.missing.push({asset, status});\n          break;\n        case StatusCase.MATERIALIZED:\n          statuses.successful.push({asset, status});\n          break;\n        case StatusCase.PARTITIONS_FAILED:\n          statuses.failed.push({asset, status});\n          break;\n        case StatusCase.PARTITIONS_MISSING:\n          statuses.missing.push({asset, status});\n          break;\n        case StatusCase.PARTITIONS_MATERIALIZED:\n          statuses.successful.push({asset, status});\n          break;\n      }\n    });\n    return statuses;\n  }, [liveDataByNode, group.assets]);\n\n  const repo = group.assets.find((asset) => asset.definition?.repository)?.definition?.repository;\n  const repoAddress = buildRepoAddress(repo?.name || '', repo?.location.name || '');\n\n  const {containerProps, viewport} = useViewport();\n\n  const isBatchStillLoading = assetKeys.length !== Object.keys(liveDataByNode).length;\n\n  return (\n    <Row $height={height} $start={start}>\n      <RowGrid border=\"bottom\">\n        <Cell>\n          <Box flex={{direction: 'row', justifyContent: 'space-between', grow: 1}}>\n            <Box flex={{direction: 'column', gap: 2, grow: 1}}>\n              <Box flex={{direction: 'row', gap: 8}}>\n                <Icon name=\"asset_group\" />\n                {group.groupName ? (\n                  <Link\n                    style={{fontWeight: 700}}\n                    to={workspacePathFromAddress(repoAddress, `/asset-groups/${group.groupName}`)}\n                  >\n                    {group.groupName}\n                  </Link>\n                ) : (\n                  UNGROUPED_ASSETS\n                )}\n              </Box>\n              <div {...containerProps}>\n                <RepositoryLinkWrapper maxWidth={viewport.width}>\n                  <RepositoryLink repoAddress={repoAddress} showRefresh={false} />\n                </RepositoryLinkWrapper>\n              </div>\n            </Box>\n            <Box flex={{direction: 'column', justifyContent: 'center'}}>\n              {isBatchStillLoading ? <Spinner purpose=\"body-text\" /> : null}\n            </Box>\n          </Box>\n        </Cell>\n        <Cell>\n          {statuses.missing.length ? (\n            <SelectOnHover\n              assets={statuses.missing}\n              getCount={({status}) => {\n                if (status.case === StatusCase.PARTITIONS_MISSING) {\n                  return status.numMissing || 0;\n                }\n                return 0;\n              }}\n              adjective=\"missing\"\n            >\n              <Tag intent=\"none\">\n                <Box flex={{direction: 'row', alignItems: 'center', gap: 6}}>\n                  <div\n                    style={{\n                      width: '12px',\n                      height: '12px',\n                      border: `2px solid ${Colors.Gray500}`,\n                      borderRadius: '50%',\n                    }}\n                  />\n                  {statuses.missing.length}\n                </Box>\n              </Tag>\n            </SelectOnHover>\n          ) : (\n            0\n          )}\n        </Cell>\n        <Cell>\n          {statuses.failed.length ? (\n            <SelectOnHover\n              assets={statuses.failed}\n              getCount={({status}) => {\n                if (status.case === StatusCase.PARTITIONS_FAILED) {\n                  return status.numFailed || 0;\n                }\n                return 0;\n              }}\n              adjective=\"failed\"\n            >\n              <Tag intent=\"danger\">\n                <Box flex={{direction: 'row', alignItems: 'center', gap: 6}}>\n                  <div\n                    style={{\n                      width: 0,\n                      height: 0,\n                      borderLeft: '6px solid transparent',\n                      borderRight: '6px solid transparent',\n                      borderBottom: '10px solid red',\n                      display: 'inline-block',\n                    }}\n                  />\n                  {statuses.failed.length}\n                </Box>\n              </Tag>\n            </SelectOnHover>\n          ) : (\n            0\n          )}\n        </Cell>\n        <Cell>\n          {statuses.inprogress.length ? (\n            <SelectOnHover\n              assets={statuses.inprogress}\n              getCount={({status}) => {\n                if (status.case === StatusCase.MATERIALIZING) {\n                  return status.numMaterializing || 0;\n                }\n                return 0;\n              }}\n              adjective=\"materializing\"\n            >\n              <Tag intent=\"primary\" icon=\"spinner\">\n                {statuses.inprogress.length}\n              </Tag>\n            </SelectOnHover>\n          ) : (\n            0\n          )}\n        </Cell>\n        <Cell>\n          {statuses.successful.length ? (\n            <SelectOnHover\n              assets={statuses.successful}\n              getCount={({status}) => {\n                if (status.case === StatusCase.PARTITIONS_MATERIALIZED) {\n                  return status.numMaterialized || 0;\n                }\n                return 0;\n              }}\n              adjective=\"materialized\"\n            >\n              <Tag intent=\"success\">\n                <Box flex={{direction: 'row', alignItems: 'center', gap: 6}}>\n                  <div\n                    style={{\n                      backgroundColor: Colors.Green500,\n                      width: '10px',\n                      height: '10px',\n                      borderRadius: '50%',\n                    }}\n                  />\n                  {statuses.successful.length}\n                </Box>\n              </Tag>\n            </SelectOnHover>\n          ) : (\n            0\n          )}\n        </Cell>\n      </RowGrid>\n    </Row>\n  );\n}\n\nconst RowGrid = styled(Box)`\n  display: grid;\n  grid-template-columns: ${TEMPLATE_COLUMNS};\n  height: 100%;\n  > * {\n    padding-top: 26px 0px;\n  }\n`;\n\nconst Cell = ({children}: {children: React.ReactNode}) => {\n  return (\n    <RowCell style={{color: Colors.Gray900}}>\n      <Box flex={{direction: 'row', alignItems: 'center', grow: 1}}>{children}</Box>\n    </RowCell>\n  );\n};\n\nconst RepositoryLinkWrapper = styled.div<{maxWidth?: number}>`\n  font-size: 12px;\n  pointer-events: none;\n  a {\n    color: ${Colors.Gray600};\n    pointer-events: none;\n    max-width: ${({maxWidth}) => (maxWidth ? 'unset' : `${maxWidth}px`)};\n  }\n`;\n\ntype AssetWithStatusType = {\n  asset: Assets[0];\n  status: ReturnType<typeof buildAssetNodeStatusContent>;\n};\nfunction SelectOnHover({\n  assets,\n  children,\n  getCount,\n  adjective,\n}: {\n  assets: AssetWithStatusType[];\n  children: React.ReactNode;\n  getCount: (asset: AssetWithStatusType) => number;\n  adjective: string;\n}) {\n  return (\n    <SelectWrapper>\n      <Select\n        items={assets}\n        itemPredicate={(query, item) =>\n          displayNameForAssetKey(item.asset.key)\n            .toLocaleLowerCase()\n            .includes(query.toLocaleLowerCase())\n        }\n        itemRenderer={(item) => {\n          const count = getCount(item);\n          return (\n            <LinkWithNoUnderline to={assetDetailsPathForKey(item.asset.key)} target=\"_blank\">\n              <MenuItem\n                key={displayNameForAssetKey(item.asset.key)}\n                text={\n                  <Box flex={{direction: 'row', alignItems: 'center', gap: 4}}>\n                    <div style={{paddingLeft: '4px'}}>\n                      <Icon name=\"asset\" />\n                    </div>\n                    <div\n                      style={{overflow: 'hidden', whiteSpace: 'nowrap', textOverflow: 'ellipsis'}}\n                    >\n                      {displayNameForAssetKey(item.asset.key)}\n                    </div>\n                    {count && count > 0 ? (\n                      <Caption style={{color: Colors.Gray700}}>\n                        {partitionCountString(count)} {adjective}\n                      </Caption>\n                    ) : null}\n                  </Box>\n                }\n              />\n            </LinkWithNoUnderline>\n          );\n        }}\n        onItemSelect={() => {}}\n      >\n        {children}\n      </Select>\n    </SelectWrapper>\n  );\n}\n\nconst SelectWrapper = styled.div`\n  cursor: pointer;\n  &:hover {\n    font-weight: 600;\n  }\n`;\n\nconst LinkWithNoUnderline = styled(Link)`\n  &:hover {\n    text-decoration: none;\n  }\n`;\n","import {Box, Button, DialogFooter, DialogHeader, Dialog, Icon} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {RepoSelector} from '../nav/RepoSelector';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\n\nexport const RepoFilterButton: React.FC = () => {\n  const {allRepos, visibleRepos, toggleVisible} = React.useContext(WorkspaceContext);\n  const [open, setOpen] = React.useState(false);\n  return (\n    <>\n      <Dialog\n        canOutsideClickClose\n        canEscapeKeyClose\n        isOpen={open}\n        style={{width: 'auto'}}\n        onClose={() => setOpen(false)}\n      >\n        <DialogHeader icon=\"repo\" label=\"Filter code locations\" />\n        <RepoSelector\n          options={allRepos}\n          onBrowse={() => setOpen(false)}\n          onToggle={toggleVisible}\n          selected={visibleRepos}\n        />\n        <DialogFooter>\n          <Box padding={{top: 8}}>\n            <Button intent=\"none\" onClick={() => setOpen(false)}>\n              Done\n            </Button>\n          </Box>\n        </DialogFooter>\n      </Dialog>\n\n      <Button\n        intent=\"none\"\n        icon={<Icon name=\"folder\" />}\n        rightIcon={<Icon name=\"expand_more\" />}\n        onClick={() => setOpen(true)}\n      >\n        {`${visibleRepos.length} of ${allRepos.length}`}\n      </Button>\n    </>\n  );\n};\n","import * as React from 'react';\n\nimport {useStateWithStorage} from '../hooks/useStateWithStorage';\n\nconst HOUR_WINDOW_KEY = 'dagster.run-timeline-hour-window';\n\nexport type HourWindow = '1' | '6' | '12' | '24';\n\nexport const useHourWindow = (\n  defaultValue: HourWindow,\n): [HourWindow, (value: HourWindow) => void] => {\n  const validate = React.useCallback(\n    (value: string) => {\n      switch (value) {\n        case '1':\n        case '6':\n        case '12':\n        case '24':\n          return value;\n        default:\n          return defaultValue;\n      }\n    },\n    [defaultValue],\n  );\n\n  const [hourWindow, setHourWindow] = useStateWithStorage(HOUR_WINDOW_KEY, validate);\n  const setHourWindowWithDefault = React.useCallback(\n    (value: HourWindow) => {\n      setHourWindow(value || defaultValue);\n    },\n    [defaultValue, setHourWindow],\n  );\n\n  return React.useMemo(\n    () => [hourWindow, setHourWindowWithDefault],\n    [hourWindow, setHourWindowWithDefault],\n  );\n};\n","import {gql} from '@apollo/client';\n\nexport const SCHEDULE_FUTURE_TICKS_FRAGMENT = gql`\n  fragment ScheduleFutureTicksFragment on Schedule {\n    id\n    executionTimezone\n    scheduleState {\n      id\n      status\n    }\n    futureTicks(cursor: $tickCursor, until: $ticksUntil) {\n      results {\n        timestamp\n      }\n    }\n  }\n`;\n","import {gql, useQuery} from '@apollo/client';\nimport * as React from 'react';\n\nimport {isHiddenAssetGroupJob, __ASSET_JOB_PREFIX} from '../asset-graph/Utils';\nimport {InstigationStatus, RunsFilter, RunStatus} from '../graphql/types';\nimport {SCHEDULE_FUTURE_TICKS_FRAGMENT} from '../instance/NextTick';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\nimport {workspacePipelinePath} from '../workspace/workspacePath';\n\nimport {doneStatuses} from './RunStatuses';\nimport {TimelineJob, TimelineRun} from './RunTimeline';\nimport {RUN_TIME_FRAGMENT} from './RunUtils';\nimport {overlap} from './batchRunsForTimeline';\nimport {RunTimelineQuery, RunTimelineQueryVariables} from './types/useRunsForTimeline.types';\n\nexport const useRunsForTimeline = (range: [number, number], runsFilter: RunsFilter = {}) => {\n  const [start, end] = range;\n\n  const startSec = start / 1000.0;\n  const endSec = end / 1000.0;\n\n  const queryData = useQuery<RunTimelineQuery, RunTimelineQueryVariables>(RUN_TIMELINE_QUERY, {\n    notifyOnNetworkStatusChange: true,\n    variables: {\n      inProgressFilter: {\n        ...runsFilter,\n        statuses: [RunStatus.CANCELING, RunStatus.STARTED],\n        createdBefore: endSec,\n      },\n      terminatedFilter: {\n        ...runsFilter,\n        statuses: Array.from(doneStatuses),\n        createdBefore: endSec,\n        updatedAfter: startSec,\n      },\n      tickCursor: startSec,\n      ticksUntil: endSec,\n    },\n  });\n\n  const {data, previousData, loading} = queryData;\n\n  const initialLoading = loading && !data;\n  const {unterminated, terminated, workspaceOrError} = data || previousData || {};\n\n  const runsByJobKey = React.useMemo(() => {\n    const map: {[jobKey: string]: TimelineRun[]} = {};\n    const now = Date.now();\n\n    // fetch all the runs in the given range\n    [\n      ...(unterminated?.__typename === 'Runs' ? unterminated.results : []),\n      ...(terminated?.__typename === 'Runs' ? terminated.results : []),\n    ].forEach((run) => {\n      if (!run.startTime) {\n        return;\n      }\n      if (!run.repositoryOrigin) {\n        return;\n      }\n\n      if (\n        !overlap(\n          {start, end},\n          {\n            start: run.startTime * 1000,\n            end: run.endTime ? run.endTime * 1000 : now,\n          },\n        )\n      ) {\n        return;\n      }\n\n      const runJobKey = makeJobKey(\n        {\n          name: run.repositoryOrigin.repositoryName,\n          location: run.repositoryOrigin.repositoryLocationName,\n        },\n        run.pipelineName,\n      );\n\n      map[runJobKey] = [\n        ...(map[runJobKey] || []),\n        {\n          id: run.id,\n          status: run.status,\n          startTime: run.startTime * 1000,\n          endTime: run.endTime ? run.endTime * 1000 : now,\n        },\n      ];\n    });\n\n    return map;\n  }, [end, unterminated, terminated, start]);\n\n  const jobsWithRuns: TimelineJob[] = React.useMemo(() => {\n    if (!workspaceOrError || workspaceOrError.__typename !== 'Workspace') {\n      return [];\n    }\n\n    const jobs: TimelineJob[] = [];\n    for (const locationEntry of workspaceOrError.locationEntries) {\n      if (\n        locationEntry.__typename !== 'WorkspaceLocationEntry' ||\n        locationEntry.locationOrLoadError?.__typename !== 'RepositoryLocation'\n      ) {\n        continue;\n      }\n\n      const now = Date.now();\n      for (const repository of locationEntry.locationOrLoadError.repositories) {\n        const repoAddress = buildRepoAddress(\n          repository.name,\n          locationEntry.locationOrLoadError.name,\n        );\n\n        for (const pipeline of repository.pipelines) {\n          const schedules = (repository.schedules || []).filter(\n            (schedule) => schedule.pipelineName === pipeline.name,\n          );\n\n          const jobTicks: TimelineRun[] = [];\n          for (const schedule of schedules) {\n            if (schedule.scheduleState.status === InstigationStatus.RUNNING) {\n              schedule.futureTicks.results.forEach(({timestamp}) => {\n                const startTime = timestamp! * 1000;\n                if (startTime > now && overlap({start, end}, {start: startTime, end: startTime})) {\n                  jobTicks.push({\n                    id: `${schedule.pipelineName}-future-run-${timestamp}`,\n                    status: 'SCHEDULED',\n                    startTime,\n                    endTime: startTime + 5 * 1000,\n                  });\n                }\n              });\n            }\n          }\n\n          const isAdHoc = isHiddenAssetGroupJob(pipeline.name);\n          const jobKey = makeJobKey(repoAddress, pipeline.name);\n          const jobName = isAdHoc ? 'Ad hoc materializations' : pipeline.name;\n\n          const jobRuns = runsByJobKey[jobKey] || [];\n          if (!jobTicks.length && !jobRuns.length) {\n            continue;\n          }\n\n          const jobsAndTicksToAdd = [...jobRuns, ...jobTicks];\n          if (isAdHoc) {\n            const adHocJobs = jobs.find(\n              (job) => job.jobType === 'asset' && job.repoAddress === repoAddress,\n            );\n            if (adHocJobs) {\n              adHocJobs.runs.push(...jobsAndTicksToAdd);\n              continue;\n            }\n          }\n\n          jobs.push({\n            key: jobKey,\n            jobName,\n            jobType: isAdHoc ? 'asset' : 'job',\n            repoAddress,\n            path: workspacePipelinePath({\n              repoName: repoAddress.name,\n              repoLocation: repoAddress.location,\n              pipelineName: pipeline.name,\n              isJob: pipeline.isJob,\n            }),\n            runs: [...jobRuns, ...jobTicks],\n          } as TimelineJob);\n        }\n      }\n    }\n\n    const earliest = jobs.reduce(\n      (accum, job) => {\n        const startTimes = job.runs.map((job) => job.startTime);\n        return {...accum, [job.key]: Math.min(...startTimes)};\n      },\n      {} as {[jobKey: string]: number},\n    );\n\n    return jobs.sort((a, b) => earliest[a.key]! - earliest[b.key]!);\n  }, [workspaceOrError, runsByJobKey, start, end]);\n\n  return React.useMemo(\n    () => ({\n      jobs: jobsWithRuns,\n      initialLoading,\n      queryData,\n    }),\n    [initialLoading, jobsWithRuns, queryData],\n  );\n};\n\nexport const makeJobKey = (repoAddress: RepoAddress, jobName: string) =>\n  `${jobName}-${repoAddressAsHumanString(repoAddress)}`;\n\nconst RUN_TIMELINE_QUERY = gql`\n  query RunTimelineQuery(\n    $inProgressFilter: RunsFilter!\n    $terminatedFilter: RunsFilter!\n    $tickCursor: Float\n    $ticksUntil: Float\n  ) {\n    unterminated: runsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        results {\n          id\n          pipelineName\n          repositoryOrigin {\n            id\n            repositoryName\n            repositoryLocationName\n          }\n          ...RunTimeFragment\n        }\n      }\n    }\n    terminated: runsOrError(filter: $terminatedFilter) {\n      ... on Runs {\n        results {\n          id\n          pipelineName\n          repositoryOrigin {\n            id\n            repositoryName\n            repositoryLocationName\n          }\n          ...RunTimeFragment\n        }\n      }\n    }\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          name\n          loadStatus\n          displayMetadata {\n            key\n            value\n          }\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                pipelines {\n                  id\n                  name\n                  isJob\n                }\n                schedules {\n                  id\n                  name\n                  pipelineName\n                  scheduleState {\n                    id\n                    status\n                  }\n                  ...ScheduleFutureTicksFragment\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n\n  ${RUN_TIME_FRAGMENT}\n  ${SCHEDULE_FUTURE_TICKS_FRAGMENT}\n`;\n","import {Box, TextInput, Button, ButtonGroup, ErrorBoundary} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {RepoFilterButton} from '../instance/RepoFilterButton';\nimport {RunTimeline} from '../runs/RunTimeline';\nimport {useHourWindow, HourWindow} from '../runs/useHourWindow';\nimport {makeJobKey, useRunsForTimeline} from '../runs/useRunsForTimeline';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nconst LOOKAHEAD_HOURS = 1;\nconst ONE_HOUR = 60 * 60 * 1000;\nconst POLL_INTERVAL = 60 * 1000;\n\nconst hourWindowToOffset = (hourWindow: HourWindow) => {\n  switch (hourWindow) {\n    case '1':\n      return ONE_HOUR;\n    case '6':\n      return 6 * ONE_HOUR;\n    case '12':\n      return 12 * ONE_HOUR;\n    case '24':\n      return 24 * ONE_HOUR;\n  }\n};\n\ntype Props = {\n  Header: React.FC<{refreshState: ReturnType<typeof useQueryRefreshAtInterval>}>;\n  TabButton: React.FC<{selected: 'timeline' | 'assets'}>;\n};\nexport const OverviewTimelineRoot = ({Header, TabButton}: Props) => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Timeline');\n\n  const {allRepos, visibleRepos} = React.useContext(WorkspaceContext);\n\n  const [hourWindow, setHourWindow] = useHourWindow('12');\n  const [now, setNow] = React.useState(() => Date.now());\n  const [offsetMsec, setOffsetMsec] = React.useState(() => 0);\n  const [searchValue, setSearchValue] = useQueryPersistedState<string>({\n    queryKey: 'search',\n    defaults: {search: ''},\n  });\n\n  React.useEffect(() => {\n    setNow(Date.now());\n    const timer = setInterval(() => {\n      setNow(Date.now());\n    }, POLL_INTERVAL);\n\n    return () => {\n      clearInterval(timer);\n    };\n  }, [hourWindow]);\n\n  const onPageEarlier = React.useCallback(() => {\n    setOffsetMsec((current) => current - hourWindowToOffset(hourWindow));\n  }, [hourWindow]);\n\n  const onPageLater = React.useCallback(() => {\n    setOffsetMsec((current) => current + hourWindowToOffset(hourWindow));\n  }, [hourWindow]);\n\n  const onPageNow = React.useCallback(() => {\n    setOffsetMsec(0);\n  }, []);\n\n  const range: [number, number] = React.useMemo(\n    () => [\n      now - Number(hourWindow) * ONE_HOUR + offsetMsec,\n      now + LOOKAHEAD_HOURS * ONE_HOUR + offsetMsec,\n    ],\n    [hourWindow, now, offsetMsec],\n  );\n\n  const {jobs, initialLoading, queryData} = useRunsForTimeline(range);\n  const refreshState = useQueryRefreshAtInterval(queryData, FIFTEEN_SECONDS);\n\n  const visibleJobKeys = React.useMemo(() => {\n    const searchLower = searchValue.toLocaleLowerCase().trim();\n    const flat = visibleRepos.flatMap((repo) => {\n      const repoAddress = buildRepoAddress(repo.repository.name, repo.repositoryLocation.name);\n      return repo.repository.pipelines\n        .filter(({name}) => name.toLocaleLowerCase().includes(searchLower))\n        .map((job) => makeJobKey(repoAddress, job.name));\n    });\n    return new Set(flat);\n  }, [visibleRepos, searchValue]);\n\n  const visibleJobs = React.useMemo(\n    () => jobs.filter(({key}) => visibleJobKeys.has(key)),\n    [jobs, visibleJobKeys],\n  );\n\n  return (\n    <>\n      <Header refreshState={refreshState} />\n      <Box\n        padding={{horizontal: 24, vertical: 16}}\n        flex={{alignItems: 'center', justifyContent: 'space-between'}}\n      >\n        <Box flex={{direction: 'row', alignItems: 'center', gap: 12, grow: 0}}>\n          <TabButton selected=\"timeline\" />\n          {allRepos.length > 1 && <RepoFilterButton />}\n          <TextInput\n            icon=\"search\"\n            value={searchValue}\n            onChange={(e) => setSearchValue(e.target.value)}\n            placeholder=\"Filter by job name…\"\n            style={{width: '200px'}}\n          />\n        </Box>\n        <Box flex={{direction: 'row', gap: 16, alignItems: 'center'}}>\n          <ButtonGroup<HourWindow>\n            activeItems={new Set([hourWindow])}\n            buttons={[\n              {id: '1', label: '1hr'},\n              {id: '6', label: '6hr'},\n              {id: '12', label: '12hr'},\n              {id: '24', label: '24hr'},\n            ]}\n            onClick={(hrWindow: HourWindow) => setHourWindow(hrWindow)}\n          />\n          <Box flex={{direction: 'row', gap: 4, alignItems: 'center'}}>\n            <Button onClick={onPageEarlier}>&larr;</Button>\n            <Button onClick={onPageNow}>Now</Button>\n            <Button onClick={onPageLater}>&rarr;</Button>\n          </Box>\n        </Box>\n      </Box>\n      <ErrorBoundary region=\"timeline\">\n        <RunTimeline loading={initialLoading} range={range} jobs={visibleJobs} />\n      </ErrorBoundary>\n    </>\n  );\n};\n","import {PageHeader, Heading, Box, JoinedButtons} from '@dagster-io/ui-components';\nimport * as React from 'react';\nimport {Redirect, Route, Switch} from 'react-router-dom';\n\nimport {useTrackPageView} from '../app/analytics';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useStateWithStorage} from '../hooks/useStateWithStorage';\nimport {ActivatableButton} from '../runs/RunListTabs';\n\nimport {OverviewAssetsRoot} from './OverviewAssetsRoot';\nimport {OverviewTabs} from './OverviewTabs';\nimport {OverviewTimelineRoot} from './OverviewTimelineRoot';\n\nexport const OverviewActivityRoot = () => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Activity');\n\n  const header = React.useCallback(\n    ({refreshState}: {refreshState: React.ComponentProps<typeof OverviewTabs>['refreshState']}) => (\n      <PageHeader\n        title={<Heading>Overview</Heading>}\n        tabs={<OverviewTabs tab=\"activity\" refreshState={refreshState} />}\n      />\n    ),\n    [],\n  );\n\n  const [defaultTab, setDefaultTab] = useStateWithStorage<'timeline' | 'assets'>(\n    'overview-activity-tab',\n    (json) => (['timeline', 'assets'].includes(json) ? json : 'timeline'),\n  );\n\n  const tabButton = React.useCallback(\n    ({selected}: {selected: 'timeline' | 'assets'}) => {\n      if (defaultTab !== selected) {\n        setDefaultTab(selected);\n      }\n      return (\n        <JoinedButtons>\n          <ActivatableButton $active={selected === 'timeline'} to=\"/overview/activity/timeline\">\n            Timeline\n          </ActivatableButton>\n          <ActivatableButton $active={selected === 'assets'} to=\"/overview/activity/assets\">\n            Assets\n          </ActivatableButton>\n        </JoinedButtons>\n      );\n    },\n    [defaultTab, setDefaultTab],\n  );\n\n  return (\n    <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n      <Switch>\n        <Route path=\"/overview/activity/assets\">\n          <OverviewAssetsRoot Header={header} TabButton={tabButton} />\n        </Route>\n        <Route path=\"/overview/activity/timeline\">\n          <OverviewTimelineRoot Header={header} TabButton={tabButton} />\n        </Route>\n        <Route\n          path=\"*\"\n          render={React.useCallback(\n            () =>\n              defaultTab === 'timeline' ? (\n                <Redirect to=\"/overview/activity/timeline\" />\n              ) : (\n                <Redirect to=\"/overview/activity/assets\" />\n              ),\n            [defaultTab],\n          )}\n        />\n      </Switch>\n    </Box>\n  );\n};\n","import * as React from 'react';\n\nexport const useDelayedState = (delayMsec: number) => {\n  const [value, setValue] = React.useState(false);\n\n  React.useEffect(() => {\n    const timer = setTimeout(() => setValue(true), delayMsec);\n    return () => clearTimeout(timer);\n  }, [delayMsec]);\n\n  return value;\n};\n","import {Box, Spinner, Tooltip, useDelayedState} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\ninterface Props {\n  tooltipContent: string | React.ReactElement | null;\n}\n\nconst SPINNER_WAIT_MSEC = 2000;\n\nexport const SearchInputSpinner = (props: Props) => {\n  const {tooltipContent} = props;\n  const canShowSpinner = useDelayedState(SPINNER_WAIT_MSEC);\n\n  if (!canShowSpinner) {\n    return null;\n  }\n\n  return (\n    <Box margin={{top: 1}}>\n      <Tooltip placement=\"top\" canShow={!!tooltipContent} content={tooltipContent || ''}>\n        <Spinner purpose=\"body-text\" />\n      </Tooltip>\n    </Box>\n  );\n};\n","import {Tag, Tooltip} from '@dagster-io/ui-components';\nimport {useVirtualizer} from '@tanstack/react-virtual';\nimport * as React from 'react';\n\nimport {Container, Inner} from '../ui/VirtualizedTable';\nimport {findDuplicateRepoNames} from '../ui/findDuplicateRepoNames';\nimport {useRepoExpansionState} from '../ui/useRepoExpansionState';\nimport {VirtualizedJobHeader, VirtualizedJobRow} from '../workspace/VirtualizedJobRow';\nimport {RepoRow} from '../workspace/VirtualizedWorkspaceTable';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {OVERVIEW_COLLAPSED_KEY} from './OverviewExpansionKey';\n\ntype Repository = {\n  repoAddress: RepoAddress;\n  jobs: {\n    isJob: boolean;\n    name: string;\n  }[];\n};\n\ninterface Props {\n  repos: Repository[];\n}\n\ntype RowType =\n  | {type: 'header'; repoAddress: RepoAddress; jobCount: number}\n  | {type: 'job'; repoAddress: RepoAddress; isJob: boolean; name: string};\n\nexport const OverviewJobsTable: React.FC<Props> = ({repos}) => {\n  const parentRef = React.useRef<HTMLDivElement | null>(null);\n  const allKeys = React.useMemo(\n    () => repos.map(({repoAddress}) => repoAddressAsHumanString(repoAddress)),\n    [repos],\n  );\n\n  const {expandedKeys, onToggle, onToggleAll} = useRepoExpansionState(\n    OVERVIEW_COLLAPSED_KEY,\n    allKeys,\n  );\n\n  const flattened: RowType[] = React.useMemo(() => {\n    const flat: RowType[] = [];\n    repos.forEach(({repoAddress, jobs}) => {\n      flat.push({type: 'header', repoAddress, jobCount: jobs.length});\n      const repoKey = repoAddressAsHumanString(repoAddress);\n      if (expandedKeys.includes(repoKey)) {\n        jobs.forEach(({isJob, name}) => {\n          flat.push({type: 'job', repoAddress, isJob, name});\n        });\n      }\n    });\n    return flat;\n  }, [repos, expandedKeys]);\n\n  const duplicateRepoNames = findDuplicateRepoNames(repos.map(({repoAddress}) => repoAddress.name));\n\n  const rowVirtualizer = useVirtualizer({\n    count: flattened.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: (ii: number) => {\n      const row = flattened[ii];\n      return row?.type === 'header' ? 32 : 64;\n    },\n    overscan: 10,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  return (\n    <>\n      <VirtualizedJobHeader />\n      <div style={{overflow: 'hidden'}}>\n        <Container ref={parentRef}>\n          <Inner $totalHeight={totalHeight}>\n            {items.map(({index, key, size, start}) => {\n              const row: RowType = flattened[index]!;\n              const type = row!.type;\n              return type === 'header' ? (\n                <RepoRow\n                  repoAddress={row.repoAddress}\n                  key={key}\n                  height={size}\n                  start={start}\n                  onToggle={onToggle}\n                  onToggleAll={onToggleAll}\n                  expanded={expandedKeys.includes(repoAddressAsHumanString(row.repoAddress))}\n                  showLocation={duplicateRepoNames.has(row.repoAddress.name)}\n                  rightElement={\n                    <Tooltip\n                      content={row.jobCount === 1 ? '1 job' : `${row.jobCount} jobs`}\n                      placement=\"top\"\n                    >\n                      <Tag>{row.jobCount}</Tag>\n                    </Tooltip>\n                  }\n                />\n              ) : (\n                <VirtualizedJobRow\n                  key={key}\n                  name={row.name}\n                  isJob={row.isJob}\n                  repoAddress={row.repoAddress}\n                  height={size}\n                  start={start}\n                />\n              );\n            })}\n          </Inner>\n        </Container>\n      </div>\n    </>\n  );\n};\n","import {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\ninterface Bucket {\n  repoAddress: RepoAddress;\n}\n\nexport const sortRepoBuckets = <B extends Bucket>(buckets: B[]) => {\n  return [...buckets].sort((a, b) => {\n    const aString = repoAddressAsHumanString(a.repoAddress);\n    const bString = repoAddressAsHumanString(b.repoAddress);\n    return aString.localeCompare(bString);\n  });\n};\n","import {DagsterRepoOption} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\n\nexport const visibleRepoKeys = (visibleRepos: DagsterRepoOption[]) => {\n  return new Set(\n    visibleRepos.map((option) =>\n      repoAddressAsHumanString(\n        buildRepoAddress(option.repository.name, option.repositoryLocation.name),\n      ),\n    ),\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {\n  Box,\n  Colors,\n  Heading,\n  NonIdealState,\n  PageHeader,\n  Spinner,\n  TextInput,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {isHiddenAssetGroupJob} from '../asset-graph/Utils';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {RepoFilterButton} from '../instance/RepoFilterButton';\nimport {SearchInputSpinner} from '../ui/SearchInputSpinner';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {OverviewJobsTable} from './OverviewJobsTable';\nimport {OverviewTabs} from './OverviewTabs';\nimport {sortRepoBuckets} from './sortRepoBuckets';\nimport {OverviewJobsQuery, OverviewJobsQueryVariables} from './types/OverviewJobsRoot.types';\nimport {visibleRepoKeys} from './visibleRepoKeys';\n\nexport const OverviewJobsRoot = () => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Jobs');\n\n  const {allRepos, visibleRepos, loading: workspaceLoading} = React.useContext(WorkspaceContext);\n  const [searchValue, setSearchValue] = useQueryPersistedState<string>({\n    queryKey: 'search',\n    defaults: {search: ''},\n  });\n\n  const repoCount = allRepos.length;\n\n  const queryResultOverview = useQuery<OverviewJobsQuery, OverviewJobsQueryVariables>(\n    OVERVIEW_JOBS_QUERY,\n    {\n      fetchPolicy: 'network-only',\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n  const {data, loading} = queryResultOverview;\n\n  const refreshState = useQueryRefreshAtInterval(queryResultOverview, FIFTEEN_SECONDS);\n\n  // Batch up the data and bucket by repo.\n  const repoBuckets = React.useMemo(() => {\n    const visibleKeys = visibleRepoKeys(visibleRepos);\n    return buildBuckets(data).filter(({repoAddress}) =>\n      visibleKeys.has(repoAddressAsHumanString(repoAddress)),\n    );\n  }, [data, visibleRepos]);\n\n  const sanitizedSearch = searchValue.trim().toLocaleLowerCase();\n  const anySearch = sanitizedSearch.length > 0;\n\n  const filteredBySearch = React.useMemo(() => {\n    const searchToLower = sanitizedSearch.toLocaleLowerCase();\n    return repoBuckets\n      .map(({repoAddress, jobs}) => ({\n        repoAddress,\n        jobs: jobs.filter(({name}) => name.toLocaleLowerCase().includes(searchToLower)),\n      }))\n      .filter(({jobs}) => jobs.length > 0);\n  }, [repoBuckets, sanitizedSearch]);\n\n  const content = () => {\n    if (loading && !data) {\n      return (\n        <Box flex={{direction: 'row', justifyContent: 'center'}} style={{paddingTop: '100px'}}>\n          <Box flex={{direction: 'row', alignItems: 'center', gap: 16}}>\n            <Spinner purpose=\"body-text\" />\n            <div style={{color: Colors.Gray600}}>Loading jobs…</div>\n          </Box>\n        </Box>\n      );\n    }\n\n    const anyReposHidden = allRepos.length > visibleRepos.length;\n\n    if (!filteredBySearch.length) {\n      if (anySearch) {\n        return (\n          <Box padding={{top: 20}}>\n            <NonIdealState\n              icon=\"search\"\n              title=\"No matching jobs\"\n              description={\n                anyReposHidden ? (\n                  <div>\n                    No jobs matching <strong>{searchValue}</strong> were found in the selected code\n                    locations\n                  </div>\n                ) : (\n                  <div>\n                    No jobs matching <strong>{searchValue}</strong> were found in your definitions\n                  </div>\n                )\n              }\n            />\n          </Box>\n        );\n      }\n\n      return (\n        <Box padding={{top: 20}}>\n          <NonIdealState\n            icon=\"search\"\n            title=\"No jobs\"\n            description={\n              anyReposHidden\n                ? 'No jobs were found in the selected code locations'\n                : 'No jobs were found in your definitions'\n            }\n          />\n        </Box>\n      );\n    }\n\n    return <OverviewJobsTable repos={filteredBySearch} />;\n  };\n\n  const showSearchSpinner = (workspaceLoading && !repoCount) || (loading && !data);\n\n  return (\n    <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n      <PageHeader\n        title={<Heading>Overview</Heading>}\n        tabs={<OverviewTabs tab=\"jobs\" refreshState={refreshState} />}\n      />\n      <Box\n        padding={{horizontal: 24, vertical: 16}}\n        flex={{direction: 'row', alignItems: 'center', gap: 12, grow: 0}}\n      >\n        {repoCount > 1 ? <RepoFilterButton /> : null}\n        <TextInput\n          icon=\"search\"\n          value={searchValue}\n          rightElement={\n            showSearchSpinner ? <SearchInputSpinner tooltipContent=\"Loading jobs…\" /> : undefined\n          }\n          onChange={(e) => setSearchValue(e.target.value)}\n          placeholder=\"Filter by job name…\"\n          style={{width: '340px'}}\n        />\n      </Box>\n      {loading && !repoCount ? (\n        <Box padding={64}>\n          <Spinner purpose=\"page\" />\n        </Box>\n      ) : (\n        content()\n      )}\n    </Box>\n  );\n};\n\ntype RepoBucket = {\n  repoAddress: RepoAddress;\n  jobs: {\n    isJob: boolean;\n    name: string;\n  }[];\n};\n\nconst buildBuckets = (data?: OverviewJobsQuery): RepoBucket[] => {\n  if (data?.workspaceOrError.__typename !== 'Workspace') {\n    return [];\n  }\n\n  const entries = data.workspaceOrError.locationEntries.map((entry) => entry.locationOrLoadError);\n  const buckets = [];\n\n  for (const entry of entries) {\n    if (entry?.__typename !== 'RepositoryLocation') {\n      continue;\n    }\n\n    for (const repo of entry.repositories) {\n      const {name, pipelines} = repo;\n      const repoAddress = buildRepoAddress(name, entry.name);\n      const jobs = pipelines\n        .filter(({name}) => !isHiddenAssetGroupJob(name))\n        .map((pipeline) => {\n          return {\n            isJob: pipeline.isJob,\n            name: pipeline.name,\n          };\n        });\n\n      if (jobs.length > 0) {\n        buckets.push({\n          repoAddress,\n          jobs,\n        });\n      }\n    }\n  }\n\n  return sortRepoBuckets(buckets);\n};\n\nconst OVERVIEW_JOBS_QUERY = gql`\n  query OverviewJobsQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                pipelines {\n                  id\n                  name\n                  isJob\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {Tag, Tooltip} from '@dagster-io/ui-components';\nimport {useVirtualizer} from '@tanstack/react-virtual';\nimport * as React from 'react';\n\nimport {\n  VirtualizedResourceHeader,\n  VirtualizedResourceRow,\n} from '../resources/VirtualizedResourceRow';\nimport {ResourceEntryFragment} from '../resources/types/WorkspaceResourcesRoot.types';\nimport {Container, Inner} from '../ui/VirtualizedTable';\nimport {findDuplicateRepoNames} from '../ui/findDuplicateRepoNames';\nimport {useRepoExpansionState} from '../ui/useRepoExpansionState';\nimport {RepoRow} from '../workspace/VirtualizedWorkspaceTable';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {OVERVIEW_COLLAPSED_KEY} from './OverviewExpansionKey';\n\ntype Repository = {\n  repoAddress: RepoAddress;\n  resources: ResourceEntryFragment[];\n};\n\ninterface Props {\n  repos: Repository[];\n}\n\ninterface Resource extends ResourceEntryFragment {\n  type: 'resource';\n  repoAddress: RepoAddress;\n}\n\ntype RowType = {type: 'header'; repoAddress: RepoAddress; resourceCount: number} | Resource;\n\nexport const OverviewResourcesTable: React.FC<Props> = ({repos}) => {\n  const parentRef = React.useRef<HTMLDivElement | null>(null);\n  const allKeys = React.useMemo(\n    () => repos.map(({repoAddress}) => repoAddressAsHumanString(repoAddress)),\n    [repos],\n  );\n\n  const {expandedKeys, onToggle, onToggleAll} = useRepoExpansionState(\n    OVERVIEW_COLLAPSED_KEY,\n    allKeys,\n  );\n\n  const flattened: RowType[] = React.useMemo(() => {\n    const flat: RowType[] = [];\n    repos.forEach(({repoAddress, resources}) => {\n      flat.push({type: 'header', repoAddress, resourceCount: resources.length});\n      const repoKey = repoAddressAsHumanString(repoAddress);\n      if (expandedKeys.includes(repoKey)) {\n        resources.forEach((resource) => {\n          flat.push({type: 'resource', repoAddress, ...resource});\n        });\n      }\n    });\n    return flat;\n  }, [repos, expandedKeys]);\n\n  const duplicateRepoNames = findDuplicateRepoNames(repos.map(({repoAddress}) => repoAddress.name));\n\n  const rowVirtualizer = useVirtualizer({\n    count: flattened.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: (ii: number) => {\n      const row = flattened[ii];\n      return row?.type === 'header' ? 32 : 64;\n    },\n    overscan: 10,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  return (\n    <>\n      <VirtualizedResourceHeader />\n      <div style={{overflow: 'hidden'}}>\n        <Container ref={parentRef}>\n          <Inner $totalHeight={totalHeight}>\n            {items.map(({index, key, size, start}) => {\n              const row: RowType = flattened[index]!;\n              const type = row!.type;\n              return type === 'header' ? (\n                <RepoRow\n                  repoAddress={row.repoAddress}\n                  key={key}\n                  height={size}\n                  start={start}\n                  onToggle={onToggle}\n                  onToggleAll={onToggleAll}\n                  expanded={expandedKeys.includes(repoAddressAsHumanString(row.repoAddress))}\n                  showLocation={duplicateRepoNames.has(row.repoAddress.name)}\n                  rightElement={\n                    <Tooltip\n                      content={\n                        row.resourceCount === 1 ? '1 resource' : `${row.resourceCount} resources`\n                      }\n                      placement=\"top\"\n                    >\n                      <Tag>{row.resourceCount}</Tag>\n                    </Tooltip>\n                  }\n                />\n              ) : (\n                <VirtualizedResourceRow key={key} height={size} start={start} {...row} />\n              );\n            })}\n          </Inner>\n        </Container>\n      </div>\n    </>\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {\n  Box,\n  Colors,\n  Heading,\n  NonIdealState,\n  PageHeader,\n  Spinner,\n  TextInput,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {FIFTEEN_SECONDS, useQueryRefreshAtInterval} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {RepoFilterButton} from '../instance/RepoFilterButton';\nimport {RESOURCE_ENTRY_FRAGMENT} from '../resources/WorkspaceResourcesRoot';\nimport {ResourceEntryFragment} from '../resources/types/WorkspaceResourcesRoot.types';\nimport {SearchInputSpinner} from '../ui/SearchInputSpinner';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {OverviewResourcesTable} from './OverviewResourcesTable';\nimport {OverviewTabs} from './OverviewTabs';\nimport {sortRepoBuckets} from './sortRepoBuckets';\nimport {\n  OverviewResourcesQuery,\n  OverviewResourcesQueryVariables,\n} from './types/OverviewResourcesRoot.types';\nimport {visibleRepoKeys} from './visibleRepoKeys';\n\nexport const OverviewResourcesRoot = () => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Resources');\n\n  const {allRepos, visibleRepos, loading: workspaceLoading} = React.useContext(WorkspaceContext);\n  const [searchValue, setSearchValue] = useQueryPersistedState<string>({\n    queryKey: 'search',\n    defaults: {search: ''},\n  });\n\n  const repoCount = allRepos.length;\n\n  const queryResultOverview = useQuery<OverviewResourcesQuery, OverviewResourcesQueryVariables>(\n    OVERVIEW_RESOURCES_QUERY,\n    {\n      fetchPolicy: 'network-only',\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n  const {data, loading} = queryResultOverview;\n\n  const refreshState = useQueryRefreshAtInterval(queryResultOverview, FIFTEEN_SECONDS);\n\n  // Batch up the data and bucket by repo.\n  const repoBuckets = React.useMemo(() => {\n    const visibleKeys = visibleRepoKeys(visibleRepos);\n    return buildBuckets(data).filter(({repoAddress}) =>\n      visibleKeys.has(repoAddressAsHumanString(repoAddress)),\n    );\n  }, [data, visibleRepos]);\n\n  const sanitizedSearch = searchValue.trim().toLocaleLowerCase();\n  const anySearch = sanitizedSearch.length > 0;\n\n  const filteredBySearch = React.useMemo(() => {\n    const searchToLower = sanitizedSearch.toLocaleLowerCase();\n    return repoBuckets\n      .map(({repoAddress, resources}) => ({\n        repoAddress,\n        resources: resources.filter(({name}) => name.toLocaleLowerCase().includes(searchToLower)),\n      }))\n      .filter(({resources}) => resources.length > 0);\n  }, [repoBuckets, sanitizedSearch]);\n\n  const content = () => {\n    if (loading && !data) {\n      return (\n        <Box flex={{direction: 'row', justifyContent: 'center'}} style={{paddingTop: '100px'}}>\n          <Box flex={{direction: 'row', alignItems: 'center', gap: 16}}>\n            <Spinner purpose=\"body-text\" />\n            <div style={{color: Colors.Gray600}}>Loading resources…</div>\n          </Box>\n        </Box>\n      );\n    }\n\n    const anyReposHidden = allRepos.length > visibleRepos.length;\n\n    if (!filteredBySearch.length) {\n      if (anySearch) {\n        return (\n          <Box padding={{top: 20}}>\n            <NonIdealState\n              icon=\"search\"\n              title=\"No matching resources\"\n              description={\n                anyReposHidden ? (\n                  <div>\n                    No resources matching <strong>{searchValue}</strong> were found in the selected\n                    code locations\n                  </div>\n                ) : (\n                  <div>\n                    No resources matching <strong>{searchValue}</strong> were found in your\n                    definitions\n                  </div>\n                )\n              }\n            />\n          </Box>\n        );\n      }\n\n      return (\n        <Box padding={{top: 20}}>\n          <NonIdealState\n            icon=\"search\"\n            title=\"No resources\"\n            description={\n              anyReposHidden\n                ? 'No resources were found in the selected code locations'\n                : 'No resources were found in your definitions'\n            }\n          />\n        </Box>\n      );\n    }\n\n    return <OverviewResourcesTable repos={filteredBySearch} />;\n  };\n\n  const showSearchSpinner = (workspaceLoading && !repoCount) || (loading && !data);\n\n  return (\n    <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n      <PageHeader\n        title={<Heading>Overview</Heading>}\n        tabs={<OverviewTabs tab=\"resources\" refreshState={refreshState} />}\n      />\n      <Box\n        padding={{horizontal: 24, vertical: 16}}\n        flex={{direction: 'row', alignItems: 'center', gap: 12, grow: 0}}\n      >\n        {repoCount > 1 ? <RepoFilterButton /> : null}\n        <TextInput\n          icon=\"search\"\n          value={searchValue}\n          rightElement={\n            showSearchSpinner ? (\n              <SearchInputSpinner tooltipContent=\"Loading resources…\" />\n            ) : undefined\n          }\n          onChange={(e) => setSearchValue(e.target.value)}\n          placeholder=\"Filter by resource name…\"\n          style={{width: '340px'}}\n        />\n      </Box>\n      {loading && !repoCount ? (\n        <Box padding={64}>\n          <Spinner purpose=\"page\" />\n        </Box>\n      ) : (\n        content()\n      )}\n    </Box>\n  );\n};\n\ntype RepoBucket = {\n  repoAddress: RepoAddress;\n  resources: ResourceEntryFragment[];\n};\n\nconst buildBuckets = (data?: OverviewResourcesQuery): RepoBucket[] => {\n  if (data?.workspaceOrError.__typename !== 'Workspace') {\n    return [];\n  }\n\n  const entries = data.workspaceOrError.locationEntries.map((entry) => entry.locationOrLoadError);\n  const buckets = [];\n\n  for (const entry of entries) {\n    if (entry?.__typename !== 'RepositoryLocation') {\n      continue;\n    }\n\n    for (const repo of entry.repositories) {\n      const {name, allTopLevelResourceDetails} = repo;\n      const repoAddress = buildRepoAddress(name, entry.name);\n\n      if (allTopLevelResourceDetails.length > 0) {\n        buckets.push({\n          repoAddress,\n          resources: allTopLevelResourceDetails,\n        });\n      }\n    }\n  }\n\n  return sortRepoBuckets(buckets);\n};\n\nconst OVERVIEW_RESOURCES_QUERY = gql`\n  query OverviewResourcesQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                allTopLevelResourceDetails {\n                  ...ResourceEntryFragment\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${PYTHON_ERROR_FRAGMENT}\n  ${RESOURCE_ENTRY_FRAGMENT}\n`;\n","import {useMutation} from '@apollo/client';\nimport {\n  Alert,\n  Box,\n  Checkbox,\n  Colors,\n  Group,\n  Table,\n  Subheading,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {useConfirmation} from '../app/CustomConfirmationProvider';\nimport {DEFAULT_DISABLED_REASON} from '../app/Permissions';\nimport {InstigationStatus, InstigationType} from '../graphql/types';\nimport {\n  displayScheduleMutationErrors,\n  STOP_SCHEDULE_MUTATION,\n} from '../schedules/ScheduleMutations';\nimport {humanCronString} from '../schedules/humanCronString';\nimport {\n  StopScheduleMutation,\n  StopScheduleMutationVariables,\n} from '../schedules/types/ScheduleMutations.types';\nimport {displaySensorMutationErrors, STOP_SENSOR_MUTATION} from '../sensors/SensorMutations';\nimport {\n  StopRunningSensorMutation,\n  StopRunningSensorMutationVariables,\n} from '../sensors/types/SensorMutations.types';\nimport {InstigatorSelectorInformation} from '../workspace/RepositoryInformation';\n\nimport {TickTag} from './InstigationTick';\nimport {InstigatedRunStatus} from './InstigationUtils';\nimport {InstigationStateFragment} from './types/InstigationUtils.types';\n\nexport const UnloadableSensors: React.FC<{\n  sensorStates: InstigationStateFragment[];\n  showSubheading?: boolean;\n}> = ({sensorStates, showSubheading = true}) => {\n  if (!sensorStates.length) {\n    return null;\n  }\n  return (\n    <>\n      <Box padding={{vertical: 16, horizontal: 20}}>\n        {showSubheading ? <Subheading>Unloadable sensors</Subheading> : null}\n        <UnloadableSensorInfo />\n      </Box>\n      <Table>\n        <thead>\n          <tr>\n            <th style={{maxWidth: '60px'}}></th>\n            <th>Sensor name</th>\n            <th style={{width: '100px'}}>Last tick</th>\n            <th>Last run</th>\n          </tr>\n        </thead>\n        <tbody>\n          {sensorStates.map((sensorState) => (\n            <SensorStateRow sensorState={sensorState} key={sensorState.id} />\n          ))}\n        </tbody>\n      </Table>\n    </>\n  );\n};\n\nexport const UnloadableSchedules: React.FC<{\n  scheduleStates: InstigationStateFragment[];\n  showSubheading?: boolean;\n}> = ({scheduleStates, showSubheading = true}) => {\n  if (!scheduleStates.length) {\n    return null;\n  }\n  return (\n    <>\n      <Box padding={{vertical: 16, horizontal: 20}}>\n        {showSubheading ? <Subheading>Unloadable schedules</Subheading> : null}\n        <UnloadableScheduleInfo />\n      </Box>\n      <Table>\n        <thead>\n          <tr>\n            <th style={{maxWidth: '60px'}}></th>\n            <th>Schedule name</th>\n            <th style={{width: '150px'}}>Schedule</th>\n            <th style={{width: '100px'}}>Last tick</th>\n            <th>Last run</th>\n            <th>Partition set status</th>\n          </tr>\n        </thead>\n        <tbody>\n          {scheduleStates.map((scheduleState) => (\n            <ScheduleStateRow scheduleState={scheduleState} key={scheduleState.id} />\n          ))}\n        </tbody>\n      </Table>\n    </>\n  );\n};\n\nconst UnloadableSensorInfo = () => (\n  <Alert\n    intent=\"warning\"\n    title={\n      <div>\n        Note: You can turn off any of the following sensors, but you cannot turn them back on.{' '}\n      </div>\n    }\n    description={\n      <div>\n        The following sensors were previously started but now cannot be loaded. They may be part of\n        a different workspace or from a sensor or code location that no longer exists in code. You\n        can turn them off, but you cannot turn them back on since they can’t be loaded.\n      </div>\n    }\n  />\n);\n\nconst UnloadableScheduleInfo = () => (\n  <Alert\n    intent=\"warning\"\n    title={\n      <div>\n        Note: You can turn off any of the following schedules, but you cannot turn them back on.\n      </div>\n    }\n    description={\n      <div>\n        The following schedules were previously started but now cannot be loaded. They may be part\n        of a different workspace or from a schedule or code location that no longer exists in code.\n        You can turn them off, but you cannot turn them back on since they can’t be loaded.\n      </div>\n    }\n  />\n);\n\nconst SensorStateRow = ({sensorState}: {sensorState: InstigationStateFragment}) => {\n  const {id, selectorId, name, status, ticks, hasStopPermission} = sensorState;\n\n  const [stopSensor, {loading: toggleOffInFlight}] = useMutation<\n    StopRunningSensorMutation,\n    StopRunningSensorMutationVariables\n  >(STOP_SENSOR_MUTATION, {\n    onCompleted: displaySensorMutationErrors,\n  });\n  const confirm = useConfirmation();\n\n  const onChangeSwitch = async () => {\n    if (status === InstigationStatus.RUNNING) {\n      await confirm({\n        title: 'Are you sure you want to turn off this sensor?',\n        description:\n          'The definition for this sensor is not available. ' +\n          'If you turn it off, you will not be able to turn it back on from ' +\n          'the currently loaded workspace.',\n      });\n      stopSensor({variables: {jobOriginId: id, jobSelectorId: selectorId}});\n    }\n  };\n\n  const lacksPermission = status === InstigationStatus.RUNNING && !hasStopPermission;\n  const latestTick = ticks.length ? ticks[0] : null;\n\n  const checkbox = () => {\n    const element = (\n      <Checkbox\n        format=\"switch\"\n        disabled={toggleOffInFlight || status === InstigationStatus.STOPPED || lacksPermission}\n        checked={status === InstigationStatus.RUNNING}\n        onChange={onChangeSwitch}\n      />\n    );\n\n    return lacksPermission ? (\n      <Tooltip content={DEFAULT_DISABLED_REASON}>{element}</Tooltip>\n    ) : (\n      element\n    );\n  };\n\n  return (\n    <tr key={name}>\n      <td style={{width: 60}}>{checkbox()}</td>\n      <td>\n        <Group direction=\"row\" spacing={8} alignItems=\"center\">\n          {name}\n        </Group>\n        <InstigatorSelectorInformation instigatorState={sensorState} />\n      </td>\n      <td>\n        {latestTick ? (\n          <TickTag tick={latestTick} instigationType={InstigationType.SENSOR} />\n        ) : (\n          <span style={{color: Colors.Gray300}}>None</span>\n        )}\n      </td>\n      <td>\n        <div style={{display: 'flex'}}>\n          <InstigatedRunStatus instigationState={sensorState} />\n        </div>\n      </td>\n    </tr>\n  );\n};\n\nconst ScheduleStateRow: React.FC<{\n  scheduleState: InstigationStateFragment;\n}> = ({scheduleState}) => {\n  const [stopSchedule, {loading: toggleOffInFlight}] = useMutation<\n    StopScheduleMutation,\n    StopScheduleMutationVariables\n  >(STOP_SCHEDULE_MUTATION, {\n    onCompleted: displayScheduleMutationErrors,\n  });\n  const confirm = useConfirmation();\n  const {id, selectorId, name, ticks, status, typeSpecificData} = scheduleState;\n  const latestTick = ticks.length > 0 ? ticks[0] : null;\n  const cronSchedule =\n    typeSpecificData && typeSpecificData.__typename === 'ScheduleData'\n      ? typeSpecificData.cronSchedule\n      : null;\n  const onChangeSwitch = async () => {\n    if (status === InstigationStatus.RUNNING) {\n      await confirm({\n        title: 'Are you sure you want to stop this schedule?',\n        description:\n          'The definition for this schedule is not available. ' +\n          'If you turn it off, you will not be able to turn it back on from ' +\n          'the currently loaded workspace.',\n      });\n      stopSchedule({variables: {scheduleOriginId: id, scheduleSelectorId: selectorId}});\n    }\n  };\n\n  const lacksPermission = status === InstigationStatus.RUNNING && !scheduleState.hasStopPermission;\n  const checkbox = () => {\n    const element = (\n      <Checkbox\n        format=\"switch\"\n        checked={status === InstigationStatus.RUNNING}\n        disabled={status !== InstigationStatus.RUNNING || toggleOffInFlight || lacksPermission}\n        onChange={onChangeSwitch}\n      />\n    );\n\n    return lacksPermission ? (\n      <Tooltip content={DEFAULT_DISABLED_REASON}>{element}</Tooltip>\n    ) : (\n      element\n    );\n  };\n\n  return (\n    <tr key={name}>\n      <td style={{width: 60}}>{checkbox()}</td>\n      <td>\n        <Group direction=\"row\" spacing={8} alignItems=\"center\">\n          <div>{name}</div>\n        </Group>\n        <InstigatorSelectorInformation instigatorState={scheduleState} />\n      </td>\n      <td style={{maxWidth: 150}}>\n        <div\n          style={{\n            position: 'relative',\n            width: '100%',\n            whiteSpace: 'pre-wrap',\n            display: 'block',\n          }}\n        >\n          {cronSchedule ? (\n            <Tooltip position=\"bottom\" content={cronSchedule}>\n              {humanCronString(cronSchedule)}\n            </Tooltip>\n          ) : (\n            <div>&mdash;</div>\n          )}\n        </div>\n      </td>\n      <td>\n        {latestTick ? (\n          <TickTag tick={latestTick} instigationType={InstigationType.SCHEDULE} />\n        ) : null}\n      </td>\n      <td>\n        <InstigatedRunStatus instigationState={scheduleState} />\n      </td>\n      <td>\n        <div style={{display: 'flex'}}>&mdash;</div>\n      </td>\n    </tr>\n  );\n};\n","import * as React from 'react';\n\nimport {TruncatedTextWithFullTextOnHover} from '../../nav/getLeftNavItemsForOption';\nimport {WorkspaceContext} from '../../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../../workspace/repoAddressAsString';\nimport {RepoAddress} from '../../workspace/types';\n\nimport {useStaticSetFilter} from './useStaticSetFilter';\n\nexport const useCodeLocationFilter = () => {\n  const {allRepos, visibleRepos, setVisible, setHidden} = React.useContext(WorkspaceContext);\n\n  const allRepoAddresses = React.useMemo(() => {\n    return allRepos.map((repo) =>\n      buildRepoAddress(repo.repository.name, repo.repositoryLocation.name),\n    );\n  }, [allRepos]);\n\n  const visibleRepoAddresses = React.useMemo(() => {\n    return visibleRepos.length === allRepos.length\n      ? []\n      : visibleRepos.map((repo) =>\n          buildRepoAddress(repo.repository.name, repo.repositoryLocation.name),\n        );\n  }, [allRepos, visibleRepos]);\n\n  return useStaticSetFilter<RepoAddress>({\n    name: 'Code location',\n    icon: 'folder',\n    initialState: visibleRepoAddresses,\n    allValues: allRepoAddresses.map((repoAddress) => {\n      return {value: repoAddress, match: [repoAddressAsHumanString(repoAddress)]};\n    }),\n    getKey: (repoAddress) => repoAddressAsHumanString(repoAddress),\n    renderLabel: ({value}) => (\n      <TruncatedTextWithFullTextOnHover text={repoAddressAsHumanString(value)} />\n    ),\n    getStringValue: (value) => repoAddressAsHumanString(value),\n    onStateChanged: (state: Set<RepoAddress>) => {\n      if (state.size === 0) {\n        setVisible(allRepoAddresses);\n        return;\n      }\n\n      const hidden = allRepoAddresses.filter((repoAddress) => !state.has(repoAddress));\n      setHidden(hidden);\n      setVisible(Array.from(state));\n    },\n    menuWidth: '500px',\n  });\n};\n","import {Tag, Tooltip} from '@dagster-io/ui-components';\nimport {useVirtualizer} from '@tanstack/react-virtual';\nimport * as React from 'react';\n\nimport {makeScheduleKey} from '../schedules/makeScheduleKey';\nimport {Container, Inner} from '../ui/VirtualizedTable';\nimport {findDuplicateRepoNames} from '../ui/findDuplicateRepoNames';\nimport {useRepoExpansionState} from '../ui/useRepoExpansionState';\nimport {\n  VirtualizedScheduleHeader,\n  VirtualizedScheduleRow,\n} from '../workspace/VirtualizedScheduleRow';\nimport {RepoRow} from '../workspace/VirtualizedWorkspaceTable';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {OVERVIEW_COLLAPSED_KEY} from './OverviewExpansionKey';\nimport {BasicInstigationStateFragment} from './types/BasicInstigationStateFragment.types';\n\ntype ScheduleInfo = {name: string; scheduleState: BasicInstigationStateFragment};\n\ntype Repository = {\n  repoAddress: RepoAddress;\n  schedules: ScheduleInfo[];\n};\n\ninterface Props {\n  repos: Repository[];\n  headerCheckbox: React.ReactNode;\n  checkedKeys: Set<string>;\n  onToggleCheckFactory: (path: string) => (values: {checked: boolean; shiftKey: boolean}) => void;\n}\n\ntype RowType =\n  | {type: 'header'; repoAddress: RepoAddress; scheduleCount: number}\n  | {type: 'schedule'; repoAddress: RepoAddress; schedule: ScheduleInfo};\n\nexport const OverviewScheduleTable = ({\n  repos,\n  headerCheckbox,\n  checkedKeys,\n  onToggleCheckFactory,\n}: Props) => {\n  const parentRef = React.useRef<HTMLDivElement | null>(null);\n  const allKeys = React.useMemo(\n    () => repos.map(({repoAddress}) => repoAddressAsHumanString(repoAddress)),\n    [repos],\n  );\n\n  const {expandedKeys, onToggle, onToggleAll} = useRepoExpansionState(\n    OVERVIEW_COLLAPSED_KEY,\n    allKeys,\n  );\n\n  const flattened: RowType[] = React.useMemo(() => {\n    const flat: RowType[] = [];\n    repos.forEach(({repoAddress, schedules}) => {\n      flat.push({type: 'header', repoAddress, scheduleCount: schedules.length});\n      const repoKey = repoAddressAsHumanString(repoAddress);\n      if (expandedKeys.includes(repoKey)) {\n        schedules.forEach((schedule) => {\n          flat.push({type: 'schedule', repoAddress, schedule});\n        });\n      }\n    });\n    return flat;\n  }, [repos, expandedKeys]);\n\n  const duplicateRepoNames = findDuplicateRepoNames(repos.map(({repoAddress}) => repoAddress.name));\n\n  const rowVirtualizer = useVirtualizer({\n    count: flattened.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: (ii: number) => {\n      const row = flattened[ii];\n      return row?.type === 'header' ? 32 : 64;\n    },\n    overscan: 10,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  return (\n    <>\n      <VirtualizedScheduleHeader checkbox={headerCheckbox} />\n      <div style={{overflow: 'hidden'}}>\n        <Container ref={parentRef}>\n          <Inner $totalHeight={totalHeight}>\n            {items.map(({index, key, size, start}) => {\n              const row: RowType = flattened[index]!;\n              const type = row!.type;\n              if (type === 'header') {\n                return (\n                  <RepoRow\n                    repoAddress={row.repoAddress}\n                    key={key}\n                    height={size}\n                    start={start}\n                    onToggle={onToggle}\n                    onToggleAll={onToggleAll}\n                    expanded={expandedKeys.includes(repoAddressAsHumanString(row.repoAddress))}\n                    showLocation={duplicateRepoNames.has(row.repoAddress.name)}\n                    rightElement={\n                      <Tooltip\n                        content={\n                          row.scheduleCount === 1 ? '1 schedule' : `${row.scheduleCount} schedules`\n                        }\n                        placement=\"top\"\n                      >\n                        <Tag>{row.scheduleCount}</Tag>\n                      </Tooltip>\n                    }\n                  />\n                );\n              }\n\n              const scheduleKey = makeScheduleKey(row.repoAddress, row.schedule.name);\n\n              return (\n                <VirtualizedScheduleRow\n                  key={key}\n                  name={row.schedule.name}\n                  scheduleState={row.schedule.scheduleState}\n                  showCheckboxColumn={!!headerCheckbox}\n                  checked={checkedKeys.has(scheduleKey)}\n                  onToggleChecked={onToggleCheckFactory(scheduleKey)}\n                  repoAddress={row.repoAddress}\n                  height={size}\n                  start={start}\n                />\n              );\n            })}\n          </Inner>\n        </Container>\n      </div>\n    </>\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {\n  Alert,\n  Box,\n  Button,\n  Colors,\n  Dialog,\n  DialogFooter,\n  Heading,\n  NonIdealState,\n  PageHeader,\n  Spinner,\n  TextInput,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {useQueryRefreshAtInterval, FIFTEEN_SECONDS} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {useSelectionReducer} from '../hooks/useSelectionReducer';\nimport {INSTANCE_HEALTH_FRAGMENT} from '../instance/InstanceHealthFragment';\nimport {INSTIGATION_STATE_FRAGMENT} from '../instigation/InstigationUtils';\nimport {UnloadableSchedules} from '../instigation/Unloadable';\nimport {filterPermissionedInstigationState} from '../instigation/filterPermissionedInstigationState';\nimport {ScheduleBulkActionMenu} from '../schedules/ScheduleBulkActionMenu';\nimport {SchedulerInfo} from '../schedules/SchedulerInfo';\nimport {makeScheduleKey} from '../schedules/makeScheduleKey';\nimport {CheckAllBox} from '../ui/CheckAllBox';\nimport {useFilters} from '../ui/Filters';\nimport {useCodeLocationFilter} from '../ui/Filters/useCodeLocationFilter';\nimport {useInstigationStatusFilter} from '../ui/Filters/useInstigationStatusFilter';\nimport {SearchInputSpinner} from '../ui/SearchInputSpinner';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {BASIC_INSTIGATION_STATE_FRAGMENT} from './BasicInstigationStateFragment';\nimport {OverviewScheduleTable} from './OverviewSchedulesTable';\nimport {OverviewTabs} from './OverviewTabs';\nimport {sortRepoBuckets} from './sortRepoBuckets';\nimport {BasicInstigationStateFragment} from './types/BasicInstigationStateFragment.types';\nimport {\n  OverviewSchedulesQuery,\n  OverviewSchedulesQueryVariables,\n  UnloadableSchedulesQuery,\n  UnloadableSchedulesQueryVariables,\n} from './types/OverviewSchedulesRoot.types';\nimport {visibleRepoKeys} from './visibleRepoKeys';\n\nexport const OverviewSchedulesRoot = () => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Schedules');\n\n  const {allRepos, visibleRepos, loading: workspaceLoading} = React.useContext(WorkspaceContext);\n  const repoCount = allRepos.length;\n  const [searchValue, setSearchValue] = useQueryPersistedState<string>({\n    queryKey: 'search',\n    defaults: {search: ''},\n  });\n\n  const codeLocationFilter = useCodeLocationFilter();\n  const runningStateFilter = useInstigationStatusFilter();\n\n  const filters = React.useMemo(\n    () => [codeLocationFilter, runningStateFilter],\n    [codeLocationFilter, runningStateFilter],\n  );\n  const {button: filterButton, activeFiltersJsx} = useFilters({filters});\n\n  const queryResultOverview = useQuery<OverviewSchedulesQuery, OverviewSchedulesQueryVariables>(\n    OVERVIEW_SCHEDULES_QUERY,\n    {\n      fetchPolicy: 'network-only',\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n  const {data, loading} = queryResultOverview;\n\n  const refreshState = useQueryRefreshAtInterval(queryResultOverview, FIFTEEN_SECONDS);\n\n  const repoBuckets = React.useMemo(() => {\n    const visibleKeys = visibleRepoKeys(visibleRepos);\n    return buildBuckets(data).filter(({repoAddress}) =>\n      visibleKeys.has(repoAddressAsHumanString(repoAddress)),\n    );\n  }, [data, visibleRepos]);\n\n  const {state: runningState} = runningStateFilter;\n  const filteredBuckets = React.useMemo(() => {\n    return repoBuckets.map(({schedules, ...rest}) => {\n      return {\n        ...rest,\n        schedules: runningState.size\n          ? schedules.filter(({scheduleState}) => runningState.has(scheduleState.status))\n          : schedules,\n      };\n    });\n  }, [repoBuckets, runningState]);\n\n  const sanitizedSearch = searchValue.trim().toLocaleLowerCase();\n  const anySearch = sanitizedSearch.length > 0;\n\n  const filteredBySearch = React.useMemo(() => {\n    const searchToLower = sanitizedSearch.toLocaleLowerCase();\n    return filteredBuckets\n      .map(({repoAddress, schedules}) => ({\n        repoAddress,\n        schedules: schedules.filter(({name}) => name.toLocaleLowerCase().includes(searchToLower)),\n      }))\n      .filter(({schedules}) => schedules.length > 0);\n  }, [filteredBuckets, sanitizedSearch]);\n\n  const anySchedulesVisible = React.useMemo(\n    () => filteredBySearch.some(({schedules}) => schedules.length > 0),\n    [filteredBySearch],\n  );\n\n  // Collect all schedules across visible code locations that the viewer has permission\n  // to start or stop.\n  const allPermissionedSchedules = React.useMemo(() => {\n    return repoBuckets\n      .map(({repoAddress, schedules}) => {\n        return schedules\n          .filter(({scheduleState}) => filterPermissionedInstigationState(scheduleState))\n          .map(({name, scheduleState}) => ({\n            repoAddress,\n            scheduleName: name,\n            scheduleState,\n          }));\n      })\n      .flat();\n  }, [repoBuckets]);\n\n  // Build a list of keys from the permissioned schedules for use in checkbox state.\n  // This includes collapsed code locations.\n  const allPermissionedScheduleKeys = React.useMemo(() => {\n    return allPermissionedSchedules.map(({repoAddress, scheduleName}) =>\n      makeScheduleKey(repoAddress, scheduleName),\n    );\n  }, [allPermissionedSchedules]);\n\n  const [{checkedIds: checkedKeys}, {onToggleFactory, onToggleAll}] = useSelectionReducer(\n    allPermissionedScheduleKeys,\n  );\n\n  // Filter to find keys that are visible given any text search.\n  const permissionedKeysOnScreen = React.useMemo(() => {\n    const filteredKeys = new Set(\n      filteredBySearch\n        .map(({repoAddress, schedules}) => {\n          return schedules.map(({name}) => makeScheduleKey(repoAddress, name));\n        })\n        .flat(),\n    );\n    return allPermissionedScheduleKeys.filter((key) => filteredKeys.has(key));\n  }, [allPermissionedScheduleKeys, filteredBySearch]);\n\n  // Determine the list of schedule objects that have been checked by the viewer.\n  // These are the schedules that will be operated on by the bulk start/stop action.\n  const checkedSchedules = React.useMemo(() => {\n    const checkedKeysOnScreen = new Set(\n      permissionedKeysOnScreen.filter((key: string) => checkedKeys.has(key)),\n    );\n    return allPermissionedSchedules.filter(({repoAddress, scheduleName}) => {\n      return checkedKeysOnScreen.has(makeScheduleKey(repoAddress, scheduleName));\n    });\n  }, [permissionedKeysOnScreen, allPermissionedSchedules, checkedKeys]);\n\n  const viewerHasAnyInstigationPermission = allPermissionedScheduleKeys.length > 0;\n  const checkedCount = checkedSchedules.length;\n\n  const content = () => {\n    if (loading && !data) {\n      return (\n        <Box flex={{direction: 'row', justifyContent: 'center'}} style={{paddingTop: '100px'}}>\n          <Box flex={{direction: 'row', alignItems: 'center', gap: 16}}>\n            <Spinner purpose=\"body-text\" />\n            <div style={{color: Colors.Gray600}}>Loading schedules…</div>\n          </Box>\n        </Box>\n      );\n    }\n\n    const anyReposHidden = allRepos.length > visibleRepos.length;\n\n    if (!filteredBySearch.length) {\n      if (anySearch) {\n        return (\n          <Box padding={{top: 20}}>\n            <NonIdealState\n              icon=\"search\"\n              title=\"No matching schedules\"\n              description={\n                anyReposHidden ? (\n                  <div>\n                    No schedules matching <strong>{searchValue}</strong> were found in the selected\n                    code locations\n                  </div>\n                ) : (\n                  <div>\n                    No schedules matching <strong>{searchValue}</strong> were found in your\n                    definitions\n                  </div>\n                )\n              }\n            />\n          </Box>\n        );\n      }\n\n      return (\n        <Box padding={{top: 20}}>\n          <NonIdealState\n            icon=\"search\"\n            title=\"No schedules\"\n            description={\n              anyReposHidden\n                ? 'No matching schedules were found in the selected code locations'\n                : 'No matching schedules were found in your definitions'\n            }\n          />\n        </Box>\n      );\n    }\n\n    return (\n      <OverviewScheduleTable\n        headerCheckbox={\n          viewerHasAnyInstigationPermission ? (\n            <CheckAllBox\n              checkedCount={checkedCount}\n              totalCount={permissionedKeysOnScreen.length}\n              onToggleAll={onToggleAll}\n            />\n          ) : undefined\n        }\n        repos={filteredBySearch}\n        checkedKeys={checkedKeys}\n        onToggleCheckFactory={onToggleFactory}\n      />\n    );\n  };\n\n  const showSearchSpinner = (workspaceLoading && !repoCount) || (loading && !data);\n\n  return (\n    <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n      <PageHeader\n        title={<Heading>Overview</Heading>}\n        tabs={<OverviewTabs tab=\"schedules\" refreshState={refreshState} />}\n      />\n      <Box\n        padding={{horizontal: 24, vertical: 16}}\n        flex={{direction: 'row', alignItems: 'center', justifyContent: 'space-between'}}\n      >\n        <Box flex={{direction: 'row', gap: 12}}>\n          {filterButton}\n          <TextInput\n            icon=\"search\"\n            value={searchValue}\n            rightElement={\n              showSearchSpinner ? (\n                <SearchInputSpinner tooltipContent=\"Loading schedules…\" />\n              ) : undefined\n            }\n            onChange={(e) => {\n              setSearchValue(e.target.value);\n              onToggleAll(false);\n            }}\n            placeholder=\"Filter by schedule name…\"\n            style={{width: '340px'}}\n          />\n        </Box>\n        <Tooltip\n          content=\"You do not have permission to start or stop these schedules\"\n          canShow={anySchedulesVisible && !viewerHasAnyInstigationPermission}\n          placement=\"top-end\"\n          useDisabledButtonTooltipFix\n        >\n          <ScheduleBulkActionMenu\n            schedules={checkedSchedules}\n            onDone={() => refreshState.refetch()}\n          />\n        </Tooltip>\n      </Box>\n      {activeFiltersJsx.length ? (\n        <Box\n          padding={{vertical: 8, horizontal: 24}}\n          border=\"top-and-bottom\"\n          flex={{direction: 'row', gap: 8}}\n        >\n          {activeFiltersJsx}\n        </Box>\n      ) : null}\n      {loading && !repoCount ? (\n        <Box padding={64}>\n          <Spinner purpose=\"page\" />\n        </Box>\n      ) : (\n        <>\n          {data?.unloadableInstigationStatesOrError.__typename === 'InstigationStates' ? (\n            <UnloadableSchedulesAlert\n              count={data.unloadableInstigationStatesOrError.results.length}\n            />\n          ) : null}\n          <SchedulerInfo\n            daemonHealth={data?.instance.daemonHealth}\n            padding={{vertical: 16, horizontal: 24}}\n            border=\"top\"\n          />\n          {content()}\n        </>\n      )}\n    </Box>\n  );\n};\n\nconst UnloadableSchedulesAlert: React.FC<{\n  count: number;\n}> = ({count}) => {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  if (!count) {\n    return null;\n  }\n\n  const title = count === 1 ? '1 unloadable schedule' : `${count} unloadable schedules`;\n\n  return (\n    <>\n      <Box padding={{vertical: 16, horizontal: 24}} border=\"top\">\n        <Alert\n          intent=\"warning\"\n          title={title}\n          description={\n            <Box flex={{direction: 'column', gap: 12, alignItems: 'flex-start'}}>\n              <div>\n                Schedules were previously started but now cannot be loaded. They may be part of a\n                code locations that no longer exist. You can turn them off, but you cannot turn them\n                back on.\n              </div>\n              <Button onClick={() => setIsOpen(true)}>\n                {count === 1 ? 'View unloadable schedule' : 'View unloadable schedules'}\n              </Button>\n            </Box>\n          }\n        />\n      </Box>\n      <Dialog\n        isOpen={isOpen}\n        title=\"Unloadable schedules\"\n        style={{width: '90vw', maxWidth: '1200px'}}\n      >\n        <Box padding={{bottom: 8}}>\n          <UnloadableScheduleDialog />\n        </Box>\n        <DialogFooter>\n          <Button intent=\"primary\" onClick={() => setIsOpen(false)}>\n            Done\n          </Button>\n        </DialogFooter>\n      </Dialog>\n    </>\n  );\n};\n\nconst UnloadableScheduleDialog: React.FC = () => {\n  const {data} = useQuery<UnloadableSchedulesQuery, UnloadableSchedulesQueryVariables>(\n    UNLOADABLE_SCHEDULES_QUERY,\n  );\n  if (!data) {\n    return <Spinner purpose=\"section\" />;\n  }\n\n  if (data?.unloadableInstigationStatesOrError.__typename === 'InstigationStates') {\n    return (\n      <UnloadableSchedules\n        scheduleStates={data.unloadableInstigationStatesOrError.results}\n        showSubheading={false}\n      />\n    );\n  }\n\n  return <PythonErrorInfo error={data?.unloadableInstigationStatesOrError} />;\n};\n\ntype RepoBucket = {\n  repoAddress: RepoAddress;\n  schedules: {name: string; scheduleState: BasicInstigationStateFragment}[];\n};\n\nconst buildBuckets = (data?: OverviewSchedulesQuery): RepoBucket[] => {\n  if (data?.workspaceOrError.__typename !== 'Workspace') {\n    return [];\n  }\n\n  const entries = data.workspaceOrError.locationEntries.map((entry) => entry.locationOrLoadError);\n\n  const buckets = [];\n\n  for (const entry of entries) {\n    if (entry?.__typename !== 'RepositoryLocation') {\n      continue;\n    }\n\n    for (const repo of entry.repositories) {\n      const {name, schedules} = repo;\n      const repoAddress = buildRepoAddress(name, entry.name);\n      const scheduleNames = schedules.map(({name, scheduleState}) => ({name, scheduleState}));\n\n      if (scheduleNames.length > 0) {\n        buckets.push({\n          repoAddress,\n          schedules: scheduleNames,\n        });\n      }\n    }\n  }\n\n  return sortRepoBuckets(buckets);\n};\n\nconst OVERVIEW_SCHEDULES_QUERY = gql`\n  query OverviewSchedulesQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                schedules {\n                  id\n                  name\n                  description\n                  scheduleState {\n                    id\n                    ...BasicInstigationStateFragment\n                  }\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n    unloadableInstigationStatesOrError(instigationType: SCHEDULE) {\n      ... on InstigationStates {\n        results {\n          id\n        }\n      }\n    }\n    instance {\n      id\n      ...InstanceHealthFragment\n    }\n  }\n\n  ${BASIC_INSTIGATION_STATE_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n  ${INSTANCE_HEALTH_FRAGMENT}\n`;\n\nconst UNLOADABLE_SCHEDULES_QUERY = gql`\n  query UnloadableSchedulesQuery {\n    unloadableInstigationStatesOrError(instigationType: SCHEDULE) {\n      ... on InstigationStates {\n        results {\n          id\n          ...InstigationStateFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${INSTIGATION_STATE_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import {Tag, Tooltip} from '@dagster-io/ui-components';\nimport {useVirtualizer} from '@tanstack/react-virtual';\nimport * as React from 'react';\n\nimport {makeSensorKey} from '../sensors/makeSensorKey';\nimport {Container, Inner} from '../ui/VirtualizedTable';\nimport {findDuplicateRepoNames} from '../ui/findDuplicateRepoNames';\nimport {useRepoExpansionState} from '../ui/useRepoExpansionState';\nimport {VirtualizedSensorHeader, VirtualizedSensorRow} from '../workspace/VirtualizedSensorRow';\nimport {RepoRow} from '../workspace/VirtualizedWorkspaceTable';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {OVERVIEW_COLLAPSED_KEY} from './OverviewExpansionKey';\nimport {BasicInstigationStateFragment} from './types/BasicInstigationStateFragment.types';\n\ntype SensorInfo = {name: string; sensorState: BasicInstigationStateFragment};\n\ntype Repository = {\n  repoAddress: RepoAddress;\n  sensors: SensorInfo[];\n};\n\ninterface Props {\n  repos: Repository[];\n  headerCheckbox: React.ReactNode;\n  checkedKeys: Set<string>;\n  onToggleCheckFactory: (path: string) => (values: {checked: boolean; shiftKey: boolean}) => void;\n}\n\ntype RowType =\n  | {type: 'header'; repoAddress: RepoAddress; sensorCount: number}\n  | {type: 'sensor'; repoAddress: RepoAddress; sensor: SensorInfo};\n\nexport const OverviewSensorTable = ({\n  repos,\n  headerCheckbox,\n  checkedKeys,\n  onToggleCheckFactory,\n}: Props) => {\n  const parentRef = React.useRef<HTMLDivElement | null>(null);\n  const allKeys = React.useMemo(\n    () => repos.map(({repoAddress}) => repoAddressAsHumanString(repoAddress)),\n    [repos],\n  );\n  const {expandedKeys, onToggle, onToggleAll} = useRepoExpansionState(\n    OVERVIEW_COLLAPSED_KEY,\n    allKeys,\n  );\n\n  const flattened: RowType[] = React.useMemo(() => {\n    const flat: RowType[] = [];\n    repos.forEach(({repoAddress, sensors}) => {\n      flat.push({type: 'header', repoAddress, sensorCount: sensors.length});\n      const repoKey = repoAddressAsHumanString(repoAddress);\n      if (expandedKeys.includes(repoKey)) {\n        sensors.forEach((sensor) => {\n          flat.push({type: 'sensor', repoAddress, sensor});\n        });\n      }\n    });\n    return flat;\n  }, [repos, expandedKeys]);\n\n  const duplicateRepoNames = findDuplicateRepoNames(repos.map(({repoAddress}) => repoAddress.name));\n\n  const rowVirtualizer = useVirtualizer({\n    count: flattened.length,\n    getScrollElement: () => parentRef.current,\n    estimateSize: (ii: number) => {\n      const row = flattened[ii];\n      return row?.type === 'header' ? 32 : 64;\n    },\n    overscan: 10,\n  });\n\n  const totalHeight = rowVirtualizer.getTotalSize();\n  const items = rowVirtualizer.getVirtualItems();\n\n  return (\n    <>\n      <VirtualizedSensorHeader checkbox={headerCheckbox} />\n      <div style={{overflow: 'hidden'}}>\n        <Container ref={parentRef}>\n          <Inner $totalHeight={totalHeight}>\n            {items.map(({index, key, size, start}) => {\n              const row: RowType = flattened[index]!;\n              const type = row!.type;\n              if (type === 'header') {\n                return (\n                  <RepoRow\n                    repoAddress={row.repoAddress}\n                    key={key}\n                    height={size}\n                    start={start}\n                    onToggle={onToggle}\n                    onToggleAll={onToggleAll}\n                    expanded={expandedKeys.includes(repoAddressAsHumanString(row.repoAddress))}\n                    showLocation={duplicateRepoNames.has(row.repoAddress.name)}\n                    rightElement={\n                      <Tooltip\n                        content={row.sensorCount === 1 ? '1 sensor' : `${row.sensorCount} sensors`}\n                        placement=\"top\"\n                      >\n                        <Tag>{row.sensorCount}</Tag>\n                      </Tooltip>\n                    }\n                  />\n                );\n              }\n\n              const sensorKey = makeSensorKey(row.repoAddress, row.sensor.name);\n\n              return (\n                <VirtualizedSensorRow\n                  key={key}\n                  name={row.sensor.name}\n                  sensorState={row.sensor.sensorState}\n                  showCheckboxColumn={!!headerCheckbox}\n                  checked={checkedKeys.has(sensorKey)}\n                  onToggleChecked={onToggleCheckFactory(sensorKey)}\n                  repoAddress={row.repoAddress}\n                  height={size}\n                  start={start}\n                />\n              );\n            })}\n          </Inner>\n        </Container>\n      </div>\n    </>\n  );\n};\n","import {gql, useQuery} from '@apollo/client';\nimport {\n  Alert,\n  Box,\n  Button,\n  Colors,\n  Dialog,\n  DialogFooter,\n  Heading,\n  NonIdealState,\n  PageHeader,\n  Spinner,\n  TextInput,\n  Tooltip,\n} from '@dagster-io/ui-components';\nimport * as React from 'react';\n\nimport {PYTHON_ERROR_FRAGMENT} from '../app/PythonErrorFragment';\nimport {PythonErrorInfo} from '../app/PythonErrorInfo';\nimport {useQueryRefreshAtInterval, FIFTEEN_SECONDS} from '../app/QueryRefresh';\nimport {useTrackPageView} from '../app/analytics';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {useQueryPersistedState} from '../hooks/useQueryPersistedState';\nimport {useSelectionReducer} from '../hooks/useSelectionReducer';\nimport {INSTANCE_HEALTH_FRAGMENT} from '../instance/InstanceHealthFragment';\nimport {INSTIGATION_STATE_FRAGMENT} from '../instigation/InstigationUtils';\nimport {UnloadableSensors} from '../instigation/Unloadable';\nimport {filterPermissionedInstigationState} from '../instigation/filterPermissionedInstigationState';\nimport {SensorBulkActionMenu} from '../sensors/SensorBulkActionMenu';\nimport {SensorInfo} from '../sensors/SensorInfo';\nimport {makeSensorKey} from '../sensors/makeSensorKey';\nimport {CheckAllBox} from '../ui/CheckAllBox';\nimport {useFilters} from '../ui/Filters';\nimport {useCodeLocationFilter} from '../ui/Filters/useCodeLocationFilter';\nimport {useInstigationStatusFilter} from '../ui/Filters/useInstigationStatusFilter';\nimport {SearchInputSpinner} from '../ui/SearchInputSpinner';\nimport {WorkspaceContext} from '../workspace/WorkspaceContext';\nimport {buildRepoAddress} from '../workspace/buildRepoAddress';\nimport {repoAddressAsHumanString} from '../workspace/repoAddressAsString';\nimport {RepoAddress} from '../workspace/types';\n\nimport {BASIC_INSTIGATION_STATE_FRAGMENT} from './BasicInstigationStateFragment';\nimport {OverviewSensorTable} from './OverviewSensorsTable';\nimport {OverviewTabs} from './OverviewTabs';\nimport {sortRepoBuckets} from './sortRepoBuckets';\nimport {BasicInstigationStateFragment} from './types/BasicInstigationStateFragment.types';\nimport {\n  OverviewSensorsQuery,\n  OverviewSensorsQueryVariables,\n  UnloadableSensorsQuery,\n  UnloadableSensorsQueryVariables,\n} from './types/OverviewSensorsRoot.types';\nimport {visibleRepoKeys} from './visibleRepoKeys';\n\nexport const OverviewSensorsRoot = () => {\n  useTrackPageView();\n  useDocumentTitle('Overview | Sensors');\n\n  const {allRepos, visibleRepos, loading: workspaceLoading} = React.useContext(WorkspaceContext);\n  const repoCount = allRepos.length;\n  const [searchValue, setSearchValue] = useQueryPersistedState<string>({\n    queryKey: 'search',\n    defaults: {search: ''},\n  });\n\n  const codeLocationFilter = useCodeLocationFilter();\n  const runningStateFilter = useInstigationStatusFilter();\n\n  const filters = React.useMemo(\n    () => [codeLocationFilter, runningStateFilter],\n    [codeLocationFilter, runningStateFilter],\n  );\n  const {button: filterButton, activeFiltersJsx} = useFilters({filters});\n\n  const queryResultOverview = useQuery<OverviewSensorsQuery, OverviewSensorsQueryVariables>(\n    OVERVIEW_SENSORS_QUERY,\n    {\n      fetchPolicy: 'network-only',\n      notifyOnNetworkStatusChange: true,\n    },\n  );\n  const {data, loading} = queryResultOverview;\n\n  const refreshState = useQueryRefreshAtInterval(queryResultOverview, FIFTEEN_SECONDS);\n\n  const repoBuckets = React.useMemo(() => {\n    const visibleKeys = visibleRepoKeys(visibleRepos);\n    return buildBuckets(data).filter(({repoAddress}) =>\n      visibleKeys.has(repoAddressAsHumanString(repoAddress)),\n    );\n  }, [data, visibleRepos]);\n\n  const {state: runningState} = runningStateFilter;\n  const filteredBuckets = React.useMemo(() => {\n    return repoBuckets.map(({sensors, ...rest}) => {\n      return {\n        ...rest,\n        sensors: runningState.size\n          ? sensors.filter(({sensorState}) => runningState.has(sensorState.status))\n          : sensors,\n      };\n    });\n  }, [repoBuckets, runningState]);\n\n  const sanitizedSearch = searchValue.trim().toLocaleLowerCase();\n  const anySearch = sanitizedSearch.length > 0;\n\n  const filteredBySearch = React.useMemo(() => {\n    const searchToLower = sanitizedSearch.toLocaleLowerCase();\n    return filteredBuckets\n      .map(({repoAddress, sensors}) => ({\n        repoAddress,\n        sensors: sensors.filter(({name}) => name.toLocaleLowerCase().includes(searchToLower)),\n      }))\n      .filter(({sensors}) => sensors.length > 0);\n  }, [filteredBuckets, sanitizedSearch]);\n\n  const anySensorsVisible = React.useMemo(\n    () => filteredBySearch.some(({sensors}) => sensors.length > 0),\n    [filteredBySearch],\n  );\n\n  // Collect all sensors across visible code locations that the viewer has permission\n  // to start or stop.\n  const allPermissionedSensors = React.useMemo(() => {\n    return repoBuckets\n      .map(({repoAddress, sensors}) => {\n        return sensors\n          .filter(({sensorState}) => filterPermissionedInstigationState(sensorState))\n          .map(({name, sensorState}) => ({\n            repoAddress,\n            sensorName: name,\n            sensorState,\n          }));\n      })\n      .flat();\n  }, [repoBuckets]);\n\n  // Build a list of keys from the permissioned schedules for use in checkbox state.\n  // This includes collapsed code locations.\n  const allPermissionedSensorKeys = React.useMemo(() => {\n    return allPermissionedSensors.map(({repoAddress, sensorName}) =>\n      makeSensorKey(repoAddress, sensorName),\n    );\n  }, [allPermissionedSensors]);\n\n  const [{checkedIds: checkedKeys}, {onToggleFactory, onToggleAll}] =\n    useSelectionReducer(allPermissionedSensorKeys);\n\n  // Filter to find keys that are visible given any text search.\n  const permissionedKeysOnScreen = React.useMemo(() => {\n    const filteredKeys = new Set(\n      filteredBySearch\n        .map(({repoAddress, sensors}) => {\n          return sensors.map(({name}) => makeSensorKey(repoAddress, name));\n        })\n        .flat(),\n    );\n    return allPermissionedSensorKeys.filter((key) => filteredKeys.has(key));\n  }, [allPermissionedSensorKeys, filteredBySearch]);\n\n  // Determine the list of sensor objects that have been checked by the viewer.\n  // These are the sensors that will be operated on by the bulk start/stop action.\n  const checkedSensors = React.useMemo(() => {\n    const checkedKeysOnScreen = new Set(\n      permissionedKeysOnScreen.filter((key: string) => checkedKeys.has(key)),\n    );\n    return allPermissionedSensors.filter(({repoAddress, sensorName}) => {\n      return checkedKeysOnScreen.has(makeSensorKey(repoAddress, sensorName));\n    });\n  }, [permissionedKeysOnScreen, allPermissionedSensors, checkedKeys]);\n\n  const viewerHasAnyInstigationPermission = allPermissionedSensorKeys.length > 0;\n  const checkedCount = checkedSensors.length;\n\n  const content = () => {\n    if (loading && !data) {\n      return (\n        <Box flex={{direction: 'row', justifyContent: 'center'}} style={{paddingTop: '100px'}}>\n          <Box flex={{direction: 'row', alignItems: 'center', gap: 16}}>\n            <Spinner purpose=\"body-text\" />\n            <div style={{color: Colors.Gray600}}>Loading sensors…</div>\n          </Box>\n        </Box>\n      );\n    }\n\n    const anyReposHidden = allRepos.length > visibleRepos.length;\n\n    if (!filteredBySearch.length) {\n      if (anySearch) {\n        return (\n          <Box padding={{top: 20}}>\n            <NonIdealState\n              icon=\"search\"\n              title=\"No matching sensors\"\n              description={\n                anyReposHidden ? (\n                  <div>\n                    No sensors matching <strong>{searchValue}</strong> were found in the selected\n                    code locations\n                  </div>\n                ) : (\n                  <div>\n                    No sensors matching <strong>{searchValue}</strong> were found in your\n                    definitions\n                  </div>\n                )\n              }\n            />\n          </Box>\n        );\n      }\n\n      return (\n        <Box padding={{top: 20}}>\n          <NonIdealState\n            icon=\"search\"\n            title=\"No sensors\"\n            description={\n              anyReposHidden\n                ? 'No sensors were found in the selected code locations'\n                : 'No sensors were found in your definitions'\n            }\n          />\n        </Box>\n      );\n    }\n\n    return (\n      <OverviewSensorTable\n        headerCheckbox={\n          viewerHasAnyInstigationPermission ? (\n            <CheckAllBox\n              checkedCount={checkedCount}\n              totalCount={permissionedKeysOnScreen.length}\n              onToggleAll={onToggleAll}\n            />\n          ) : undefined\n        }\n        repos={filteredBySearch}\n        checkedKeys={checkedKeys}\n        onToggleCheckFactory={onToggleFactory}\n      />\n    );\n  };\n\n  const showSearchSpinner = (workspaceLoading && !repoCount) || (loading && !data);\n\n  return (\n    <Box flex={{direction: 'column'}} style={{height: '100%', overflow: 'hidden'}}>\n      <PageHeader\n        title={<Heading>Overview</Heading>}\n        tabs={<OverviewTabs tab=\"sensors\" refreshState={refreshState} />}\n      />\n      <Box\n        padding={{horizontal: 24, vertical: 16}}\n        flex={{\n          direction: 'row',\n          alignItems: 'center',\n          justifyContent: 'space-between',\n          gap: 12,\n          grow: 0,\n        }}\n      >\n        <Box flex={{direction: 'row', gap: 12}}>\n          {filterButton}\n          <TextInput\n            icon=\"search\"\n            value={searchValue}\n            rightElement={\n              showSearchSpinner ? (\n                <SearchInputSpinner tooltipContent=\"Loading sensors…\" />\n              ) : undefined\n            }\n            onChange={(e) => setSearchValue(e.target.value)}\n            placeholder=\"Filter by sensor name…\"\n            style={{width: '340px'}}\n          />\n        </Box>\n        <Tooltip\n          content=\"You do not have permission to start or stop these schedules\"\n          canShow={anySensorsVisible && !viewerHasAnyInstigationPermission}\n          placement=\"top-end\"\n          useDisabledButtonTooltipFix\n        >\n          <SensorBulkActionMenu sensors={checkedSensors} onDone={() => refreshState.refetch()} />\n        </Tooltip>\n      </Box>\n      {activeFiltersJsx.length ? (\n        <Box\n          padding={{vertical: 8, horizontal: 24}}\n          border=\"top-and-bottom\"\n          flex={{direction: 'row', gap: 8}}\n        >\n          {activeFiltersJsx}\n        </Box>\n      ) : null}\n      {loading && !repoCount ? (\n        <Box padding={64}>\n          <Spinner purpose=\"page\" />\n        </Box>\n      ) : (\n        <>\n          {data?.unloadableInstigationStatesOrError.__typename === 'InstigationStates' ? (\n            <UnloadableSensorsAlert\n              count={data.unloadableInstigationStatesOrError.results.length}\n            />\n          ) : null}\n          <SensorInfo\n            daemonHealth={data?.instance.daemonHealth}\n            padding={{vertical: 16, horizontal: 24}}\n            border=\"top\"\n          />\n          {content()}\n        </>\n      )}\n    </Box>\n  );\n};\n\nconst UnloadableSensorsAlert: React.FC<{\n  count: number;\n}> = ({count}) => {\n  const [isOpen, setIsOpen] = React.useState(false);\n\n  if (!count) {\n    return null;\n  }\n\n  const title = count === 1 ? '1 unloadable sensor' : `${count} unloadable sensors`;\n\n  return (\n    <>\n      <Box padding={{vertical: 16, horizontal: 24}} border=\"top\">\n        <Alert\n          intent=\"warning\"\n          title={title}\n          description={\n            <Box flex={{direction: 'column', gap: 12, alignItems: 'flex-start'}}>\n              <div>\n                Sensors were previously started but now cannot be loaded. They may be part of a code\n                location that no longer exists. You can turn them off, but you cannot turn them back\n                on.\n              </div>\n              <Button onClick={() => setIsOpen(true)}>\n                {count === 1 ? 'View unloadable sensor' : 'View unloadable sensors'}\n              </Button>\n            </Box>\n          }\n        />\n      </Box>\n      <Dialog\n        isOpen={isOpen}\n        title=\"Unloadable schedules\"\n        style={{width: '90vw', maxWidth: '1200px'}}\n      >\n        <Box padding={{bottom: 8}}>\n          <UnloadableSensorDialog />\n        </Box>\n        <DialogFooter>\n          <Button intent=\"primary\" onClick={() => setIsOpen(false)}>\n            Done\n          </Button>\n        </DialogFooter>\n      </Dialog>\n    </>\n  );\n};\n\nconst UnloadableSensorDialog: React.FC = () => {\n  const {data} = useQuery<UnloadableSensorsQuery, UnloadableSensorsQueryVariables>(\n    UNLOADABLE_SENSORS_QUERY,\n  );\n  if (!data) {\n    return <Spinner purpose=\"section\" />;\n  }\n\n  if (data?.unloadableInstigationStatesOrError.__typename === 'InstigationStates') {\n    return (\n      <UnloadableSensors\n        sensorStates={data.unloadableInstigationStatesOrError.results}\n        showSubheading={false}\n      />\n    );\n  }\n\n  return <PythonErrorInfo error={data?.unloadableInstigationStatesOrError} />;\n};\n\ntype RepoBucket = {\n  repoAddress: RepoAddress;\n  sensors: {name: string; sensorState: BasicInstigationStateFragment}[];\n};\n\nconst buildBuckets = (data?: OverviewSensorsQuery): RepoBucket[] => {\n  if (data?.workspaceOrError.__typename !== 'Workspace') {\n    return [];\n  }\n\n  const entries = data.workspaceOrError.locationEntries.map((entry) => entry.locationOrLoadError);\n\n  const buckets = [];\n\n  for (const entry of entries) {\n    if (entry?.__typename !== 'RepositoryLocation') {\n      continue;\n    }\n\n    for (const repo of entry.repositories) {\n      const {name, sensors} = repo;\n      const repoAddress = buildRepoAddress(name, entry.name);\n\n      if (sensors.length > 0) {\n        buckets.push({\n          repoAddress,\n          sensors,\n        });\n      }\n    }\n  }\n\n  return sortRepoBuckets(buckets);\n};\n\nconst OVERVIEW_SENSORS_QUERY = gql`\n  query OverviewSensorsQuery {\n    workspaceOrError {\n      ... on Workspace {\n        id\n        locationEntries {\n          id\n          locationOrLoadError {\n            ... on RepositoryLocation {\n              id\n              name\n              repositories {\n                id\n                name\n                sensors {\n                  id\n                  name\n                  description\n                  sensorType\n                  sensorState {\n                    id\n                    ...BasicInstigationStateFragment\n                  }\n                }\n              }\n            }\n            ...PythonErrorFragment\n          }\n        }\n      }\n      ...PythonErrorFragment\n    }\n    unloadableInstigationStatesOrError(instigationType: SENSOR) {\n      ... on InstigationStates {\n        results {\n          id\n        }\n      }\n    }\n    instance {\n      id\n      ...InstanceHealthFragment\n    }\n  }\n\n  ${BASIC_INSTIGATION_STATE_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n  ${INSTANCE_HEALTH_FRAGMENT}\n`;\n\nconst UNLOADABLE_SENSORS_QUERY = gql`\n  query UnloadableSensorsQuery {\n    unloadableInstigationStatesOrError(instigationType: SENSOR) {\n      ... on InstigationStates {\n        results {\n          id\n          ...InstigationStateFragment\n        }\n      }\n      ...PythonErrorFragment\n    }\n  }\n\n  ${INSTIGATION_STATE_FRAGMENT}\n  ${PYTHON_ERROR_FRAGMENT}\n`;\n","import * as React from 'react';\nimport {Redirect, Route, Switch} from 'react-router-dom';\n\nimport {InstanceBackfills} from '../instance/InstanceBackfills';\nimport {BackfillPage} from '../instance/backfill/BackfillPage';\n\nimport {OverviewActivityRoot} from './OverviewActivityRoot';\nimport {OverviewJobsRoot} from './OverviewJobsRoot';\nimport {OverviewResourcesRoot} from './OverviewResourcesRoot';\nimport {OverviewSchedulesRoot} from './OverviewSchedulesRoot';\nimport {OverviewSensorsRoot} from './OverviewSensorsRoot';\n\nexport const OverviewRoot = () => {\n  return (\n    <Switch>\n      <Route path=\"/overview/activity\">\n        <OverviewActivityRoot />\n      </Route>\n      <Route path=\"/overview/jobs\">\n        <OverviewJobsRoot />\n      </Route>\n      <Route path=\"/overview/schedules\">\n        <OverviewSchedulesRoot />\n      </Route>\n      <Route path=\"/overview/sensors\">\n        <OverviewSensorsRoot />\n      </Route>\n      <Route path=\"/overview/backfills/:backfillId\">\n        <BackfillPage />\n      </Route>\n      <Route path=\"/overview/backfills\" exact>\n        <InstanceBackfills />\n      </Route>\n      <Route path=\"/overview/resources\">\n        <OverviewResourcesRoot />\n      </Route>\n      <Route path=\"*\" render={() => <Redirect to=\"/overview/activity\" />} />\n    </Switch>\n  );\n};\n\n// Imported via React.lazy, which requires a default export.\n// eslint-disable-next-line import/no-default-export\nexport default OverviewRoot;\n","import {gql, useQuery} from '@apollo/client';\nimport {Colors, JoinedButtons, TokenizingFieldValue} from '@dagster-io/ui-components';\nimport isEqual from 'lodash/isEqual';\nimport * as React from 'react';\nimport {useLocation} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport {RunStatus, RunsFilter} from '../graphql/types';\nimport {useDocumentTitle} from '../hooks/useDocumentTitle';\nimport {AnchorButton} from '../ui/AnchorButton';\n\nimport {failedStatuses, inProgressStatuses, queuedStatuses} from './RunStatuses';\nimport {runsPathWithFilters, useQueryPersistedRunFilters} from './RunsFilterInput';\nimport {RunTabsCountQuery, RunTabsCountQueryVariables} from './types/RunListTabs.types';\n\nconst getDocumentTitle = (selected: ReturnType<typeof useSelectedRunsTab>) => {\n  switch (selected) {\n    case 'all':\n      return 'Runs | All runs';\n    case 'failed':\n      return 'Runs | Failed';\n    case 'in-progress':\n      return 'Runs | In progress';\n    case 'queued':\n      return 'Runs | Queued';\n    case 'scheduled':\n      return 'Runs | Scheduled';\n    default:\n      return 'Runs';\n  }\n};\n\nexport const useRunListTabs = (filter: RunsFilter = {}) => {\n  const queryResult = useQuery<RunTabsCountQuery, RunTabsCountQueryVariables>(\n    RUN_TABS_COUNT_QUERY,\n    {\n      variables: {\n        queuedFilter: {...filter, statuses: Array.from(queuedStatuses)},\n        inProgressFilter: {...filter, statuses: Array.from(inProgressStatuses)},\n      },\n    },\n  );\n\n  const {data: countData} = queryResult;\n  const {queuedCount, inProgressCount} = React.useMemo(() => {\n    return {\n      queuedCount:\n        countData?.queuedCount?.__typename === 'Runs' ? countData.queuedCount.count : null,\n      inProgressCount:\n        countData?.inProgressCount?.__typename === 'Runs' ? countData.inProgressCount.count : null,\n    };\n  }, [countData]);\n\n  const [filterTokens] = useQueryPersistedRunFilters();\n  const selectedTab = useSelectedRunsTab(filterTokens);\n\n  useDocumentTitle(getDocumentTitle(selectedTab));\n\n  const urlForStatus = (statuses: RunStatus[]) => {\n    const tokensMinusStatus = filterTokens.filter((token) => token.token !== 'status');\n    const statusTokens = statuses.map((status) => ({token: 'status' as const, value: status}));\n    return runsPathWithFilters([...statusTokens, ...tokensMinusStatus]);\n  };\n\n  const tabs = (\n    <JoinedButtons>\n      <ActivatableButton to={urlForStatus([])} id=\"all\" $active={selectedTab === 'all'}>\n        All runs\n      </ActivatableButton>\n      <ActivatableButton\n        to={urlForStatus(Array.from(queuedStatuses))}\n        id=\"queued\"\n        $active={selectedTab === 'queued'}\n      >\n        Queued ({queuedCount ?? 'indeterminate'})\n      </ActivatableButton>\n      <ActivatableButton\n        to={urlForStatus(Array.from(inProgressStatuses))}\n        id=\"in-progress\"\n        $active={selectedTab === 'in-progress'}\n      >\n        In progress ({inProgressCount ?? 'indeterminate'})\n      </ActivatableButton>\n      <ActivatableButton\n        to={urlForStatus(Array.from(failedStatuses))}\n        id=\"failed\"\n        $active={selectedTab === 'failed'}\n      >\n        Failed\n      </ActivatableButton>\n      <ActivatableButton\n        title=\"Scheduled\"\n        to=\"/runs/scheduled\"\n        id=\"scheduled\"\n        $active={selectedTab === 'scheduled'}\n      >\n        Scheduled\n      </ActivatableButton>\n    </JoinedButtons>\n  );\n\n  return {tabs, queryResult};\n};\n\nexport const ActivatableButton = styled(AnchorButton)<{$active: boolean}>`\n  ${(props) =>\n    props.$active &&\n    `\n    background: ${Colors.Gray200};\n  `}\n`;\n\nexport const useSelectedRunsTab = (filterTokens: TokenizingFieldValue[]) => {\n  const {pathname} = useLocation();\n  if (pathname === '/runs/timeline') {\n    return 'timeline';\n  }\n  if (pathname === '/runs/scheduled') {\n    return 'scheduled';\n  }\n  if (pathname === '/overview/backfills') {\n    return 'backfills';\n  }\n\n  const statusTokens = new Set(\n    filterTokens.filter((token) => token.token === 'status').map((token) => token.value),\n  );\n  if (isEqual(queuedStatuses, statusTokens)) {\n    return 'queued';\n  }\n  if (isEqual(inProgressStatuses, statusTokens)) {\n    return 'in-progress';\n  }\n  if (isEqual(failedStatuses, statusTokens)) {\n    return 'failed';\n  }\n  return 'all';\n};\n\nexport const RUN_TABS_COUNT_QUERY = gql`\n  query RunTabsCountQuery($queuedFilter: RunsFilter!, $inProgressFilter: RunsFilter!) {\n    queuedCount: pipelineRunsOrError(filter: $queuedFilter) {\n      ... on Runs {\n        count\n      }\n    }\n    inProgressCount: pipelineRunsOrError(filter: $inProgressFilter) {\n      ... on Runs {\n        count\n      }\n    }\n  }\n`;\n"],"names":["OverviewTabs","props","refreshState","tab","jsx_runtime","jsxs","Box","flex","direction","justifyContent","alignItems","Tabs","selectedTabId","jsx","TabLink","id","title","to","padding","bottom","QueryRefreshCountdown","InstanceBackfills","useTrackPageView","useDocumentTitle","queryData","useQuery","INSTANCE_HEALTH_FOR_BACKFILLS_QUERY","useCursorPaginatedQuery","query","BACKFILLS_QUERY","variables","pageSize","nextCursorForResult","result","partitionBackfillsOrError","__typename","results","PAGE_SIZE","undefined","getResultArray","queryResult","paginationProps","useQueryRefreshAtInterval","FIFTEEN_SECONDS","Page","PageHeader","Heading","tabs","Loading","allowStaleData","param","PythonErrorInfo","error","length","vertical","NonIdealState","icon","description","p","backfillHealths","daemonHealths","data","instance","daemonHealth","allDaemonStatuses","filter","daemon","daemonType","map","required","healthy","isBackfillHealthy","every","x","div","horizontal","DaemonNotRunningAlertBody","BackfillTable","backfills","slice","refetch","style","marginTop","CursorPaginationControls","gql","INSTANCE_HEALTH_FRAGMENT","PYTHON_ERROR_FRAGMENT","BACKFILL_TABLE_FRAGMENT","dayjs","duration","relativeTime","BackfillPage","backfillId","useParams","concat","BACKFILL_DETAILS_QUERY","backfill","partitionBackfillOrError","isInProgress","BulkActionStatus","REQUESTED","CANCELING","includes","status","Link","color","Colors","Gray700","right","gap","BackfillActionsMenu","canCancelRuns","content","data-testid","testId","Spinner","purpose","message","getRunsUrl","filters","token","value","push","RunStatus","STARTED","QUEUED","STARTING","NOT_STARTED","SUCCESS","FAILURE","CANCELED","runsPathWithFilters","linkQuery","assetBackfillData","rootAssetTargetedRanges","ranges","start","end","default_range","Fragment","wrap","Detail","label","detail","Timestamp","timestamp","ms","Number","timeFormat","showSeconds","showTimezone","Duration","endTimestamp","PartitionSelection","numPartitions","rootAssetTargetedPartitions","BackfillStatusTagForPage","Table","thead","tr","th","width","tbody","assetBackfillStatuses","asset","targeted","inProgress","completed","failed","numPartitionsTargeted","numPartitionsInProgress","numPartitionsMaterialized","numPartitionsFailed","materialized","tokenForAssetKey","assetKey","td","assetDetailsPathForKey","path","join","StatusBar","Tag","intent","minWidth","Label","borderRadius","backgroundColor","Gray100","display","gridTemplateColumns","gridTemplateRows","height","overflow","background","Green500","Red500","Blue200","styled","withConfig","React","s","_","rerender","intervalId","setInterval","clearInterval","Date","now","span","formatDuration","BACKFILL_ACTIONS_BACKFILL_FRAGMENT","COLLATOR","Intl","Collator","navigator","language","sensitivity","numeric","isDialogOpen","setIsDialogOpen","ButtonLink","onClick","numberFormatter","format","Dialog","isOpen","onClose","VirtualizedItemListForDialog","items","_to_consumable_array","sort","a","b","compare","renderItem","TruncatedTextWithFullTextOnHover","text","DialogFooter","topBorder","Button","minutes","Math","floor","duration1","hours","days","trim","OverviewAssetsRoot","Header","TabButton","ASSET_CATALOG_TABLE_QUERY","notifyOnNetworkStatusChange","groupedAssetsUnfiltered","assets","groups","assetsOrError","nodes","forEach","definition","groupName","repositoryName","repository","name","key","target","Object","values","useQueryPersistedState","queryKey","decode","qs","searchQuery","JSON","parse","encode","stringify","searchValue","setSearchValue","groupedAssets","group","UNGROUPED_ASSETS","toLowerCase","parentRef","rowVirtualizer","useVirtualizer","count","getScrollElement","current","estimateSize","overscan","totalHeight","getTotalSize","getVirtualItems","position","top","zIndex","grow","selected","TextInput","onChange","e","placeholder","loading","Container","ref","VirtualHeaderRow","Inner","$totalHeight","index","size","VirtualRow","TEMPLATE_COLUMNS","border","fontSize","Gray600","White","HeaderCell","assetKeys","liveDataByNode","useLiveDataForAssetKeys","statuses","successful","inprogress","missing","keys","assetLiveData","find","toGraphId","console","warn","buildAssetNodeStatusContent","liveData","expanded","case","StatusCase","LOADING","SOURCE_OBSERVING","SOURCE_OBSERVED","SOURCE_NEVER_OBSERVED","SOURCE_NO_STATE","MATERIALIZING","LATE_OR_FAILED","NEVER_MATERIALIZED","MATERIALIZED","PARTITIONS_FAILED","PARTITIONS_MISSING","PARTITIONS_MATERIALIZED","repo","repoAddress","buildRepoAddress","location","useViewport","containerProps","viewport","isBatchStillLoading","Row","$height","$start","RowGrid","Cell","Icon","fontWeight","workspacePathFromAddress","RepositoryLinkWrapper","maxWidth","RepositoryLink","showRefresh","SelectOnHover","getCount","numMissing","adjective","Gray500","numFailed","borderLeft","borderRight","borderBottom","numMaterializing","numMaterialized","children","RowCell","Gray900","SelectWrapper","Select","itemPredicate","item","displayNameForAssetKey","toLocaleLowerCase","itemRenderer","LinkWithNoUnderline","MenuItem","paddingLeft","whiteSpace","textOverflow","Caption","partitionCountString","onItemSelect","RepoFilterButton","WorkspaceContext","allRepos","visibleRepos","toggleVisible","open","setOpen","canOutsideClickClose","canEscapeKeyClose","DialogHeader","RepoSelector","options","onBrowse","onToggle","rightIcon","useHourWindow","defaultValue","validate","useStateWithStorage","hourWindow","setHourWindow","setHourWindowWithDefault","SCHEDULE_FUTURE_TICKS_FRAGMENT","useRunsForTimeline","range","runsFilter","startSec","endSec","RUN_TIMELINE_QUERY","inProgressFilter","_object_spread_props","_object_spread","createdBefore","terminatedFilter","Array","from","doneStatuses","updatedAfter","tickCursor","ticksUntil","previousData","initialLoading","unterminated","terminated","workspaceOrError","runsByJobKey","run","startTime","repositoryOrigin","overlap","endTime","runJobKey","makeJobKey","repositoryLocationName","pipelineName","jobsWithRuns","jobs","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","locationEntries","Symbol","iterator","next","done","_loop","locationEntry","locationOrLoadError","_step1","repositories","pipelines","pipeline","schedules","schedule","jobTicks","scheduleState","InstigationStatus","RUNNING","futureTicks","err","return","isAdHoc","isHiddenAssetGroupJob","jobKey","jobName","jobRuns","jobsAndTicksToAdd","adHocJobs","job","jobType","runs","workspacePipelinePath","repoName","repoLocation","isJob","earliest","reduce","accum","startTimes","_define_property","min","repoAddressAsHumanString","RUN_TIME_FRAGMENT","hourWindowToOffset","OverviewTimelineRoot","setNow","offsetMsec","setOffsetMsec","defaults","search","timer","onPageEarlier","onPageLater","onPageNow","LOOKAHEAD_HOURS","visibleJobKeys","searchLower","flat","flatMap","repositoryLocation","Set","visibleJobs","has","ButtonGroup","activeItems","buttons","hrWindow","ErrorBoundary","region","RunTimeline","OverviewActivityRoot","header","json","defaultTab","setDefaultTab","tabButton","JoinedButtons","ActivatableButton","$active","Switch","Route","render","Redirect","useDelayedState","delayMsec","setValue","setTimeout","clearTimeout","SearchInputSpinner","tooltipContent","margin","Tooltip","placement","canShow","OverviewJobsTable","repos","allKeys","useRepoExpansionState","OVERVIEW_COLLAPSED_KEY","expandedKeys","onToggleAll","flattened","type","jobCount","repoKey","duplicateRepoNames","findDuplicateRepoNames","ii","row","VirtualizedJobHeader","RepoRow","showLocation","rightElement","VirtualizedJobRow","sortRepoBuckets","buckets","aString","bString","localeCompare","visibleRepoKeys","option","OverviewJobsRoot","repoCount","queryResultOverview","OVERVIEW_JOBS_QUERY","fetchPolicy","repoBuckets","visibleKeys","buildBuckets","sanitizedSearch","anySearch","filteredBySearch","searchToLower","showSearchSpinner","workspaceLoading","paddingTop","anyReposHidden","strong","entries","entry","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","OverviewResourcesTable","resources","resourceCount","resource","VirtualizedResourceHeader","VirtualizedResourceRow","OverviewResourcesRoot","OVERVIEW_RESOURCES_QUERY","allTopLevelResourceDetails","RESOURCE_ENTRY_FRAGMENT","UnloadableSensors","sensorStates","showSubheading","_param_showSubheading","Subheading","UnloadableSensorInfo","sensorState","SensorStateRow","UnloadableSchedules","scheduleStates","UnloadableScheduleInfo","ScheduleStateRow","Alert","element","selectorId","ticks","hasStopPermission","useMutation","STOP_SENSOR_MUTATION","onCompleted","displaySensorMutationErrors","stopSensor","confirm","useConfirmation","onChangeSwitch","_async_to_generator","_state","sent","jobOriginId","jobSelectorId","lacksPermission","latestTick","Checkbox","disabled","toggleOffInFlight","STOPPED","checked","DEFAULT_DISABLED_REASON","Group","spacing","InstigatorSelectorInformation","instigatorState","TickTag","tick","instigationType","InstigationType","SENSOR","Gray300","InstigatedRunStatus","instigationState","STOP_SCHEDULE_MUTATION","displayScheduleMutationErrors","stopSchedule","typeSpecificData","cronSchedule","scheduleOriginId","scheduleSelectorId","humanCronString","SCHEDULE","useCodeLocationFilter","setVisible","setHidden","allRepoAddresses","visibleRepoAddresses","useStaticSetFilter","initialState","allValues","match","getKey","renderLabel","getStringValue","onStateChanged","state","menuWidth","OverviewScheduleTable","headerCheckbox","checkedKeys","onToggleCheckFactory","scheduleCount","VirtualizedScheduleHeader","checkbox","scheduleKey","makeScheduleKey","VirtualizedScheduleRow","showCheckboxColumn","onToggleChecked","OverviewSchedulesRoot","codeLocationFilter","runningStateFilter","useInstigationStatusFilter","useFilters","button","activeFiltersJsx","OVERVIEW_SCHEDULES_QUERY","filteredBuckets","_param","rest","runningState","anySchedulesVisible","some","allPermissionedSchedules","filterPermissionedInstigationState","scheduleName","allPermissionedScheduleKeys","useSelectionReducer","checkedIds","onToggleFactory","permissionedKeysOnScreen","filteredKeys","checkedSchedules","checkedKeysOnScreen","viewerHasAnyInstigationPermission","checkedCount","filterButton","useDisabledButtonTooltipFix","ScheduleBulkActionMenu","onDone","unloadableInstigationStatesOrError","UnloadableSchedulesAlert","SchedulerInfo","CheckAllBox","totalCount","setIsOpen","UnloadableScheduleDialog","UNLOADABLE_SCHEDULES_QUERY","scheduleNames","BASIC_INSTIGATION_STATE_FRAGMENT","INSTIGATION_STATE_FRAGMENT","OverviewSensorTable","sensors","sensorCount","sensor","VirtualizedSensorHeader","sensorKey","makeSensorKey","VirtualizedSensorRow","OverviewSensorsRoot","OVERVIEW_SENSORS_QUERY","anySensorsVisible","allPermissionedSensors","sensorName","allPermissionedSensorKeys","checkedSensors","SensorBulkActionMenu","UnloadableSensorsAlert","SensorInfo","UnloadableSensorDialog","UNLOADABLE_SENSORS_QUERY","OverviewRoot","exact","overview_OverviewRoot","getDocumentTitle","useRunListTabs","RUN_TABS_COUNT_QUERY","queuedFilter","_swc_helpers_object_spread_props__WEBPACK_IMPORTED_MODULE_9__","_swc_helpers_object_spread__WEBPACK_IMPORTED_MODULE_10__","queuedStatuses","inProgressStatuses","countData","queuedCount","inProgressCount","filterTokens","useQueryPersistedRunFilters","selectedTab","useSelectedRunsTab","urlForStatus","tokensMinusStatus","statusTokens","_swc_helpers_to_consumable_array__WEBPACK_IMPORTED_MODULE_12__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__","failedStatuses","AnchorButton","Gray200","pathname","useLocation","isEqual"],"sourceRoot":""}